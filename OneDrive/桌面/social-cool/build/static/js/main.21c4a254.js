/*! For license information please see main.21c4a254.js.LICENSE.txt */
(()=>{var e={4540:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function T(e){return _(e)===h}t.isForwardRef=function(e){return _(e)===d}},5904:(e,t,n)=>{"use strict";e.exports=n(4540)},5172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7396);n(5173);var i=n(5043);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){s(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return c(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){s(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return c(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();l(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var b=function(){function e(t){var n=this;s(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return c(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),w=new(function(){function e(){var t=this;s(this,e),l(this,"targets",new Map),l(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new b(r);return t.targets.set(r,i),i})),l(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return c(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s;this.getTarget(o).addHandlers(a,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s,c=this.getTarget(o,!1);c&&(c.removeHandlers(a,e,g(t)),c.hasHandlers()||this.removeTarget(o))}}}]),e}()),_=function(e){function t(){return s(this,t),f(this,h(t).apply(this,arguments))}return u(t,i.PureComponent),c(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();l(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},4173:(e,t,n)=>{"use strict";var r;r=n(5172),e.exports=r.default,e.exports.instance=r.instance},7396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},3090:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var o=i+65;n[o]=[String.fromCharCode(o+32),String.fromCharCode(o)]}var s={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};s.Spacebar=s[" "],s.Digit0=s[0],s.Digit1=s[1],s.Digit2=s[2],s.Digit3=s[3],s.Digit4=s[4],s.Digit5=s[5],s.Digit6=s[6],s.Digit7=s[7],s.Digit8=s[8],s.Digit9=s[9],s.Tilde=s["~"],s.GraveAccent=s["`"],s.ExclamationPoint=s["!"],s.AtSign=s["@"],s.PoundSign=s["#"],s.PercentSign=s["%"],s.Caret=s["^"],s.Ampersand=s["&"],s.PlusSign=s["+"],s.MinusSign=s["-"],s.EqualsSign=s["="],s.DivisionSign=s["/"],s.MultiplicationSign=s["*"],s.Comma=s[","],s.Decimal=s["."],s.Colon=s[":"],s.Semicolon=s[";"],s.Pipe=s["|"],s.BackSlash=s["\\"],s.QuestionMark=s["?"],s.SingleQuote=s["'"],s.DoubleQuote=s['"'],s.LeftCurlyBrace=s["{"],s.RightCurlyBrace=s["}"],s.LeftParenthesis=s["("],s.RightParenthesis=s[")"],s.LeftAngleBracket=s["<"],s.RightAngleBracket=s[">"],s.LeftSquareBracket=s["["],s.RightSquareBracket=s["]"],e.exports=s},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),s=n(8734),a=n(2662);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),s=n(1946),a=n(1714);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),s=n(9394),a=n(6874);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8820:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),s=n(149),a=n(7574),c=n(8114),l=Math.min;e.exports=function(e,t,n){for(var u=n?o:i,h=e[0].length,d=e.length,f=d,p=Array(d),m=1/0,g=[];f--;){var v=e[f];f&&t&&(v=s(v,a(t))),m=l(v.length,m),p[f]=!n&&(t||h>=120&&v.length>=120)?new r(f&&v):void 0}v=e[0];var y=-1,b=p[0];e:for(;++y<h&&g.length<m;){var w=v[y],_=t?t(w):w;if(w=n||0!==w?w:0,!(b?c(b,_):u(g,_,n))){for(f=d;--f;){var T=p[f];if(!(T?c(T,_):u(e[f],_,n)))continue e}b&&b.push(_),g.push(w)}}return g}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),s=n(6996),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:a).test(s(e))}},8224:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object RegExp]"==r(e)}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),s=n(9841),a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8114:e=>{e.exports=function(e,t){return e.has(t)}},46:(e,t,n)=>{var r=n(6272);e.exports=function(e){return r(e)?e:[]}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(c){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),s=n(6686);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=o[s];return l[t]=n(c),r(e,this,l)}}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+l+c+")*"),h="(?:"+[o+r+"?",r,s,a,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");e.exports=function(e){return e.match(d)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3279:e=>{e.exports=function(e){return e}},1460:(e,t,n)=>{var r=n(149),i=n(8820),o=n(5647),s=n(46),a=o((function(e){var t=r(e,s);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=a},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6272:(e,t,n)=>{var r=n(6571),i=n(2761);e.exports=function(e){return i(e)&&r(e)}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},7376:(e,t,n)=>{var r=n(8224),i=n(7574),o=n(6832),s=o&&o.isRegExp,a=s?i(s):r;e.exports=a},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},5357:(e,t,n)=>{var r=n(8541),i=n(8189),o=n(6311),s=n(929),a=n(7376),c=n(9115),l=n(1069);e.exports=function(e,t,n){return n&&"number"!=typeof n&&s(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=l(e))&&("string"==typeof t||null!=t&&!a(t))&&!(t=r(t))&&o(e)?i(c(e),0,n):e.split(t,n):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case T:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ee=null,Se=null;function ke(e){if(e=bi(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Te(e.stateNode,e.type,t))}}function Ie(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Se)&&(Ae(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,c){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ge(i),e;if(s===r)return Ge(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Tt,Et,St,kt,It=!1,xt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Nt&&Vt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),hn=F({},ln,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),vn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var In=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(In),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function Yn(e){if(W(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,_e(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function kr(e){if(Er[e])return Er[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Ir=kr("animationend"),xr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),c(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,l){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=_e(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case Ir:case xr:case Cr:c=vn;break;case Ar:c=Nn;break;case"scroll":c=dn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==c&&Qr(s,a,c,u,!1),null!==l&&null!==h&&Qr(s,h,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Xn;else if(Gn(a))if($n)g=sr;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Pe(n,o))&&s.unshift(Kr(n,c,a)):i||null!=(c=Pe(n,o))&&s.push(Kr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Ti=[],Ei=-1;function Si(e){return{current:e}}function ki(e){0>Ei||(e.current=Ti[Ei],Ti[Ei]=null,Ei--)}function Ii(e,t){Ei++,Ti[Ei]=e.current,e.current=t}var xi={},Ci=Si(xi),Ai=Si(!1),Ni=xi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ai),ki(Ci)}function Di(e,t,n){if(Ci.current!==xi)throw Error(o(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Ii(Ci,e)):ki(Ai),Ii(Ai,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=$i,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),bo=null,wo=null,_o=null;function To(){_o=wo=bo=null}function Eo(e){var t=yo.current;ki(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function Co(e){null===xo?xo=[e]:xo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(s=0,u=l=c=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fc|=s,e.lanes=s,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rl(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Go(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Pi(t)?Ni:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Pi(t)?Ni:Ci.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case T:return(t=Ul(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case T:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,c){for(var l=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),io&&Ji(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(o=s(h,o,m),null===u?l=h:u.sibling=h,u=h);return io&&Ji(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Yo(l)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Wo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Ml(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Ll(s.type,s.key,s.props,null,r.mode,c)).ref=Wo(r,o,s),c.return=r,r=c)}return a(r);case T:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ul(s,r.mode,c)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),c)}if(te(s))return m(r,o,s,c);if(L(s))return g(r,o,s,c);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jl(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var $o=Xo(!0),Jo=Xo(!1),Zo={},es=Si(Zo),ts=Si(Zo),ns=Si(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ii(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ce(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var cs=Si(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function Ts(){throw Error(o(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,ds.current=la,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function xs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Cs(e,t){return"function"===typeof t?t(e):t}function As(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,l=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,ms.lanes|=h,Fc|=h}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ps(e,t){var n=ms,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Gs(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Us(9,Ds.bind(null,n,r,i,t),void 0,null),null===Nc)throw Error(o(349));0!==(30&ps)||Rs(n,t,i)}return i}function Rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=No(e,1);null!==t&&rl(t,e,1,-1)}function js(e){var t=Is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return xs().memoizedState}function Vs(e,t,n,r){var i=Is();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Es(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}ms.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function qs(e,t){return Vs(8390656,8,e,t)}function Gs(e,t){return Bs(2048,8,e,t)}function Ks(e,t){return Bs(4,2,e,t)}function Hs(e,t){return Bs(4,4,e,t)}function Ws(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Ws.bind(null,t,e),n)}function Ys(){}function Xs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fc|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return xs().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ao(e,t,n,r))){rl(n,e,r,tl()),oa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,Co(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ao(e,t,i,r))&&(rl(n,e,r,i=tl()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Io,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useInsertionEffect:Ts,useLayoutEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useMutableSource:Ts,useSyncExternalStore:Ts,useId:Ts,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:js,useDebugValue:Ys,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nc)throw Error(o(349));0!==(30&ps)||Rs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Nc.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Gs,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Hs,useMemo:$s,useReducer:As,useRef:zs,useState:function(){return As(Cs)},useDebugValue:Ys,useDeferredValue:function(e){return Js(xs(),gs.memoizedState,e)},useTransition:function(){return[As(Cs)[0],xs().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1},la={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Gs,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Hs,useMemo:$s,useReducer:Ns,useRef:zs,useState:function(){return Ns(Cs)},useDebugValue:Ys,useDeferredValue:function(e){var t=xs();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ns(Cs)[0],xs().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Hc=r),da(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Il.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Ta(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ss(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Dc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Dc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Dc,Rc),Rc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Dc,Rc),Rc|=r;return _a(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Pi(n)?Ni:Ci.current;return o=Oi(t,o),ko(t,i),n=Ss(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ga(e,t),Go(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Io(l):l=Oi(t,l=Pi(n)?Ni:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&Ko(t,s,r,l),Oo=!1;var d=t.memoizedState;s.state=d,jo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||Ai.current||Oo?("function"===typeof u&&(Vo(t,n,u,r),c=t.memoizedState),(a=Oo||qo(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ro(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:vo(t.type,a),s.props=l,h=t.pendingProps,d=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Io(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==c)&&Ko(t,s,r,c),Oo=!1,d=t.memoizedState,s.state=d,jo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Oo?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(l=Oo||qo(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ka(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Ra,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=cs.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(cs,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Fl(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(s=Ml(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,za(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Nc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),rl(r,e,i,-1))}return gl(),za(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=$i,Wi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dl(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(cs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wa(t),null;case 3:return r=t.stateNode,os(),ki(Ai),ki(Ci),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Ra(e,t),Wa(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wa(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,c))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(ki(cs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),s=!1}else null!==oo&&(al(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&cs.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return os(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Eo(t.type._context),Wa(t),null;case 19:if(ki(cs),null===(s=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Ha(s,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ls(e))){for(t.flags|=128,Ha(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(cs,1&cs.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>qc&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Wa(t),null}else 2*$e()-s.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=cs.current,Ii(cs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ai),ki(Ci),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(cs),null;case 4:return os(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){kl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tc(n,t,s),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!$a&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fc(e,t,n),$a=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(o(160));pc(s,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){kl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){kl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){kl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&$(i,s),be(c,a);var u=be(c,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=$e())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,gc(t,e),$a=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Tc(d);continue}}null!==p?(p.return=f,Za=p):Tc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){kl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;lc(e,cc(e),s);break;default:throw Error(o(161))}}catch(a){kl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Za=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||$a;a=Xa;var l=$a;if(Xa=s,($a=c)&&!l)for(Za=i;null!==Za;)c=(s=Za).child,22===s.tag&&null!==s.memoizedState?Ec(i):null!==c?(c.return=s,Za=c):Ec(i);for(;null!==o;)Za=o,wc(o,t,n),o=o.sibling;Za=i,Xa=a,$a=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}$a||512&t.flags&&oc(t)}catch(f){kl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Tc(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){kl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){kl(t,i,c)}}var o=t.return;try{oc(t)}catch(c){kl(t,o,c)}break;case 5:var s=t.return;try{oc(t)}catch(c){kl(t,s,c)}}}catch(c){kl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sc,kc=Math.ceil,Ic=w.ReactCurrentDispatcher,xc=w.ReactCurrentOwner,Cc=w.ReactCurrentBatchConfig,Ac=0,Nc=null,Oc=null,Pc=0,Rc=0,Dc=Si(0),Lc=0,Mc=null,Fc=0,jc=0,Uc=0,zc=null,Vc=null,Bc=0,qc=1/0,Gc=null,Kc=!1,Hc=null,Wc=null,Qc=!1,Yc=null,Xc=0,$c=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&Ac)?$e():-1!==Zc?Zc:Zc=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Pc?Pc&-Pc:null!==go.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rl(e,t,n,r){if(50<$c)throw $c=0,Jc=null,Error(o(185));vt(e,n,r),0!==(2&Ac)&&e===Nc||(e===Nc&&(0===(2&Ac)&&(jc|=n),4===Lc&&cl(e,Pc)),il(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(qc=$e()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Nc?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(ll.bind(null,e)):Vi(ll.bind(null,e)),si((function(){0===(6&Ac)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Zc=-1,el=0,0!==(6&Ac))throw Error(o(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Nc?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Ac;Ac|=2;var s=ml();for(Nc===e&&Pc===t||(Gc=null,qc=$e()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}To(),Ic.current=s,Ac=i,null!==Oc?t=0:(Nc=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,$e()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(s=pt(e))&&(r=s,t=sl(e,s))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Tl(e,Vc,Gc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Tl.bind(null,e,Vc,Gc),t);break}Tl(e,Vc,Gc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r)){e.timeoutHandle=ri(Tl.bind(null,e,Vc,Gc),r);break}Tl(e,Vc,Gc);break;default:throw Error(o(329))}}}return il(e,$e()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Vc,Vc=n,null!==t&&al(t)),e}function al(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function cl(e,t){for(t&=~Uc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ac))throw Error(o(327));El();var t=dt(e,0);if(0===(1&t))return il(e,$e()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e,Vc,Gc),il(e,$e()),null}function ul(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(qc=$e()+500,Ui&&Bi())}}function hl(e){null!==Yc&&0===Yc.tag&&0===(6&Ac)&&El();var t=Ac;Ac|=1;var n=Cc.transition,r=bt;try{if(Cc.transition=null,bt=1,e)return e()}finally{bt=r,Cc.transition=n,0===(6&(Ac=t))&&Bi()}}function dl(){Rc=Dc.current,ki(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Oc)for(n=Oc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:os(),ki(Ai),ki(Ci),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(cs);break;case 10:Eo(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Nc=e,Oc=e=Dl(e.current,null),Pc=Rc=t,Lc=0,Mc=null,Uc=jc=Fc=0,Vc=zc=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function pl(e,t){for(;;){var n=Oc;try{if(To(),ds.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,xc.current=null,null===n||null===n.return){Lc=1,Mc=t,Oc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(s,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(s,u,t),gl();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),mo(ua(l,c));break e}}s=l=ua(l,c),4!==Lc&&(Lc=2),null===zc?zc=[s]:zc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,l,t));break e;case 1:c=l;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,c,t));break e}}s=s.return}while(null!==s)}_l(n)}catch(w){t=w,Oc===n&&null!==n&&(Oc=n=n.return);continue}break}}function ml(){var e=Ic.current;return Ic.current=sa,null===e?sa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Nc||0===(268435455&Fc)&&0===(268435455&jc)||cl(Nc,Pc)}function vl(e,t){var n=Ac;Ac|=2;var r=ml();for(Nc===e&&Pc===t||(Gc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(To(),Ac=n,Ic.current=r,null!==Oc)throw Error(o(261));return Nc=null,Pc=0,Lc}function yl(){for(;null!==Oc;)wl(Oc)}function bl(){for(;null!==Oc&&!Ye();)wl(Oc)}function wl(e){var t=Sc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?_l(e):Oc=t,xc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rc)))return void(Oc=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Oc=n);if(null===e)return Lc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Tl(e,t,n){var r=bt,i=Cc.transition;try{Cc.transition=null,bt=1,function(e,t,n,r){do{El()}while(null!==Yc);if(0!==(6&Ac))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nc&&(Oc=Nc=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Nl(tt,(function(){return El(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cc.transition,Cc.transition=null;var a=bt;bt=1;var c=Ac;Ac|=4,xc.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Xe(),Ac=c,bt=a,Cc.transition=s}else e.current=n;if(Qc&&(Qc=!1,Yc=e,Xc=i),s=e.pendingLanes,0===s&&(Wc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Hc,Hc=null,e;0!==(1&Xc)&&0!==e.tag&&El(),s=e.pendingLanes,0!==(1&s)?e===Jc?$c++:($c=0,Jc=e):$c=0,Bi()}(e,t,n,r)}finally{Cc.transition=i,bt=r}return null}function El(){if(null!==Yc){var e=wt(Xc),t=Cc.transition,n=bt;try{if(Cc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Xc=0,0!==(6&Ac))throw Error(o(331));var i=Ac;for(Ac|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rc(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(T){kl(c,c.return,T)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(Ac=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(T){}r=!0}return r}finally{bt=n,Cc.transition=t}}return!1}function Sl(e,t,n){e=Lo(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function kl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Lo(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Il(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>$e()-Bc?fl(e,0):Uc|=n),il(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=No(e,t))&&(vt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xl(e,n)}function Nl(e,t){return We(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Ol(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ml(n.children,i,s,t);case S:a=8,i|=8;break;case k:return(e=Pl(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Pl(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Pl(19,n,t,i)).elementType=N,e.lanes=s,e;case R:return Fl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case x:a=9;break e;case C:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,o,s,a,c){return e=new zl(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Bl(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,o,s,a,c){return(e=Vl(n,r,!0,e,0,o,0,a,c)).context=Bl(null),n=e.current,(o=Do(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,o=tl(),s=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(rl(e,i,s,o),Mo(e,i,s)),s}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(cs,1&cs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ii(cs,1&cs.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ii(cs,1&cs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ka(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);ko(t,n),i=Ss(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=vo(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Ta(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Io(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ea(e,t,r,i=vo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ga(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Go(t,r,i),Ho(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Kl(s);a.call(e)}}Gl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kl(s);o.call(e)}}var s=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),hl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),hl((function(){Gl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(s)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Gl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,$e()),0===(6&Ac)&&(qc=$e()+500,Bi()))}break;case 13:hl((function(){var t=No(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},Tt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=No(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ul,Ae=hl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,xe,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(o(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,c,l,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(c=a;0!==c--;)if(!o(e[c],s[c]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!s.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!o(c.value[1],s.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(c=a;0!==c--;)if(e[c]!==s[c])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(l=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(c=a;0!==c--;)if(!Object.prototype.hasOwnProperty.call(s,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=a;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!o(e[l[c]],s[l[c]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},6682:(e,t,n)=>{var r=n(5043);function i(e){return"function"!==typeof matchMedia?null:matchMedia(e)}function o(e){return e?{media:e.media,matches:e.matches}:null}function s(e){var t=r.useState(!1),n=t[1];r.useEffect((function(){n(!0)}),[n]);var s=r.useState((function(){return o(i(e))})),a=s[1],c=r.useCallback((function(e){return a(o(e))}),[a]);return r.useEffect((function(){var t=i(e);return c(t),t&&t.addEventListener("change",c),function(){t&&t.removeEventListener("change",c)}}),[c,e]),t[0]?s[0]:null}e.exports={useMedia:s,useMediaPredicate:function(e){var t=s(e);return t&&t.matches||!1}}},8161:(e,t,n)=>{"use strict";var r,i=n(5043),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var c,l=[];function u(){c=e(l.map((function(e){return e.props}))),h.canUseDOM?t(c):n&&(c=n(c))}var h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return c},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,l=[],e};var s=i.prototype;return s.UNSAFE_componentWillMount=function(){l.push(this),u()},s.componentDidUpdate=function(){u()},s.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),u()},s.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return s(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),s(h,"canUseDOM",a),h}}},5670:(e,t,n)=>{"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1460)),o=u(n(5357)),s=u(n(5173)),a=n(5043),c=u(a),l=u(n(8102));function u(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=(0,o.default)(document.querySelector("html").className," "),t=(0,i.default)(e,["wf-loading","wf-active","wf-inactive"]).length>0;if(this.script&&!t){var n=this.props.kitId,r=document.createElement("script");r.innerHTML=(0,l.default)(n),this.script.parentNode.replaceChild(r,this.script)}}},{key:"render",value:function(){var e=this,t=this.props.kitId;return!!this.props.kitId&&c.default.createElement("script",{dangerouslySetInnerHTML:{__html:(0,l.default)(t)},ref:function(t){return e.script=t}})}}]),t}(a.Component);h.propTypes={kitId:s.default.string}},8102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"(function(d) {var config = { kitId: '"+e+'\', scriptTimeout: 3000, async: true }, h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\\bwf-loading\\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src=\'https://use.typekit.net/\'+config.kitId+\'.js\';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s) })(document);'}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+C(c,0):o,_(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+C(a=e[l],l);c+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=A(a=a.value,t,i,u=o+C(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,R(T);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function T(e,n){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var o=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!A());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,I=-1,x=5,C=-1;function A(){return!(t.unstable_now()-C<x)}function N(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof b)E=function(){b(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){v(N,0)};function R(e){k=e,S||(S=!0,E())}function D(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(g?(y(I),I=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(l,e),m||p||(m=!0,R(T))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},7324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!a(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>zs,SDK_VERSION:()=>vc,_DEFAULT_ENTRY_NAME:()=>tc,_addComponent:()=>sc,_addOrOverwriteComponent:()=>ac,_apps:()=>rc,_clearComponents:()=>fc,_components:()=>oc,_getProvider:()=>lc,_isFirebaseApp:()=>hc,_isFirebaseServerApp:()=>dc,_registerComponent:()=>cc,_removeServiceInstance:()=>uc,_serverApps:()=>ic,deleteApp:()=>Tc,getApp:()=>wc,getApps:()=>_c,initializeApp:()=>yc,initializeServerApp:()=>bc,onLog:()=>Sc,registerVersion:()=>Ec,setLogLevel:()=>kc});var t={};n.r(t),n.d(t,{addTrackers:()=>EO,default:()=>MO,event:()=>OO,exception:()=>PO,ga:()=>kO,initialize:()=>SO,modalview:()=>AO,outboundLink:()=>DO,pageview:()=>CO,plugin:()=>RO,send:()=>xO,set:()=>IO,testModeAPI:()=>LO,timing:()=>NO});var r,i=n(4391),o=n(5043),s=n.t(o,2),a=n(7950),c=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,c=r.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){c=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:c,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let w={get action(){return c},get location(){return e(o,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),d=e,()=>{o.removeEventListener(u,y),d=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let l=f(i,g),u=w.createHref(i);try{a.pushState(l,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(u)}s&&d&&d({action:c,location:w.location,delta:1})},replace:function(e,t){c=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let o=f(i,g),l=w.createHref(i);a.replaceState(o,"",l),s&&d&&d({action:c,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=P(r);o=N(i[s],e)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=j([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=_(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const T=/^:[\w-]+$/,E=3,S=2,k=1,I=10,x=-2,C=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=x),t&&(r+=S),n.filter((e=>!C(e))).reduce(((e,t)=>e+(T.test(t)?E:""===t?k:I)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;o.push({params:r,pathname:j([i,l.pathname]),pathnameBase:U(j([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=l({},e),h(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:V(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],G=(new Set(q),["get",...q]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const H=o.createContext(null);const W=o.createContext(null);const Q=o.createContext(null);const Y=o.createContext(null);const X=o.createContext({outlet:null,matches:[],isDataRoute:!1});const $=o.createContext(null);function J(){return null!=o.useContext(Y)}function Z(){return J()||h(!1),o.useContext(Y).location}function ee(e){o.useContext(Q).static||o.useLayoutEffect(e)}function te(){let{isDataRoute:e}=o.useContext(X);return e?function(){let{router:e}=he(le.UseNavigateStable),t=fe(ue.UseNavigateStable),n=o.useRef(!1);ee((()=>{n.current=!0}));let r=o.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t]);return r}():function(){J()||h(!1);let e=o.useContext(H),{basename:t,future:n,navigator:r}=o.useContext(Q),{matches:i}=o.useContext(X),{pathname:s}=Z(),a=JSON.stringify(M(i,n.v7_relativeSplatPath)),c=o.useRef(!1);return ee((()=>{c.current=!0})),o.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:j([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Q),{matches:i}=o.useContext(X),{pathname:s}=Z(),a=JSON.stringify(M(i,r.v7_relativeSplatPath));return o.useMemo((()=>F(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function re(e,t,n,i){J()||h(!1);let{navigator:s}=o.useContext(Q),{matches:a}=o.useContext(X),c=a[a.length-1],l=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,f=Z();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ce(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:j([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:j([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,i);return t&&w?o.createElement(Y.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=o.useContext($),n=de(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,null)}const oe=o.createElement(ie,null);class se extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(X.Provider,{value:this.props.routeContext},o.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,c=null==(i=n)?void 0:i.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<a.length;o++){let e=a[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let s,h=!1,d=null,f=null;var p;n&&(s=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||oe,l&&(u<0&&0===i?(p="route-fallback",!1||pe[p]||(pe[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?d:h?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=o.useContext(H);return t||h(!1),t}function de(e){let t=o.useContext(W);return t||h(!1),t}function fe(e){let t=function(e){let t=o.useContext(X);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const pe={};s.startTransition;function me(e){h(!1)}function ge(e){let{basename:t="/",children:n=null,location:i,navigationType:s=r.Pop,navigator:a,static:c=!1,future:l}=e;J()&&h(!1);let u=t.replace(/^\/*/,"/"),d=o.useMemo((()=>({basename:u,navigator:a,static:c,future:K({v7_relativeSplatPath:!1},l)})),[u,l,a,c]);"string"===typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=i,b=o.useMemo((()=>{let e=R(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:s}}),[u,f,p,m,v,y,s]);return null==b?null:o.createElement(Q.Provider,{value:d},o.createElement(Y.Provider,{children:n,value:b}))}function ve(e){let{children:t,location:n}=e;return re(ye(t),n)}new Promise((()=>{}));o.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==me&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,i)),n.push(s)})),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(OW){}new Map;const Te=s.startTransition;c.flushSync,s.useId;function Ee(e){let{basename:t,children:n,future:r,window:i}=e,s=o.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let c=s.current,[l,u]=o.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},d=o.useCallback((e=>{h&&Te?Te((()=>u(e))):u(e)}),[u,h]);return o.useLayoutEffect((()=>c.listen(d)),[c,d]),o.createElement(ge,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:r})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=we(e,_e),{basename:g}=o.useContext(Q),v=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Se))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(OW){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||h(!1);let{basename:r,navigator:i}=o.useContext(Q),{hash:s,pathname:a,search:c}=ne(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:j([r,a])),i.createHref({pathname:l,search:c,hash:s})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=te(),u=Z(),h=ne(e,{relative:a});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}}),[u,l,h,r,i,n,e,s,a,c])}(u,{replace:a,state:c,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});return o.createElement("a",be({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));var xe,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xe||(xe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ne(e,t)}const Pe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};const Re=function(){this.__data__=[],this.size=0};const De=function(e,t){return e===t||e!==e&&t!==t};const Le=function(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1};var Me=Array.prototype.splice;const Fe=function(e){var t=this.__data__,n=Le(t,e);return!(n<0)&&(n==t.length-1?t.pop():Me.call(t,n,1),--this.size,!0)};const je=function(e){var t=this.__data__,n=Le(t,e);return n<0?void 0:t[n][1]};const Ue=function(e){return Le(this.__data__,e)>-1};const ze=function(e,t){var n=this.__data__,r=Le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ve.prototype.clear=Re,Ve.prototype.delete=Fe,Ve.prototype.get=je,Ve.prototype.has=Ue,Ve.prototype.set=ze;const Be=Ve;const qe=function(){this.__data__=new Be,this.size=0};const Ge=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Ke=function(e){return this.__data__.get(e)};const He=function(e){return this.__data__.has(e)};const We="object"==typeof global&&global&&global.Object===Object&&global;var Qe="object"==typeof self&&self&&self.Object===Object&&self;const Ye=We||Qe||Function("return this")();const Xe=Ye.Symbol;var $e=Object.prototype,Je=$e.hasOwnProperty,Ze=$e.toString,et=Xe?Xe.toStringTag:void 0;const tt=function(e){var t=Je.call(e,et),n=e[et];try{e[et]=void 0;var r=!0}catch(OW){}var i=Ze.call(e);return r&&(t?e[et]=n:delete e[et]),i};var nt=Object.prototype.toString;const rt=function(e){return nt.call(e)};var it=Xe?Xe.toStringTag:void 0;const ot=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":it&&it in Object(e)?tt(e):rt(e)};const st=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const at=function(e){if(!st(e))return!1;var t=ot(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const ct=Ye["__core-js_shared__"];var lt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const ut=function(e){return!!lt&&lt in e};var ht=Function.prototype.toString;const dt=function(e){if(null!=e){try{return ht.call(e)}catch(OW){}try{return e+""}catch(OW){}}return""};var ft=/^\[object .+?Constructor\]$/,pt=Function.prototype,mt=Object.prototype,gt=pt.toString,vt=mt.hasOwnProperty,yt=RegExp("^"+gt.call(vt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const bt=function(e){return!(!st(e)||ut(e))&&(at(e)?yt:ft).test(dt(e))};const wt=function(e,t){return null==e?void 0:e[t]};const _t=function(e,t){var n=wt(e,t);return bt(n)?n:void 0};const Tt=_t(Ye,"Map");const Et=_t(Object,"create");const St=function(){this.__data__=Et?Et(null):{},this.size=0};const kt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var It=Object.prototype.hasOwnProperty;const xt=function(e){var t=this.__data__;if(Et){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return It.call(t,e)?t[e]:void 0};var Ct=Object.prototype.hasOwnProperty;const At=function(e){var t=this.__data__;return Et?void 0!==t[e]:Ct.call(t,e)};const Nt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Et&&void 0===t?"__lodash_hash_undefined__":t,this};function Ot(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ot.prototype.clear=St,Ot.prototype.delete=kt,Ot.prototype.get=xt,Ot.prototype.has=At,Ot.prototype.set=Nt;const Pt=Ot;const Rt=function(){this.size=0,this.__data__={hash:new Pt,map:new(Tt||Be),string:new Pt}};const Dt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Lt=function(e,t){var n=e.__data__;return Dt(t)?n["string"==typeof t?"string":"hash"]:n.map};const Mt=function(e){var t=Lt(this,e).delete(e);return this.size-=t?1:0,t};const Ft=function(e){return Lt(this,e).get(e)};const jt=function(e){return Lt(this,e).has(e)};const Ut=function(e,t){var n=Lt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zt.prototype.clear=Rt,zt.prototype.delete=Mt,zt.prototype.get=Ft,zt.prototype.has=jt,zt.prototype.set=Ut;const Vt=zt;const Bt=function(e,t){var n=this.__data__;if(n instanceof Be){var r=n.__data__;if(!Tt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vt(r)}return n.set(e,t),this.size=n.size,this};function qt(e){var t=this.__data__=new Be(e);this.size=t.size}qt.prototype.clear=qe,qt.prototype.delete=Ge,qt.prototype.get=Ke,qt.prototype.has=He,qt.prototype.set=Bt;const Gt=qt;const Kt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Ht=function(e){return this.__data__.has(e)};function Wt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vt;++t<n;)this.add(e[t])}Wt.prototype.add=Wt.prototype.push=Kt,Wt.prototype.has=Ht;const Qt=Wt;const Yt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const Xt=function(e,t){return e.has(t)};const $t=function(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&n?new Qt:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Yt(t,(function(e,t){if(!Xt(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};const Jt=Ye.Uint8Array;const Zt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const en=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var tn=Xe?Xe.prototype:void 0,nn=tn?tn.valueOf:void 0;const rn=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Jt(e),new Jt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return De(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Zt;case"[object Set]":var c=1&r;if(a||(a=en),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=$t(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(nn)return nn.call(e)==nn.call(t)}return!1};const on=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const sn=Array.isArray;const an=function(e,t,n){var r=t(e);return sn(e)?r:on(r,n(e))};const cn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const ln=function(){return[]};var un=Object.prototype.propertyIsEnumerable,hn=Object.getOwnPropertySymbols;const dn=hn?function(e){return null==e?[]:(e=Object(e),cn(hn(e),(function(t){return un.call(e,t)})))}:ln;const fn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const pn=function(e){return null!=e&&"object"==typeof e};const mn=function(e){return pn(e)&&"[object Arguments]"==ot(e)};var gn=Object.prototype,vn=gn.hasOwnProperty,yn=gn.propertyIsEnumerable;const bn=mn(function(){return arguments}())?mn:function(e){return pn(e)&&vn.call(e,"callee")&&!yn.call(e,"callee")};const wn=function(){return!1};var _n="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tn=_n&&"object"==typeof module&&module&&!module.nodeType&&module,En=Tn&&Tn.exports===_n?Ye.Buffer:void 0;const Sn=(En?En.isBuffer:void 0)||wn;var kn=/^(?:0|[1-9]\d*)$/;const In=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&kn.test(e))&&e>-1&&e%1==0&&e<t};const xn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Cn={};Cn["[object Float32Array]"]=Cn["[object Float64Array]"]=Cn["[object Int8Array]"]=Cn["[object Int16Array]"]=Cn["[object Int32Array]"]=Cn["[object Uint8Array]"]=Cn["[object Uint8ClampedArray]"]=Cn["[object Uint16Array]"]=Cn["[object Uint32Array]"]=!0,Cn["[object Arguments]"]=Cn["[object Array]"]=Cn["[object ArrayBuffer]"]=Cn["[object Boolean]"]=Cn["[object DataView]"]=Cn["[object Date]"]=Cn["[object Error]"]=Cn["[object Function]"]=Cn["[object Map]"]=Cn["[object Number]"]=Cn["[object Object]"]=Cn["[object RegExp]"]=Cn["[object Set]"]=Cn["[object String]"]=Cn["[object WeakMap]"]=!1;const An=function(e){return pn(e)&&xn(e.length)&&!!Cn[ot(e)]};const Nn=function(e){return function(t){return e(t)}};var On="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pn=On&&"object"==typeof module&&module&&!module.nodeType&&module,Rn=Pn&&Pn.exports===On&&We.process,Dn=function(){try{var e=Pn&&Pn.require&&Pn.require("util").types;return e||Rn&&Rn.binding&&Rn.binding("util")}catch(OW){}}();var Ln=Dn&&Dn.isTypedArray;const Mn=Ln?Nn(Ln):An;var Fn=Object.prototype.hasOwnProperty;const jn=function(e,t){var n=sn(e),r=!n&&bn(e),i=!n&&!r&&Sn(e),o=!n&&!r&&!i&&Mn(e),s=n||r||i||o,a=s?fn(e.length,String):[],c=a.length;for(var l in e)!t&&!Fn.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||In(l,c))||a.push(l);return a};var Un=Object.prototype;const zn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Un)};const Vn=function(e,t){return function(n){return e(t(n))}};const Bn=Vn(Object.keys,Object);var qn=Object.prototype.hasOwnProperty;const Gn=function(e){if(!zn(e))return Bn(e);var t=[];for(var n in Object(e))qn.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Kn=function(e){return null!=e&&xn(e.length)&&!at(e)};const Hn=function(e){return Kn(e)?jn(e):Gn(e)};const Wn=function(e){return an(e,Hn,dn)};var Qn=Object.prototype.hasOwnProperty;const Yn=function(e,t,n,r,i,o){var s=1&n,a=Wn(e),c=a.length;if(c!=Wn(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:Qn.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var m=e[u=a[l]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f};const Xn=_t(Ye,"DataView");const $n=_t(Ye,"Promise");const Jn=_t(Ye,"Set");const Zn=_t(Ye,"WeakMap");var er="[object Map]",tr="[object Promise]",nr="[object Set]",rr="[object WeakMap]",ir="[object DataView]",or=dt(Xn),sr=dt(Tt),ar=dt($n),cr=dt(Jn),lr=dt(Zn),ur=ot;(Xn&&ur(new Xn(new ArrayBuffer(1)))!=ir||Tt&&ur(new Tt)!=er||$n&&ur($n.resolve())!=tr||Jn&&ur(new Jn)!=nr||Zn&&ur(new Zn)!=rr)&&(ur=function(e){var t=ot(e),n="[object Object]"==t?e.constructor:void 0,r=n?dt(n):"";if(r)switch(r){case or:return ir;case sr:return er;case ar:return tr;case cr:return nr;case lr:return rr}return t});const hr=ur;var dr="[object Arguments]",fr="[object Array]",pr="[object Object]",mr=Object.prototype.hasOwnProperty;const gr=function(e,t,n,r,i,o){var s=sn(e),a=sn(t),c=s?fr:hr(e),l=a?fr:hr(t),u=(c=c==dr?pr:c)==pr,h=(l=l==dr?pr:l)==pr,d=c==l;if(d&&Sn(e)){if(!Sn(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Gt),s||Mn(e)?$t(e,t,n,r,i,o):rn(e,t,c,n,r,i,o);if(!(1&n)){var f=u&&mr.call(e,"__wrapped__"),p=h&&mr.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Gt),i(m,g,n,r,o)}}return!!d&&(o||(o=new Gt),Yn(e,t,n,r,i,o))};const vr=function e(t,n,r,i,o){return t===n||(null==t||null==n||!pn(t)&&!pn(n)?t!==t&&n!==n:gr(t,n,r,i,e,o))};const yr=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var h=new Gt;if(r)var d=r(l,u,c,e,t,h);if(!(void 0===d?vr(u,l,3,r,h):d))return!1}}return!0};const br=function(e){return e===e&&!st(e)};const wr=function(e){for(var t=Hn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,br(i)]}return t};const _r=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Tr=function(e){var t=wr(e);return 1==t.length&&t[0][2]?_r(t[0][0],t[0][1]):function(n){return n===e||yr(n,e,t)}};const Er=function(e){return"symbol"==typeof e||pn(e)&&"[object Symbol]"==ot(e)};var Sr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kr=/^\w*$/;const Ir=function(e,t){if(sn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Er(e))||(kr.test(e)||!Sr.test(e)||null!=t&&e in Object(t))};function xr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xr.Cache||Vt),n}xr.Cache=Vt;const Cr=xr;var Ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nr=/\\(\\)?/g;const Or=function(e){var t=Cr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ar,(function(e,n,r,i){t.push(r?i.replace(Nr,"$1"):n||e)})),t}));var Pr=Xe?Xe.prototype:void 0,Rr=Pr?Pr.toString:void 0;const Dr=function e(t){if("string"==typeof t)return t;if(sn(t))return Pe(t,e)+"";if(Er(t))return Rr?Rr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Lr=function(e){return null==e?"":Dr(e)};const Mr=function(e,t){return sn(e)?e:Ir(e,t)?[e]:Or(Lr(e))};const Fr=function(e){if("string"==typeof e||Er(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const jr=function(e,t){for(var n=0,r=(t=Mr(t,e)).length;null!=e&&n<r;)e=e[Fr(t[n++])];return n&&n==r?e:void 0};const Ur=function(e,t,n){var r=null==e?void 0:jr(e,t);return void 0===r?n:r};const zr=function(e,t){return null!=e&&t in Object(e)};const Vr=function(e,t,n){for(var r=-1,i=(t=Mr(t,e)).length,o=!1;++r<i;){var s=Fr(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&xn(i)&&In(s,i)&&(sn(e)||bn(e))};const Br=function(e,t){return null!=e&&Vr(e,t,zr)};const qr=function(e,t){return Ir(e)&&br(t)?_r(Fr(e),t):function(n){var r=Ur(n,e);return void 0===r&&r===t?Br(n,e):vr(t,r,3)}};const Gr=function(e){return e};const Kr=function(e){return function(t){return null==t?void 0:t[e]}};const Hr=function(e){return function(t){return jr(t,e)}};const Wr=function(e){return Ir(e)?Kr(Fr(e)):Hr(e)};const Qr=function(e){return"function"==typeof e?e:null==e?Gr:"object"==typeof e?sn(e)?qr(e[0],e[1]):Tr(e):Wr(e)};const Yr=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}();const Xr=function(e,t){return function(n,r){if(null==n)return n;if(!Kn(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}};const $r=Xr((function(e,t){return e&&Yr(e,t,Hn)}));const Jr=function(e,t){var n=-1,r=Kn(e)?Array(e.length):[];return $r(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const Zr=function(e,t){return(sn(e)?Pe:Jr)(e,Qr(t,3))};const ei=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const ti=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const ni=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const ri=function(e,t){return t.length<2?e:jr(e,ni(t,0,-1))};const ii=function(e,t,n){t=Mr(t,e);var r=null==(e=ri(e,t))?e:e[Fr(ti(t))];return null==r?void 0:ei(r,e,n)};var oi=Math.max;const si=function(e,t,n){return t=oi(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=oi(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),ei(e,this,a)}};const ai=function(e){return function(){return e}};const ci=function(){try{var e=_t(Object,"defineProperty");return e({},"",{}),e}catch(OW){}}();const li=ci?function(e,t){return ci(e,"toString",{configurable:!0,enumerable:!1,value:ai(t),writable:!0})}:Gr;var ui=Date.now;const hi=function(e){var t=0,n=0;return function(){var r=ui(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const di=hi(li);const fi=function(e,t){return di(si(e,t,Gr),e+"")};const pi=fi(ii);function mi(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=mi(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const gi=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=mi(e))&&(r&&(r+=" "),r+=t);return r};var vi={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function yi(e){var t=typeof e;return"string"===t||"number"===t?vi[e]||e:""}var bi=function(e,t){return e&&t},wi=function(e,t){return e&&!0!==e&&e+" "+t},_i=function(e,t){return e&&(!0===e?t:e+" "+t)},Ti=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},Ei=function(e){return"justified"===e?"justified":wi(e,"aligned")},Si=function(e){return wi(e,"aligned")},ki=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?yi(e):yi(e)+" "+t};const Ii=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const xi=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":i.as||"div"};const Ci=function(e,t){var n;return $r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const Ai=function(e,t,n){if(!st(n))return!1;var r=typeof t;return!!("number"==r?Kn(n)&&In(t,n.length):"string"==r&&t in n)&&De(n[t],e)};const Ni=function(e,t,n){var r=sn(e)?Yt:Ci;return n&&Ai(e,t,n)&&(t=void 0),r(e,Qr(t,3))};var Oi=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};const Pi=function(e){return void 0===e};var Ri=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=o.autoControlledProps,a=o.getAutoControlledStateFromProps,c=pi(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},l=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,o=t[e];if(void 0!==o)return o;if(r){var s=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==s)return s;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=Ae({},c,l,{autoControlledProps:s,getAutoControlledStateFromProps:a}),t}return Oe(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Pi(e[n])&&(t[n]=e[n]),t}),{});if(r){var o=r(e,Ae({},t,i),t);return Ae({},i,o)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(o.Component);const Di=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const Li=function(e){return e!==e};const Mi=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const Fi=function(e,t,n){return t===t?Mi(e,t,n):Di(e,Li,n)};const ji=function(e,t){return!!(null==e?0:e.length)&&Fi(e,t,0)>-1};const Ui=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const zi=function(){};var Vi=Jn&&1/en(new Jn([,-0]))[1]==1/0?function(e){return new Jn(e)}:zi;const Bi=Vi;const qi=function(e,t,n){var r=-1,i=ji,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Ui;else if(o>=200){var l=t?null:Bi(e);if(l)return en(l);s=!1,i=Xt,c=new Qt}else c=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a};const Gi=function(e){return e&&e.length?qi(e):[]};const Ki=Vn(Object.getPrototypeOf,Object);var Hi=Function.prototype,Wi=Object.prototype,Qi=Hi.toString,Yi=Wi.hasOwnProperty,Xi=Qi.call(Object);const $i=function(e){if(!pn(e)||"[object Object]"!=ot(e))return!1;var t=Ki(e);if(null===t)return!0;var n=Yi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Qi.call(n)==Xi};const Ji=function(e){return"number"==typeof e||pn(e)&&"[object Number]"==ot(e)};const Zi=function(e){return"string"==typeof e||!sn(e)&&pn(e)&&"[object String]"==ot(e)};const eo=function(e){return!0===e||!1===e||pn(e)&&"[object Boolean]"==ot(e)};const to=function(e){return null==e};function no(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(to(n)||eo(n))return null;var i=Zi(n),s=Ji(n),a=at(n),c=o.isValidElement(n),l=$i(n),u=i||s||sn(n);if(!a&&!c&&!l&&!u)return null;var h=r.defaultProps,d=void 0===h?{}:h,f=c&&n.props||l&&n||u&&t(n),p=r.overrideProps,m=void 0===p?{}:p;m=at(m)?m(Ae({},d,f)):m;var g=Ae({},d,f,m);if(d.className||m.className||f.className){var v=gi(d.className,m.className,f.className);g.className=Gi(v.split(" ")).join(" ")}if((d.style||m.style||f.style)&&(g.style=Ae({},d.style,f.style,m.style)),to(g.key)){var y=g.childKey,b=r.autoGenerateKey,w=void 0===b||b;to(y)?w&&(i||s)&&(g.key=n):(g.key="function"===typeof y?y(g):y,delete g.childKey)}return c?o.cloneElement(n,g):"function"===typeof g.children?g.children(e,Ae({},g,{children:void 0})):u||l?o.createElement(e,g):a?n(e,g,g.children):void 0}function ro(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return no(e,t,n,r)}}var io=ro("img",(function(e){return{src:e}})),oo=ro("input",(function(e){return{type:e}})),so=ro("label",(function(e){return{children:e}})),ao=ro("p",(function(e){return{children:e}}));function co(e){var t=e.children,n=e.className,r=e.content,i=gi("header",n),s=Ii(co,e),a=xi(co,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}co.handledProps=["as","children","className","content"],co.propTypes={};const lo=co;const uo=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const ho=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var fo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,po=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const mo=function(e){return(e=Lr(e))&&e.replace(fo,ho).replace(po,"")};var go=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const vo=function(e){return e.match(go)||[]};var yo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const bo=function(e){return yo.test(e)};var wo="\\ud800-\\udfff",_o="\\u2700-\\u27bf",To="a-z\\xdf-\\xf6\\xf8-\\xff",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",So="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ko="["+So+"]",Io="\\d+",xo="["+_o+"]",Co="["+To+"]",Ao="[^"+wo+So+Io+_o+To+Eo+"]",No="(?:\\ud83c[\\udde6-\\uddff]){2}",Oo="[\\ud800-\\udbff][\\udc00-\\udfff]",Po="["+Eo+"]",Ro="(?:"+Co+"|"+Ao+")",Do="(?:"+Po+"|"+Ao+")",Lo="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Mo="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Fo="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",jo="[\\ufe0e\\ufe0f]?",Uo=jo+Fo+("(?:\\u200d(?:"+["[^"+wo+"]",No,Oo].join("|")+")"+jo+Fo+")*"),zo="(?:"+[xo,No,Oo].join("|")+")"+Uo,Vo=RegExp([Po+"?"+Co+"+"+Lo+"(?="+[ko,Po,"$"].join("|")+")",Do+"+"+Mo+"(?="+[ko,Po+Ro,"$"].join("|")+")",Po+"?"+Ro+"+"+Lo,Po+"+"+Mo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Io,zo].join("|"),"g");const Bo=function(e){return e.match(Vo)||[]};const qo=function(e,t,n){return e=Lr(e),void 0===(t=n?void 0:t)?bo(e)?Bo(e):vo(e):e.match(t)||[]};var Go=RegExp("['\u2019]","g");const Ko=function(e){return function(t){return uo(qo(mo(t).replace(Go,"")),e,"")}};const Ho=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:ni(e,t,n)};var Wo=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Qo=function(e){return Wo.test(e)};const Yo=function(e){return e.split("")};var Xo="\\ud800-\\udfff",$o="["+Xo+"]",Jo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zo="\\ud83c[\\udffb-\\udfff]",es="[^"+Xo+"]",ts="(?:\\ud83c[\\udde6-\\uddff]){2}",ns="[\\ud800-\\udbff][\\udc00-\\udfff]",rs="(?:"+Jo+"|"+Zo+")"+"?",is="[\\ufe0e\\ufe0f]?",os=is+rs+("(?:\\u200d(?:"+[es,ts,ns].join("|")+")"+is+rs+")*"),ss="(?:"+[es+Jo+"?",Jo,ts,ns,$o].join("|")+")",as=RegExp(Zo+"(?="+Zo+")|"+ss+os,"g");const cs=function(e){return e.match(as)||[]};const ls=function(e){return Qo(e)?cs(e):Yo(e)};const us=function(e){return function(t){t=Lr(t);var n=Qo(t)?ls(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ho(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");const hs=Ko((function(e,t,n){return e+(n?" ":"")+us(t)}));function ds(e){var t=e.children,n=e.className,r=e.content,i=e.size,s=gi(i,"icons",n),a=Ii(ds,e),c=xi(ds,e);return o.createElement(c,Ae({},a,{className:s}),Oi(t)?r:t)}ds.handledProps=["as","children","className","content","size"],ds.propTypes={},ds.defaultProps={as:"i"};const fs=ds;var ps=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():pi(t.props,"onClick",e,t.props)},t}Oe(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return to(n)?e["aria-hidden"]="true":e["aria-label"]=n,to(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,i=e.className,s=e.color,a=e.corner,c=e.disabled,l=e.fitted,u=e.flipped,h=e.inverted,d=e.link,f=e.loading,p=e.name,m=e.rotated,g=e.size,v=gi(s,p,g,bi(n,"bordered"),bi(r,"circular"),bi(c,"disabled"),bi(l,"fitted"),bi(h,"inverted"),bi(d,"link"),bi(f,"loading"),_i(a,"corner"),wi(u,"flipped"),wi(m,"rotated"),"icon",i),y=Ii(t,this.props),b=xi(t,this.props),w=this.getIconAriaOptions();return o.createElement(b,Ae({},y,w,{className:v,onClick:this.handleClick}))},t}(o.PureComponent);ps.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],ps.propTypes={},ps.defaultProps={as:"i"},ps.Group=fs,ps.create=ro(ps,(function(e){return{name:e}}));const ms=ps;var gs=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||pi(t.props,"onClick",e,t.props)},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,s=e.color,a=e.content,c=e.disabled,l=e.fitted,u=e.header,h=e.icon,d=e.link,f=e.name,p=e.onClick,m=e.position,g=gi(s,m,bi(n,"active"),bi(c,"disabled"),bi(!0===h||h&&!(f||a),"icon"),bi(u,"header"),bi(d,"link"),_i(l,"fitted"),"item",i),v=xi(t,this.props,(function(){if(p)return"a"})),y=Ii(t,this.props);return Oi(r)?o.createElement(v,Ae({},y,{className:g,onClick:this.handleClick}),ms.create(h,{autoGenerateKey:!1}),Oi(a)?hs(f):a):o.createElement(v,Ae({},y,{className:g,onClick:this.handleClick}),r)},t}(o.Component);function vs(e){var t=e.children,n=e.className,r=e.content,i=e.position,s=gi(i,"menu",n),a=Ii(vs,e),c=xi(vs,e);return o.createElement(c,Ae({},a,{className:s}),Oi(t)?r:t)}gs.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],gs.propTypes={},gs.create=ro(gs,(function(e){return{content:e,name:e}})),vs.handledProps=["as","children","className","content","position"],vs.propTypes={};const ys=vs;var bs=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),pi(e,"onClick",n,r),pi(t.props,"onItemClick",n,r)}}},t}Oe(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Zr(t,(function(t,r){return gs.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,i=e.children,s=e.className,a=e.color,c=e.compact,l=e.fixed,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.pagination,m=e.pointing,g=e.secondary,v=e.size,y=e.stackable,b=e.tabular,w=e.text,_=e.vertical,T=e.widths,E=gi("ui",a,v,bi(r,"borderless"),bi(c,"compact"),bi(h,"fluid"),bi(f,"inverted"),bi(p,"pagination"),bi(m,"pointing"),bi(g,"secondary"),bi(y,"stackable"),bi(w,"text"),bi(_,"vertical"),_i(n,"attached"),_i(u,"floated"),_i(d,"icon"),_i(b,"tabular"),wi(l,"fixed"),ki(T,"item"),s,"menu"),S=Ii(t,this.props),k=xi(t,this.props);return o.createElement(k,Ae({},S,{className:E}),Oi(i)?this.renderItems():i)},t}(Ri);bs.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],bs.propTypes={},bs.autoControlledProps=["activeIndex"],bs.Header=lo,bs.Item=gs,bs.Menu=ys,bs.create=ro(bs,(function(e){return{items:e}}));const ws=bs,_s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ts={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Es;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Es extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ss=function(e){return function(e){const t=_s(e);return Ts.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ks=function(e){try{return Ts.decodeString(e,!0)}catch(OW){console.error("base64Decode failed: ",OW)}return null};function Is(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Is(e[n],t[n]));return e}const xs=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Cs=()=>{try{return xs()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAeAAibL38Wtmx71nUC0hzp9KXqgiZD3ZU",REACT_APP_FIREBASE_APP_ID:"1:125121224873:web:de147e4178441fc1b1c9b8",REACT_APP_FIREBASE_AUTH_DOMAIN:"socialcool-93b74.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-YQPL48DG7D",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"125121224873",REACT_APP_FIREBASE_PROJECT_ID:"socialcool-93b74",REACT_APP_FIREBASE_STORAGE_BUCKET:"socialcool-93b74.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(OW){return}const t=e&&ks(e[1]);return t&&JSON.parse(t)})()}catch(OW){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(OW))}},As=()=>{var e;return null===(e=Cs())||void 0===e?void 0:e.config};class Ns{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Os(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ss(JSON.stringify({alg:"none",type:"JWT"})),Ss(JSON.stringify(o)),""].join(".")}function Ps(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rs(){var e;const t=null===(e=Cs())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(OW){return!1}}function Ds(){return"object"===typeof self&&self.self===self}function Ls(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ms(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fs(){const e=Ps();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function js(){return!Rs()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Us(){try{return"object"===typeof indexedDB}catch(OW){return!1}}class zs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Bs,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new zs(n,o,t)}}const Bs=/\{\$([^}]+)}/g;function qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ks(n)&&Ks(o)){if(!Gs(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ks(e){return null!==e&&"object"===typeof e}function Hs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ws(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qs(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ys(e,t){const n=new Xs(e,t);return n.subscribe.bind(n)}class Xs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$s),void 0===r.error&&(r.error=$s),void 0===r.complete&&(r.complete=$s);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(OW){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(OW){"undefined"!==typeof console&&console.error&&console.error(OW)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function $s(){}function Js(e){return e&&e._delegate?e._delegate:e}class Zs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class ta{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ns;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(OW){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(OW){if(r)return null;throw OW}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch(OW){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(OW){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ea?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class na{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ta(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ra=[];var ia;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ia||(ia={}));const oa={debug:ia.DEBUG,verbose:ia.VERBOSE,info:ia.INFO,warn:ia.WARN,error:ia.ERROR,silent:ia.SILENT},sa=ia.INFO,aa={[ia.DEBUG]:"log",[ia.VERBOSE]:"log",[ia.INFO]:"info",[ia.WARN]:"warn",[ia.ERROR]:"error"},ca=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=aa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class la{constructor(e){this.name=e,this._logLevel=sa,this._logHandler=ca,this._userLogHandler=null,ra.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ia))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?oa[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ia.DEBUG,...t),this._logHandler(this,ia.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ia.VERBOSE,...t),this._logHandler(this,ia.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ia.INFO,...t),this._logHandler(this,ia.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ia.WARN,...t),this._logHandler(this,ia.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ia.ERROR,...t),this._logHandler(this,ia.ERROR,...t)}}const ua=(e,t)=>t.some((t=>e instanceof t));let ha,da;const fa=new WeakMap,pa=new WeakMap,ma=new WeakMap,ga=new WeakMap,va=new WeakMap;let ya={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ma.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ba(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(da||(da=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ta(this),n),_a(fa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _a(e.apply(Ta(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ta(this),t,...r);return ma.set(o,t.sort?t.sort():[t]),_a(o)}}function wa(e){return"function"===typeof e?ba(e):(e instanceof IDBTransaction&&function(e){if(pa.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));pa.set(e,t)}(e),ua(e,ha||(ha=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ya):e)}function _a(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(_a(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&fa.set(t,e)})).catch((()=>{})),va.set(t,e),t}(e);if(ga.has(e))return ga.get(e);const t=wa(e);return t!==e&&(ga.set(e,t),va.set(t,e)),t}const Ta=e=>va.get(e);const Ea=["get","getKey","getAll","getAllKeys","count"],Sa=["put","add","delete","clear"],ka=new Map;function Ia(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ka.get(t))return ka.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Sa.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ea.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ka.set(t,o),o}ya=(e=>({...e,get:(t,n,r)=>Ia(t,n)||e.get(t,n,r),has:(t,n)=>!!Ia(t,n)||e.has(t,n)}))(ya);class xa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ca="@firebase/app",Aa="0.10.0",Na=new la("@firebase/app"),Oa="@firebase/app-compat",Pa="@firebase/analytics-compat",Ra="@firebase/analytics",Da="@firebase/app-check-compat",La="@firebase/app-check",Ma="@firebase/auth",Fa="@firebase/auth-compat",ja="@firebase/database",Ua="@firebase/database-compat",za="@firebase/functions",Va="@firebase/functions-compat",Ba="@firebase/installations",qa="@firebase/installations-compat",Ga="@firebase/messaging",Ka="@firebase/messaging-compat",Ha="@firebase/performance",Wa="@firebase/performance-compat",Qa="@firebase/remote-config",Ya="@firebase/remote-config-compat",Xa="@firebase/storage",$a="@firebase/storage-compat",Ja="@firebase/firestore",Za="@firebase/firestore-compat",ec="firebase",tc="[DEFAULT]",nc={[Ca]:"fire-core",[Oa]:"fire-core-compat",[Ra]:"fire-analytics",[Pa]:"fire-analytics-compat",[La]:"fire-app-check",[Da]:"fire-app-check-compat",[Ma]:"fire-auth",[Fa]:"fire-auth-compat",[ja]:"fire-rtdb",[Ua]:"fire-rtdb-compat",[za]:"fire-fn",[Va]:"fire-fn-compat",[Ba]:"fire-iid",[qa]:"fire-iid-compat",[Ga]:"fire-fcm",[Ka]:"fire-fcm-compat",[Ha]:"fire-perf",[Wa]:"fire-perf-compat",[Qa]:"fire-rc",[Ya]:"fire-rc-compat",[Xa]:"fire-gcs",[$a]:"fire-gcs-compat",[Ja]:"fire-fst",[Za]:"fire-fst-compat","fire-js":"fire-js",[ec]:"fire-js-all"},rc=new Map,ic=new Map,oc=new Map;function sc(e,t){try{e.container.addComponent(t)}catch(OW){Na.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),OW)}}function ac(e,t){e.container.addOrOverwriteComponent(t)}function cc(e){const t=e.name;if(oc.has(t))return Na.debug("There were multiple attempts to register component ".concat(t,".")),!1;oc.set(t,e);for(const n of rc.values())sc(n,e);for(const n of ic.values())sc(n,e);return!0}function lc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function uc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tc;lc(e,t).clearInstance(n)}function hc(e){return void 0!==e.options}function dc(e){return void 0!==e.settings}function fc(){oc.clear()}const pc=new Vs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pc.create("app-deleted",{appName:this._name})}}class gc extends mc{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ec(Ca,Aa,"serverapp")}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Tc(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pc.create("server-app-deleted")}}const vc="10.10.0";function yc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:tc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pc.create("bad-app-name",{appName:String(i)});if(n||(n=As()),!n)throw pc.create("no-options");const o=rc.get(i);if(o){if(Gs(n,o.options)&&Gs(r,o.config))return o;throw pc.create("duplicate-app",{appName:i})}const s=new na(i);for(const c of oc.values())s.addComponent(c);const a=new mc(n,r,s);return rc.set(i,a),a}function bc(e,t){if(Ds())throw pc.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=hc(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw pc.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=ic.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new na(i);for(const l of oc.values())a.addComponent(l);const c=new gc(n,t,i,a);return ic.set(i,c),c}function wc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;const t=rc.get(e);if(!t&&e===tc&&As())return yc();if(!t)throw pc.create("no-app",{appName:e});return t}function _c(){return Array.from(rc.values())}async function Tc(e){let t=!1;const n=e.name;if(rc.has(n))t=!0,rc.delete(n);else if(ic.has(n)){e.decRefCount()<=0&&(ic.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ec(e,t,n){var r;let i=null!==(r=nc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Na.warn(e.join(" "))}cc(new Zs("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Sc(e,t){if(null!==e&&"function"!==typeof e)throw pc.create("invalid-log-argument");!function(e,t){for(const n of ra){let r=null;t&&t.level&&(r=oa[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ia[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function kc(e){var t;t=e,ra.forEach((e=>{e.setLogLevel(t)}))}const Ic="firebase-heartbeat-database",xc=1,Cc="firebase-heartbeat-store";let Ac=null;function Nc(){return Ac||(Ac=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=_a(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(_a(s.result),e.oldVersion,e.newVersion,_a(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ic,xc,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Cc)}catch(OW){console.warn(OW)}}}).catch((e=>{throw pc.create("idb-open",{originalErrorMessage:e.message})}))),Ac}async function Oc(e,t){try{const n=(await Nc()).transaction(Cc,"readwrite"),r=n.objectStore(Cc);await r.put(t,Pc(e)),await n.done}catch(OW){if(OW instanceof zs)Na.warn(OW.message);else{const t=pc.create("idb-set",{originalErrorMessage:null===OW||void 0===OW?void 0:OW.message});Na.warn(t.message)}}}function Pc(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Lc(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dc();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Dc(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Mc(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ss(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Dc(){return(new Date).toISOString().substring(0,10)}class Lc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Us()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Nc()).transaction(Cc),n=await t.objectStore(Cc).get(Pc(e));return await t.done,n}catch(OW){if(OW instanceof zs)Na.warn(OW.message);else{const t=pc.create("idb-get",{originalErrorMessage:null===OW||void 0===OW?void 0:OW.message});Na.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Oc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Oc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Mc(e){return Ss(JSON.stringify({version:2,heartbeats:e})).length}var Fc;Fc="",cc(new Zs("platform-logger",(e=>new xa(e)),"PRIVATE")),cc(new Zs("heartbeat",(e=>new Rc(e)),"PRIVATE")),Ec(Ca,Aa,Fc),Ec(Ca,Aa,"esm2017"),Ec("fire-js","");class jc{constructor(e,t){this._delegate=e,this.firebase=t,sc(e,new Zs("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Tc(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){sc(this._delegate,e)}_addOrOverwriteComponent(e){ac(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Uc=new Vs("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const zc=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=yc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qs(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Ec,setLogLevel:kc,onLog:Sc,apps:null,SDK_VERSION:vc,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(cc(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Uc.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Is(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qs(n,e=e||tc))throw Uc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(jc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Is(n,e)},createSubscribe:Ys,ErrorFactory:Vs,deepExtend:Is}),n}(),Vc=new la("@firebase/app-compat");if(Ds()&&void 0!==self.firebase){Vc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Vc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Bc=zc;!function(e){Ec("@firebase/app-compat","0.2.30",e)}();Bc.registerVersion("firebase","10.10.0","app-compat");function qc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Gc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Kc="EMAIL_SIGNIN",Hc="PASSWORD_RESET",Wc="RECOVER_EMAIL",Qc="REVERT_SECOND_FACTOR_ADDITION",Yc="VERIFY_AND_CHANGE_EMAIL",Xc="VERIFY_EMAIL";function $c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jc=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Zc=$c,el=new Vs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tl=new la("@firebase/auth");function nl(e){if(tl.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tl.error("Auth (".concat(vc,"): ").concat(e),...n)}}function rl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cl(e,...n)}function il(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cl(e,...n)}function ol(e,t,n){const r=Object.assign(Object.assign({},Zc()),{[t]:n});return new Vs("auth","Firebase",r).create(t,{appName:e.name})}function sl(e){return ol(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function al(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&rl(e,"argument-error"),ol(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return el.create(e,...n)}function ll(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cl(t,...r)}}function ul(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nl(t),new Error(t)}function hl(e,t){e||ul(t)}function dl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fl(){return"http:"===pl()||"https:"===pl()}function pl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,hl(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())||Ms()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fl()||Ls()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function gl(e,t){hl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class vl{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bl=new ml(3e4,6e4);function wl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _l(e,t,n,r){return Tl(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Hs(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),vl.fetch()(Sl(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Tl(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},yl),t);try{const t=new Il(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xl(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw xl(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw xl(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw xl(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ol(e,a,s);rl(e,a)}}catch(OW){if(OW instanceof zs)throw OW;rl(e,"network-request-failed",{message:String(OW)})}}async function El(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await _l(e,t,n,r,i);return"mfaPendingCredential"in o&&rl(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Sl(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?gl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function kl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Il{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(il(this.auth,"network-request-failed"))),bl.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=il(e,t,r);return i.customData._tokenResponse=n,i}function Cl(e){return void 0!==e&&void 0!==e.getResponse}function Al(e){return void 0!==e&&void 0!==e.enterprise}class Nl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ol(e,t){return _l(e,"GET","/v2/recaptchaConfig",wl(e,t))}async function Pl(e,t){return _l(e,"POST","/v1/accounts:lookup",t)}function Rl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(OW){}}function Dl(e){return 1e3*Number(e)}function Ll(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nl("JWT malformed, contained fewer than 3 sections"),null;try{const e=ks(n);return e?JSON.parse(e):(nl("Failed to decode base64 JWT payload"),null)}catch(OW){return nl("Caught error parsing JWT payload as JSON",null===OW||void 0===OW?void 0:OW.toString()),null}}function Ml(e){const t=Ll(e);return ll(t,"internal-error"),ll("undefined"!==typeof t.exp,"internal-error"),ll("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Fl(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(OW){throw OW instanceof zs&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(OW)&&e.auth.currentUser===e&&await e.auth.signOut(),OW}}class jl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(OW){return void((null===OW||void 0===OW?void 0:OW.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ul{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zl(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Fl(e,Pl(n,{idToken:r}));ll(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Vl(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ul(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Vl(e){return e.map((e=>{var{providerId:t}=e,n=qc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ll(e.idToken,"internal-error"),ll("undefined"!==typeof e.idToken,"internal-error"),ll("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ml(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ll(0!==e.length,"internal-error");const t=Ml(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ll(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tl(e,{},(async()=>{const n=Hs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Sl(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",vl.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Bl;return n&&(ll("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ll("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ll("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return ul("not implemented")}}function ql(e,t){ll("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gl{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=qc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ul(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ll(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Js(e),r=await n.getIdToken(t),i=Ll(r);ll(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rl(Dl(i.auth_time)),issuedAtTime:Rl(Dl(i.iat)),expirationTime:Rl(Dl(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Js(e);await zl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ll(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ll(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dc(this.auth.app))return Promise.reject(sl(this.auth));const e=await this.getIdToken();return await Fl(this,async function(e,t){return _l(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:T}=t;ll(y&&T,e,"internal-error");const E=Bl.fromJSON(this.name,T);ll("string"===typeof y,e,"internal-error"),ql(u,e.name),ql(h,e.name),ll("boolean"===typeof b,e,"internal-error"),ll("boolean"===typeof w,e,"internal-error"),ql(d,e.name),ql(f,e.name),ql(p,e.name),ql(m,e.name),ql(g,e.name),ql(v,e.name);const S=new Gl({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Bl;r.updateFromServerResponse(t);const i=new Gl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zl(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ll(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Vl(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Bl;s.updateFromIdToken(n);const a=new Gl({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ul(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const Kl=new Map;function Hl(e){hl(e instanceof Function,"Expected a class definition");let t=Kl.get(e);return t?(hl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kl.set(e,t),t)}class Wl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wl.type="NONE";const Ql=Wl;function Yl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yl(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yl("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xl(Hl(Ql),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Hl(Ql);const o=Yl(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Gl._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new Xl(i,e,n)):new Xl(i,e,n)}}function $l(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ru(t))return"Blackberry";if(iu(t))return"Webos";if(Zl(t))return"Safari";if((t.includes("chrome/")||eu(t))&&!t.includes("edge/"))return"Chrome";if(nu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Jl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/firefox\//i.test(e)}function Zl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/crios\//i.test(e)}function tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/iemobile/i.test(e)}function nu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/android/i.test(e)}function ru(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/blackberry/i.test(e)}function iu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/webos/i.test(e)}function ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function su(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return ou(e)||nu(e)||iu(e)||ru(e)||/windows phone/i.test(e)||tu(e)}function au(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$l(Ps());break;case"Worker":t="".concat($l(Ps()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vc,"/").concat(r)}class cu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(OW){r(OW)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(OW){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===OW||void 0===OW?void 0:OW.message})}}}class lu{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class uu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new du(this),this.idTokenSubscription=new du(this),this.beforeStateQueue=new cu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=el,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hl(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(OW){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Pl(this,{idToken:e}),n=await Gl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dc(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(OW){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(OW)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ll(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(OW){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zl(e)}catch(OW){if((null===OW||void 0===OW?void 0:OW.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dc(this.app))return Promise.reject(sl(this));const t=e?Js(e):null;return t&&ll(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ll(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return dc(this.app)?Promise.reject(sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dc(this.app)?Promise.reject(sl(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Hl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return _l(e,"GET","/v2/passwordPolicy",wl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new lu(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _l(e,"POST","/v2/accounts:revokeToken",wl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hl(e)||this._popupRedirectResolver;ll(t,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[Hl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ll(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ll(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=au(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(tl.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tl.warn("Auth (".concat(vc,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function hu(e){return Js(e)}class du{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ys((e=>this.observer=e))}get next(){return ll(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pu(e){return fu.loadJS(e)}function mu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class gu{constructor(e){this.type="recaptcha-enterprise",this.auth=hu(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Al(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ol(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Nl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Al(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=fu.recaptchaEnterpriseScript;0!==t.length&&(t+=i),pu(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function vu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new gu(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function yu(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await vu(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await vu(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function bu(e,t,n){const r=hu(e);ll(r._canInitEmulator,r,"emulator-config-failed"),ll(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=wu(t),{host:s,port:a}=function(e){const t=wu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:_u(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_u(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wu(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _u(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Tu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ul("not implemented")}_getIdTokenResponse(e){return ul("not implemented")}_linkToIdToken(e,t){return ul("not implemented")}_getReauthenticationResolver(e){return ul("not implemented")}}async function Eu(e,t){return _l(e,"POST","/v1/accounts:resetPassword",wl(e,t))}async function Su(e,t){return _l(e,"POST","/v1/accounts:signUp",t)}async function ku(e,t){return El(e,"POST","/v1/accounts:signInWithPassword",wl(e,t))}async function Iu(e,t){return _l(e,"POST","/v1/accounts:sendOobCode",wl(e,t))}async function xu(e,t){return Iu(e,t)}async function Cu(e,t){return Iu(e,t)}class Au extends Tu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Au(e,t,"password")}static _fromEmailAndCode(e,t){return new Au(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return yu(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ku);case"emailLink":return async function(e,t){return El(e,"POST","/v1/accounts:signInWithEmailLink",wl(e,t))}(e,{email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return yu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Su);case"emailLink":return async function(e,t){return El(e,"POST","/v1/accounts:signInWithEmailLink",wl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nu(e,t){return El(e,"POST","/v1/accounts:signInWithIdp",wl(e,t))}class Ou extends Tu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=qc(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ou(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Nu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hs(t)}return e}}const Pu={USER_NOT_FOUND:"user-not-found"};class Ru extends Tu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ru({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ru({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return El(e,"POST","/v1/accounts:signInWithPhoneNumber",wl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await El(e,"POST","/v1/accounts:signInWithPhoneNumber",wl(e,t));if(n.temporaryProof)throw xl(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return El(e,"POST","/v1/accounts:signInWithPhoneNumber",wl(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Pu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ru({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Du{constructor(e){var t,n,r,i,o,s;const a=Ws(Qs(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ll(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Ws(Qs(e)).link,n=t?Ws(Qs(t)).deep_link_id:null,r=Ws(Qs(e)).deep_link_id;return(r?Ws(Qs(r)).link:null)||r||n||t||e}(e);try{return new Du(t)}catch(n){return null}}}class Lu{constructor(){this.providerId=Lu.PROVIDER_ID}static credential(e,t){return Au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Du.parseLink(t);return ll(n,"argument-error"),Au._fromEmailAndCode(e,n.code,n.tenantId)}}Lu.PROVIDER_ID="password",Lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Mu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fu extends Mu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ju extends Fu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ll("providerId"in t&&"signInMethod"in t,"argument-error"),Ou._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ll(e.idToken||e.accessToken,"argument-error"),Ou._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new ju(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(OW){return null}}}class Uu extends Fu{constructor(){super("facebook.com")}static credential(e){return Ou._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Uu.credential(t.oauthAccessToken)}catch(n){return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Uu.PROVIDER_ID="facebook.com";class zu extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ou._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zu.credential(n,r)}catch(i){return null}}}zu.GOOGLE_SIGN_IN_METHOD="google.com",zu.PROVIDER_ID="google.com";class Vu extends Fu{constructor(){super("github.com")}static credential(e){return Ou._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vu.credential(t.oauthAccessToken)}catch(n){return null}}}Vu.GITHUB_SIGN_IN_METHOD="github.com",Vu.PROVIDER_ID="github.com";class Bu extends Tu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Nu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Bu(n,i):null}static _create(e,t){return new Bu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qu extends Mu{constructor(e){ll(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return qu.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return qu.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Bu.fromJSON(e);return ll(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Bu._create(r,n)}catch(OW){return null}}}class Gu extends Fu{constructor(){super("twitter.com")}static credential(e,t){return Ou._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gu.credentialFromTaggedObject(e)}static credentialFromError(e){return Gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Gu.credential(n,r)}catch(i){return null}}}async function Ku(e,t){return El(e,"POST","/v1/accounts:signUp",wl(e,t))}Gu.TWITTER_SIGN_IN_METHOD="twitter.com",Gu.PROVIDER_ID="twitter.com";class Hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Gl._fromIdTokenResponse(e,n,r),o=Wu(n);return new Hu({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wu(n);return new Hu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qu extends zs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Qu(e,t,n,r)}}function Yu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qu._fromErrorAndOperation(e,n,t,r);throw n}))}function Xu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function $u(e,t){const n=Js(e);await Zu(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return _l(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Xu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Fl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hu._forOperation(e,"link",r)}async function Zu(e,t,n){await zl(t);const r=!1===e?"provider-already-linked":"no-such-provider";ll(Xu(t.providerData).has(n)===e,t.auth,r)}async function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(dc(r.app))return Promise.reject(sl(r));const i="reauthenticate";try{const o=await Fl(e,Yu(r,i,t,e),n);ll(o.idToken,r,"internal-error");const s=Ll(o.idToken);ll(s,r,"internal-error");const{sub:a}=s;return ll(e.uid===a,r,"user-mismatch"),Hu._forOperation(e,i,o)}catch(OW){throw(null===OW||void 0===OW?void 0:OW.code)==="auth/".concat("user-not-found")&&rl(r,"user-mismatch"),OW}}async function th(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dc(e.app))return Promise.reject(sl(e));const r="signIn",i=await Yu(e,r,t),o=await Hu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function nh(e,t){return th(hu(e),t)}async function rh(e,t){const n=Js(e);return await Zu(!1,n,t.providerId),Ju(n,t)}async function ih(e,t){return eh(Js(e),t)}async function oh(e,t){if(dc(e.app))return Promise.reject(sl(e));const n=hu(e),r=await async function(e,t){return El(e,"POST","/v1/accounts:signInWithCustomToken",wl(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Hu._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class sh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ah._fromServerResponse(e,t):"totpInfo"in t?ch._fromServerResponse(e,t):rl(e,"internal-error")}}class ah extends sh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ah(t)}}class ch extends sh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ch(t)}}function lh(e,t,n){var r;ll((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ll("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ll(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ll(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function uh(e){const t=hu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hh(e,t){await async function(e,t){return _l(e,"POST","/v1/accounts:update",wl(e,t))}(Js(e),{oobCode:t})}async function dh(e,t){const n=Js(e),r=await Eu(n,{oobCode:t}),i=r.requestType;switch(ll(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ll(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ll(r.mfaInfo,n,"internal-error");default:ll(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=sh._fromServerResponse(hu(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function fh(e,t){const n={identifier:t,continueUri:fl()?dl():"http://localhost"},{signinMethods:r}=await async function(e,t){return _l(e,"POST","/v1/accounts:createAuthUri",wl(e,t))}(Js(e),n);return r||[]}async function ph(e,t){const n=Js(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&lh(n.auth,r,t);const{email:i}=await async function(e,t){return Iu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function mh(e,t,n){const r=Js(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&lh(r.auth,i,n);const{email:o}=await async function(e,t){return Iu(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function gh(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Js(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Fl(i,async function(e,t){return _l(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function vh(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Fl(e,async function(e,t){return _l(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class bh extends yh{constructor(e,t,n,r){super(e,t,n),this.username=r}}class wh extends yh{constructor(e,t){super(e,"facebook.com",t)}}class _h extends bh{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Th extends yh{constructor(e,t){super(e,"google.com",t)}}class Eh extends bh{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Sh(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ll(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new yh(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new wh(o,i);case"github.com":return new _h(o,i);case"google.com":return new Th(o,i);case"twitter.com":return new Eh(o,i,e.screenName||null);case"custom":case"anonymous":return new yh(o,null);default:return new yh(o,r,i)}}(n)}class kh{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new kh("enroll",e,t)}static _fromMfaPendingCredential(e){return new kh("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return kh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return kh._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ih{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=hu(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>sh._fromServerResponse(n,e)));ll(r.mfaPendingCredential,n,"internal-error");const o=kh._fromMfaPendingCredential(r.mfaPendingCredential);return new Ih(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Hu._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ll(t.user,n,"internal-error"),Hu._forOperation(t.user,t.operationType,s);default:rl(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class xh{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>sh._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new xh(e)}async getSession(){return kh._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Fl(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Fl(this.user,function(e,t){return _l(e,"POST","/v2/accounts/mfaEnrollment:withdraw",wl(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(OW){throw OW}}}const Ch=new WeakMap;const Ah="__sak";class Nh{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Oh extends Nh{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ps();return Zl(e)||ou(e)}()&&function(){try{return!(!window||window===window.top)}catch(OW){return!1}}(),this.fallbackToPolling=su(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fs()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oh.type="LOCAL";const Ph=Oh;class Rh extends Nh{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rh.type="SESSION";const Dh=Rh;class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Lh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Lh.receivers=[];class Fh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=Mh("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function jh(){return window}function Uh(){return"undefined"!==typeof jh().WorkerGlobalScope&&"function"===typeof jh().importScripts}const zh="firebaseLocalStorageDb",Vh="firebaseLocalStorage",Bh="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Gh(e,t){return e.transaction([Vh],t?"readwrite":"readonly").objectStore(Vh)}function Kh(){const e=indexedDB.open(zh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vh,{keyPath:Bh})}catch(OW){n(OW)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zh);return new qh(e).toPromise()}(),t(await Kh()))}))}))}async function Hh(e,t,n){const r=Gh(e,!0).put({[Bh]:t,value:n});return new qh(r).toPromise()}function Wh(e,t){const n=Gh(e,!0).delete(t);return new qh(n).toPromise()}class Qh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Kh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(OW){if(t++>3)throw OW;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(Uh()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kh();return await Hh(e,Ah,"1"),await Wh(e,Ah),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Hh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Gh(e,!1).get(t),r=await new qh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Wh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Gh(e,!1).getAll();return new qh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qh.type="LOCAL";const Yh=Qh;const Xh=1e12;class $h{constructor(e){this.auth=e,this.counter=Xh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Jh(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Xh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Xh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Xh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Jh{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ll(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(OW){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(OW){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zh=mu("rcb"),ed=new ml(3e4,6e4);class td{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=jh().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ll(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Cl(jh().grecaptcha)?Promise.resolve(jh().grecaptcha):new Promise(((n,r)=>{const i=jh().setTimeout((()=>{r(il(e,"network-request-failed"))}),ed.get());jh()[Zh]=()=>{jh().clearTimeout(i),delete jh()[Zh];const o=jh().grecaptcha;if(!o||!Cl(o))return void r(il(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};pu("".concat(fu.recaptchaV2Script,"?").concat(Hs({onload:Zh,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(il(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=jh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nd{async load(e){return new $h(e)}clearedOneInstance(){}}const rd="recaptcha",id={theme:"light",type:"image"};class od{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},id);this.parameters=n,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hu(e),this.isInvisible="invisible"===this.parameters.size,ll("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ll(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nd:new td,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(OW){return Promise.reject(OW)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ll(!this.parameters.sitekey,this.auth,"argument-error"),ll(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ll("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=jh()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ll(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ll(fl()&&!Uh(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await _l(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ll(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ll(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ru._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ad(e,t,n){var r;const i=await n.verify();try{let o;if(ll("string"===typeof i,e,"argument-error"),ll(n.type===rd,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ll("enroll"===t.type,e,"internal-error");const n=await function(e,t){return _l(e,"POST","/v2/accounts/mfaEnrollment:start",wl(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ll("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ll(n,e,"missing-multi-factor-info");const s=await function(e,t){return _l(e,"POST","/v2/accounts/mfaSignIn:start",wl(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return _l(e,"POST","/v1/accounts:sendVerificationCode",wl(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class cd{constructor(e){this.providerId=cd.PROVIDER_ID,this.auth=hu(e)}verifyPhoneNumber(e,t){return ad(this.auth,e,Js(t))}static credential(e,t){return Ru._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cd.credentialFromTaggedObject(t)}static credentialFromError(e){return cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ru._fromTokenResponse(n,r):null}}function ld(e,t){return t?Hl(t):(ll(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cd.PROVIDER_ID="phone",cd.PHONE_SIGN_IN_METHOD="phone";class ud extends Tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hd(e){return th(e.auth,new ud(e),e.bypassAuthState)}function dd(e){const{auth:t,user:n}=e;return ll(n,t,"internal-error"),eh(n,new ud(e),e.bypassAuthState)}async function fd(e){const{auth:t,user:n}=e;return ll(n,t,"internal-error"),Ju(n,new ud(e),e.bypassAuthState)}class pd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(OW){this.reject(OW)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(OW){this.reject(OW)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hd;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return dd;default:rl(this.auth,"internal-error")}}resolve(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const md=new ml(2e3,1e4);class gd extends pd{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,gd.currentPopupAction&&gd.currentPopupAction.cancel(),gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ll(e,this.auth,"internal-error"),e}async onExecution(){hl(1===this.filter.length,"Popup operations only handle one event");const e=Mh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(il(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(il(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(il(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,md.get())};e()}}gd.currentPopupAction=null;const vd="pendingRedirect",yd=new Map;class bd extends pd{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ed(t),r=Td(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(OW){e=()=>Promise.reject(OW)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function wd(e,t){return Td(e)._set(Ed(t),"true")}function _d(e,t){yd.set(e._key(),t)}function Td(e){return Hl(e._redirectPersistence)}function Ed(e){return Yl(vd,e.config.apiKey,e.name)}function Sd(e,t,n){return async function(e,t,n){if(dc(e.app))return Promise.reject(sl(e));const r=hu(e);al(e,t,Mu),await r._initializationPromise;const i=ld(r,n);return await wd(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function kd(e,t,n){return async function(e,t,n){const r=Js(e);if(al(r.auth,t,Mu),dc(r.auth.app))return Promise.reject(sl(r.auth));await r.auth._initializationPromise;const i=ld(r.auth,n);await wd(i,r.auth);const o=await Cd(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Id(e,t,n){return async function(e,t,n){const r=Js(e);al(r.auth,t,Mu),await r.auth._initializationPromise;const i=ld(r.auth,n);await Zu(!1,r,t.providerId),await wd(i,r.auth);const o=await Cd(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function xd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dc(e.app))return Promise.reject(sl(e));const r=hu(e),i=ld(r,t),o=new bd(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Cd(e){const t=Mh("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ad{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Od(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Od(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(il(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nd(e))}saveEventToCache(e){this.cachedEventUids.add(Nd(e)),this.lastProcessedEventTime=Date.now()}}function Nd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Od(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Pd(e){return _l(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Rd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dd=/^https?/;function Ld(e){const t=dl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Dd.test(n))return!1;if(Rd.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Md=new ml(3e4,6e4);function Fd(){const e=jh().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jd(e){return new Promise(((t,n)=>{var r,i,o;function s(){Fd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fd(),n(il(e,"network-request-failed"))},timeout:Md.get()})}if(null===(i=null===(r=jh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=jh().gapi)||void 0===o?void 0:o.load)){const t=mu("iframefcb");return jh()[t]=()=>{gapi.load?s():n(il(e,"network-request-failed"))},pu("".concat(fu.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Ud=null,e}))}let Ud=null;const zd=new ml(5e3,15e3),Vd="__/auth/iframe",Bd="emulator/auth/iframe",qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kd(e){const t=e.config;ll(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gl(t,Bd):"https://".concat(e.config.authDomain,"/").concat(Vd),r={apiKey:t.apiKey,appName:e.name,v:vc},i=Gd.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Hs(r).slice(1))}async function Hd(e){const t=await function(e){return Ud=Ud||jd(e),Ud}(e),n=jh().gapi;return ll(n,e,"internal-error"),t.open({where:document.body,url:Kd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qd,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=il(e,"network-request-failed"),o=jh().setTimeout((()=>{r(i)}),zd.get());function s(){jh().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(OW){}}}function Yd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Wd),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ps().toLowerCase();n&&(a=eu(l)?"_blank":n),Jl(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return ou(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qd(null);const h=window.open(t||"",a,u);ll(h,e,"popup-blocked");try{h.focus()}catch(OW){}return new Qd(h)}const Xd="__/auth/handler",$d="emulator/auth/handler",Jd=encodeURIComponent("fac");async function Zd(e,t,n,r,i,o){ll(e.config.authDomain,e,"auth-domain-config-required"),ll(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vc,eventId:i};if(t instanceof Mu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Fu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Jd,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xd);return gl(t,$d)}(e),"?").concat(Hs(a).slice(1)).concat(l)}const ef="webStorageSupport";const tf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dh,this._completeRedirectFn=xd,this._overrideRedirectResult=_d}async _openPopup(e,t,n,r){var i;hl(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Yd(e,await Zd(e,t,n,dl(),r),Mh())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){jh().location.href=e}(await Zd(e,t,n,dl(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Hd(e),n=new Ad(e);return t.register("authEvent",(t=>{ll(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ef];void 0!==i&&t(!!i),rl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Pd(e);for(const r of t)try{if(Ld(r))return}catch(n){}rl(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return su()||Zl()||ou()}};class nf{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ul("unexpected MultiFactorSessionType")}}}class rf extends nf{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rf(e)}_finalizeEnroll(e,t,n){return function(e,t){return _l(e,"POST","/v2/accounts/mfaEnrollment:finalize",wl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return _l(e,"POST","/v2/accounts/mfaSignIn:finalize",wl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class of{constructor(){}static assertion(e){return rf._fromCredential(e)}}of.FACTOR_ID="phone";var sf="@firebase/auth",af="1.7.0";class cf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ll(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Cs())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var lf;function uf(){return window}!function(e){fu=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=il("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),lf="Browser",cc(new Zs("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ll(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:lf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:au(lf)},l=new uu(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),cc(new Zs("auth-internal",(e=>(e=>new cf(e))(hu(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ec(sf,af,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(lf)),Ec(sf,af,"esm2017");async function hf(e,t,n){var r;const{BuildInfo:i}=uf();hl(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(hl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return ou()?s.ibi=i.packageName:nu()?s.apn=i.packageName:rl(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Zd(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function df(e){const{cordova:t}=uf();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const ff=20;class pf extends Ad{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function mf(e){const t=await yf()._get(bf(e));return t&&await yf()._remove(bf(e)),t}function gf(e,t){var n,r;const i=function(e){const t=wf(e),n=t.link?decodeURIComponent(t.link):void 0,r=wf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=wf(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(OW){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?il(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vf(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ff;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function yf(){return Hl(Ph)}function bf(e){return Yl("authEvent",e.config.apiKey,e.name)}function wf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Ws(n.join("?"))}const _f=class{constructor(){this._redirectPersistence=Dh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xd,this._overrideRedirectResult=_d}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new pf(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){rl(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=uf();ll("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ll("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ll("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ll("function"===typeof(null===(c=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ll("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),yd.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:vf(),postBody:null,tenantId:e.tenantId,error:il(e,"no-auth-event")}}(e,n,r);await function(e,t){return yf()._set(bf(e),t)}(e,o);const s=await hf(e,o,t);return async function(e,t,n){const{cordova:r}=uf();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(il(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),nu()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await df(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=uf(),n={};ou()?n.iosBundleId=t.packageName:nu()?n.androidPackageName=t.packageName:rl(e,"operation-not-supported-in-this-environment"),await Pd(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=uf(),o=setTimeout((async()=>{await mf(e),t.onEvent(Tf())}),500),s=async n=>{clearTimeout(o);const r=await mf(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=gf(r,n.url)),t.onEvent(i||Tf())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");uf().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(OW){console.error(OW)}}}};function Tf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:il("no-auth-event")}}function Ef(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Sf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return!("file:"!==Ef()&&"ionic:"!==Ef()&&"capacitor:"!==Ef()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function kf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return Fs()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps();return/Edge\/\d+/.test(e)}(e)}function If(){try{const e=self.localStorage,t=Mh();if(e)return e.setItem(t,"1"),e.removeItem(t),!kf()||Us()}catch(OW){return xf()&&Us()}return!1}function xf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cf(){return("http:"===Ef()||"https:"===Ef()||Ls()||Sf())&&!(Ms()||Rs())&&If()&&!xf()}function Af(){return Sf()&&"undefined"!==typeof document}const Nf={LOCAL:"local",NONE:"none",SESSION:"session"},Of=ll,Pf="persistence";async function Rf(e){await e._initializationPromise;const t=Df(),n=Yl(Pf,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Df(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(OW){return null}}const Lf=ll;class Mf{constructor(){this.browserResolver=Hl(tf),this.cordovaResolver=Hl(_f),this.underlyingResolver=null,this._redirectPersistence=Dh,this._completeRedirectFn=xd,this._overrideRedirectResult=_d}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lf(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Af()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ff(e){return e.unwrap()}function jf(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Bf(e,function(e,t){var n;const r=Js(e),i=t;return ll(t.customData.operationType,r,"argument-error"),ll(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ih._fromError(r,i)}(e,t))}else if(r){const e=Uf(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Uf(e){const{_tokenResponse:t}=e instanceof zs?e.customData:e;if(!t)return null;if(!(e instanceof zs)&&"temporaryProof"in t&&"phoneNumber"in t)return cd.credentialFromResult(e);const n=t.providerId;if(!n||n===Gc.PASSWORD)return null;let r;switch(n){case Gc.GOOGLE:r=zu;break;case Gc.FACEBOOK:r=Uu;break;case Gc.GITHUB:r=Vu;break;case Gc.TWITTER:r=Gu;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Bu._create(n,s):Ou._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new ju(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof zs?r.credentialFromError(e):r.credentialFromResult(e)}function zf(e,t){return t.catch((t=>{throw t instanceof zs&&jf(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Uf(r)),additionalUserInfo:Sh(e),user:qf.getOrCreate(n)};var r}))}async function Vf(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>zf(e,n.confirm(t))}}class Bf{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return zf(Ff(this.auth),this.resolver.resolveSignIn(e))}}class qf{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Js(e);return Ch.has(t)||Ch.set(t,xh._fromUser(t)),Ch.get(t)}(e)}static getOrCreate(e){return qf.USER_MAP.has(e)||qf.USER_MAP.set(e,new qf(e)),qf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return zf(this.auth,rh(this._delegate,e))}async linkWithPhoneNumber(e,t){return Vf(this.auth,async function(e,t,n){const r=Js(e);await Zu(!1,r,"phone");const i=await ad(r.auth,t,Js(n));return new sd(i,(e=>rh(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return zf(this.auth,async function(e,t,n){const r=Js(e);al(r.auth,t,Mu);const i=ld(r.auth,n);return new gd(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Mf))}async linkWithRedirect(e){return await Rf(hu(this.auth)),Id(this._delegate,e,Mf)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return zf(this.auth,ih(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Vf(this.auth,async function(e,t,n){const r=Js(e);if(dc(r.auth.app))return Promise.reject(sl(r.auth));const i=await ad(r.auth,t,Js(n));return new sd(i,(e=>ih(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return zf(this.auth,async function(e,t,n){const r=Js(e);if(dc(r.auth.app))return Promise.reject(il(r.auth,"operation-not-supported-in-this-environment"));al(r.auth,t,Mu);const i=ld(r.auth,n);return new gd(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Mf))}async reauthenticateWithRedirect(e){return await Rf(hu(this.auth)),kd(this._delegate,e,Mf)}sendEmailVerification(e){return ph(this._delegate,e)}async unlink(e){return await $u(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Js(e);return dc(n.auth.app)?Promise.reject(sl(n.auth)):vh(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return vh(Js(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Js(e);if(dc(n.auth.app))return Promise.reject(sl(n.auth));await Ju(n,t)}(this._delegate,e)}updateProfile(e){return gh(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return mh(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qf.USER_MAP=new WeakMap;const Gf=ll;class Kf{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Gf(n,"invalid-api-key",{appName:e.name}),Gf(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Mf:void 0;this._delegate=t.initialize({options:{persistence:Wf(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Jc),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){bu(this._delegate,e,t)}applyActionCode(e){return hh(this._delegate,e)}checkActionCode(e){return dh(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Eu(Js(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&uh(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return zf(this._delegate,async function(e,t,n){if(dc(e.app))return Promise.reject(sl(e));const r=hu(e),i=yu(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ku),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&uh(e),t})),s=await Hu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return fh(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Du.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Gf(Cf(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await hu(e)._initializationPromise,xd(e,t,!1)}(this._delegate,Mf);return e?zf(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){hu(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Hf(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Hf(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=hu(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ll(t.handleCodeInApp,r,"argument-error"),t&&lh(r,e,t)}(i,n),await yu(r,i,"getOobCode",Cu)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=hu(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&lh(r,i,n),await yu(r,i,"getOobCode",xu)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Of(Object.values(Nf).includes(t),e,"invalid-persistence-type"),Ms()?Of(t!==Nf.SESSION,e,"unsupported-persistence-type"):Rs()?Of(t===Nf.NONE,e,"unsupported-persistence-type"):xf()?Of(t===Nf.NONE||t===Nf.LOCAL&&Us(),e,"unsupported-persistence-type"):Of(t===Nf.NONE||If(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Nf.SESSION:t=Dh;break;case Nf.LOCAL:t=await Hl(Yh)._isAvailable()?Yh:Ph;break;case Nf.NONE:t=Ql;break;default:return rl("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return zf(this._delegate,async function(e){var t;if(dc(e.app))return Promise.reject(sl(e));const n=hu(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Hu({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ku(n,{returnSecureToken:!0}),i=await Hu._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return zf(this._delegate,nh(this._delegate,e))}signInWithCustomToken(e){return zf(this._delegate,oh(this._delegate,e))}signInWithEmailAndPassword(e,t){return zf(this._delegate,function(e,t,n){return dc(e.app)?Promise.reject(sl(e)):nh(Js(e),Lu.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&uh(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return zf(this._delegate,async function(e,t,n){if(dc(e.app))return Promise.reject(sl(e));const r=Js(e),i=Lu.credentialWithLink(t,n||dl());return ll(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),nh(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Vf(this._delegate,async function(e,t,n){if(dc(e.app))return Promise.reject(sl(e));const r=hu(e),i=await ad(r,t,Js(n));return new sd(i,(e=>nh(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Gf(Cf(),this._delegate,"operation-not-supported-in-this-environment"),zf(this._delegate,async function(e,t,n){if(dc(e.app))return Promise.reject(il(e,"operation-not-supported-in-this-environment"));const r=hu(e);al(e,t,Mu);const i=ld(r,n);return new gd(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Mf))}async signInWithRedirect(e){return Gf(Cf(),this._delegate,"operation-not-supported-in-this-environment"),await Rf(this._delegate),Sd(this._delegate,e,Mf)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await dh(Js(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Hf(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&qf.getOrCreate(e)),error:t,complete:n}}function Wf(e,t){const n=function(e,t){const n=Df();if(!n)return[];const r=Yl(Pf,e,t);switch(n.getItem(r)){case Nf.NONE:return[Ql];case Nf.LOCAL:return[Yh,Dh];case Nf.SESSION:return[Dh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Yh)||n.push(Yh),"undefined"!==typeof window)for(const r of[Ph,Dh])n.includes(r)||n.push(r);return n.includes(Ql)||n.push(Ql),n}Kf.Persistence=Nf;class Qf{constructor(){this.providerId="phone",this._delegate=new cd(Ff(Bc.auth()))}static credential(e,t){return cd.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Qf.PHONE_SIGN_IN_METHOD=cd.PHONE_SIGN_IN_METHOD,Qf.PROVIDER_ID=cd.PROVIDER_ID;const Yf=ll;class Xf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bc.app();var r;Yf(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new od(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var $f;($f=Bc).INTERNAL.registerComponent(new Zs("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Kf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kc,PASSWORD_RESET:Hc,RECOVER_EMAIL:Wc,REVERT_SECOND_FACTOR_ADDITION:Qc,VERIFY_AND_CHANGE_EMAIL:Yc,VERIFY_EMAIL:Xc}},EmailAuthProvider:Lu,FacebookAuthProvider:Uu,GithubAuthProvider:Vu,GoogleAuthProvider:zu,OAuthProvider:ju,SAMLAuthProvider:qu,PhoneAuthProvider:Qf,PhoneMultiFactorGenerator:of,RecaptchaVerifier:Xf,TwitterAuthProvider:Gu,Auth:Kf,AuthCredential:Tu,Error:zs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$f.registerVersion("@firebase/auth-compat","0.5.5");var Jf,Zf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ep={},tp=tp||{},np=Zf||self;function rp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ip(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var op="closure_uid_"+(1e9*Math.random()>>>0),sp=0;function ap(e,t,n){return e.call.apply(e.bind,arguments)}function cp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lp(e,t,n){return(lp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ap:cp).apply(null,arguments)}function up(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hp(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function dp(){this.s=this.s,this.o=this.o}dp.prototype.s=!1,dp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,op)&&e[op]||(e[op]=++sp))},dp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function mp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(rp(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function gp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gp.prototype.h=function(){this.defaultPrevented=!0};var vp=function(){if(!np.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};np.addEventListener("test",e,t),np.removeEventListener("test",e,t)}catch(n){}return e}();function yp(e){return/^[\s\xa0]*$/.test(e)}function bp(){var e=np.navigator;return e&&(e=e.userAgent)?e:""}function wp(e){return-1!=bp().indexOf(e)}function _p(e){return _p[" "](e),e}_p[" "]=function(){};var Tp,Ep,Sp=wp("Opera"),kp=wp("Trident")||wp("MSIE"),Ip=wp("Edge"),xp=Ip||kp,Cp=wp("Gecko")&&!(-1!=bp().toLowerCase().indexOf("webkit")&&!wp("Edge"))&&!(wp("Trident")||wp("MSIE"))&&!wp("Edge"),Ap=-1!=bp().toLowerCase().indexOf("webkit")&&!wp("Edge");function Np(){var e=np.document;return e?e.documentMode:void 0}e:{var Op="",Pp=function(){var e=bp();return Cp?/rv:([^\);]+)(\)|;)/.exec(e):Ip?/Edge\/([\d\.]+)/.exec(e):kp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ap?/WebKit\/(\S+)/.exec(e):Sp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pp&&(Op=Pp?Pp[1]:""),kp){var Rp=Np();if(null!=Rp&&Rp>parseFloat(Op)){Tp=String(Rp);break e}}Tp=Op}if(np.document&&kp){var Dp=Np();Ep=Dp||(parseInt(Tp,10)||void 0)}else Ep=void 0;var Lp=Ep;function Mp(e,t){if(gp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Cp){e:{try{_p(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mp.$.h.call(this)}}hp(Mp,gp);var Fp={2:"touch",3:"pen",4:"mouse"};Mp.prototype.h=function(){Mp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),Up=0;function zp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Up,this.fa=this.ia=!1}function Vp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Bp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function qp(e){const t={};for(const n in e)t[n]=e[n];return t}const Gp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kp(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Gp.length;t++)n=Gp[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hp(e){this.src=e,this.g={},this.h=0}function Wp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=fp(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Vp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qp(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Hp.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Qp(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new zp(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Yp="closure_lm_"+(1e6*Math.random()|0),Xp={};function $p(e,t,n,r,i){if(r&&r.once)return Zp(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)$p(e,t[o],n,r,i);return null}return n=sm(n),e&&e[jp]?e.O(t,n,ip(r)?!!r.capture:!!r,i):Jp(e,t,n,!1,r,i)}function Jp(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=ip(i)?!!i.capture:!!i,a=im(e);if(a||(e[Yp]=a=new Hp(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=rm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vp||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Zp(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zp(e,t[o],n,r,i);return null}return n=sm(n),e&&e[jp]?e.P(t,n,ip(r)?!!r.capture:!!r,i):Jp(e,t,n,!0,r,i)}function em(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)em(e,t[o],n,r,i);else r=ip(r)?!!r.capture:!!r,n=sm(n),e&&e[jp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Qp(o=e.g[t],n,r,i))&&(Vp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=im(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qp(t,n,r,i)),(n=-1<e?t[e]:null)&&tm(n))}function tm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[jp])Wp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=im(t))?(Wp(n,e),0==n.h&&(n.src=null,t[Yp]=null)):Vp(e)}}}function nm(e){return e in Xp?Xp[e]:Xp[e]="on"+e}function rm(e,t){if(e.fa)e=!0;else{t=new Mp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&tm(e),e=n.call(r,t)}return e}function im(e){return(e=e[Yp])instanceof Hp?e:null}var om="__closure_events_fn_"+(1e9*Math.random()>>>0);function sm(e){return"function"===typeof e?e:(e[om]||(e[om]=function(t){return e.handleEvent(t)}),e[om])}function am(){dp.call(this),this.i=new Hp(this),this.S=this,this.J=null}function cm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new gp(t,e);else if(t instanceof gp)t.target=t.target||e;else{var i=t;Kp(t=new gp(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=lm(s,r,!0,t)&&i}if(i=lm(s=t.g=e,r,!0,t)&&i,i=lm(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=lm(s=t.g=n[o],r,!1,t)&&i}function lm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Wp(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}hp(am,dp),am.prototype[jp]=!0,am.prototype.removeEventListener=function(e,t,n,r){em(this,e,t,n,r)},am.prototype.N=function(){if(am.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vp(n[r]);delete t.g[e],t.h--}}this.J=null},am.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},am.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var um=np.JSON.stringify;function hm(){var e=ym;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dm=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new fm),(e=>e.reset()));class fm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pm(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function mm(e){np.setTimeout((()=>{throw e}),0)}let gm,vm=!1,ym=new class{constructor(){this.h=this.g=null}add(e,t){const n=dm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},bm=()=>{const e=np.Promise.resolve(void 0);gm=()=>{e.then(wm)}};var wm=()=>{for(var e;e=hm();){try{e.h.call(e.g)}catch(n){mm(n)}var t=dm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vm=!1};function _m(e,t){am.call(this),this.h=e||1,this.g=t||np,this.j=lp(this.qb,this),this.l=Date.now()}function Tm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Em(e,t,n){if("function"===typeof e)n&&(e=lp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lp(e.handleEvent,e)}return 2147483647<Number(t)?-1:np.setTimeout(e,t||0)}function Sm(e){e.g=Em((()=>{e.g=null,e.i&&(e.i=!1,Sm(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}hp(_m,am),(Jf=_m.prototype).ga=!1,Jf.T=null,Jf.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cm(this,"tick"),this.ga&&(Tm(this),this.start()))}},Jf.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jf.N=function(){_m.$.N.call(this),Tm(this),delete this.g};class km extends dp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sm(this)}N(){super.N(),this.g&&(np.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Im(e){dp.call(this),this.h=e,this.g={}}hp(Im,dp);var xm=[];function Cm(e,t,n,r){Array.isArray(n)||(n&&(xm[0]=n.toString()),n=xm);for(var i=0;i<n.length;i++){var o=$p(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Am(e){Bp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&tm(e)}),e),e.g={}}function Nm(){this.g=!0}function Om(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return um(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Im.prototype.N=function(){Im.$.N.call(this),Am(this)},Im.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nm.prototype.Ea=function(){this.g=!1},Nm.prototype.info=function(){};var Pm={},Rm=null;function Dm(){return Rm=Rm||new am}function Lm(e){gp.call(this,Pm.Ta,e)}function Mm(e){const t=Dm();cm(t,new Lm(t))}function Fm(e,t){gp.call(this,Pm.STAT_EVENT,e),this.stat=t}function jm(e){const t=Dm();cm(t,new Fm(t,e))}function Um(e,t){gp.call(this,Pm.Ua,e),this.size=t}function zm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return np.setTimeout((function(){e()}),t)}Pm.Ta="serverreachability",hp(Lm,gp),Pm.STAT_EVENT="statevent",hp(Fm,gp),Pm.Ua="timingevent",hp(Um,gp);var Vm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qm(){}function Gm(e){return e.h||(e.h=e.i())}function Km(){}qm.prototype.h=null;var Hm,Wm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qm(){gp.call(this,"d")}function Ym(){gp.call(this,"c")}function Xm(){}function $m(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Im(this),this.P=Zm,e=xp?125:void 0,this.V=new _m(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jm}function Jm(){this.i=null,this.g="",this.h=!1}hp(Qm,gp),hp(Ym,gp),hp(Xm,qm),Xm.prototype.g=function(){return new XMLHttpRequest},Xm.prototype.i=function(){return{}},Hm=new Xm;var Zm=45e3,eg={},tg={};function ng(e,t,n){e.L=1,e.A=_g(gg(t)),e.u=n,e.S=!0,rg(e,null)}function rg(e,t){e.G=Date.now(),ag(e),e.B=gg(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Dg(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Jm,e.g=Lv(e.l,n?t:null,!e.u),0<e.O&&(e.M=new km(lp(e.Pa,e,e.g),e.O)),Cm(e.U,e.g,"readystatechange",e.nb),t=e.I?qp(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Mm(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ig(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function og(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=sg(e,n),r==tg){4==t&&(e.s=4,jm(14),i=!1),Om(e.j,e.m,null,"[Incomplete Response]");break}if(r==eg){e.s=4,jm(15),Om(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Om(e.j,e.m,r,null),dg(e,r)}ig(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,jm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xv(t),t.M=!0,jm(11))):(Om(e.j,e.m,n,"[Invalid Chunked Response]"),hg(e),ug(e))}function sg(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?tg:(n=Number(t.substring(n,r)),isNaN(n)?eg:(r+=1)+n>t.length?tg:(t=t.slice(r,r+n),e.o=r+n,t))}function ag(e){e.Y=Date.now()+e.P,cg(e,e.P)}function cg(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=zm(lp(e.lb,e),t)}function lg(e){e.C&&(np.clearTimeout(e.C),e.C=null)}function ug(e){0==e.l.H||e.J||Nv(e.l,e)}function hg(e){lg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Tm(e.V),Am(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function dg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Vg(n.i,e)))if(!e.K&&Vg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Av(n),bv(n)}Iv(n),jm(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=zm(lp(n.ib,n),6e3));if(1>=zg(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Pv(n,11)}else if((e.K||n.g==e)&&Av(n),!yp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Bg(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,wg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Dv(r,r.J?r.pa:null,r.Y),s.K){qg(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(lg(a),ag(a)),r.g=s}else kv(r);0<n.j.length&&_v(n)}else"stop"!=l[0]&&"close"!=l[0]||Pv(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Pv(n,7):yv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Mm()}catch(l){}}function fg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(rp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(rp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Jf=$m.prototype).setTimeout=function(e){this.P=e},Jf.nb=function(e){e=e.target;const t=this.M;t&&3==dv(e)?t.l():this.Pa(e)},Jf.Pa=function(e){try{if(e==this.g)e:{const u=dv(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||xp||this.g&&(this.h.h||this.g.ja()||fv(this.g)))){this.J||4!=u||7==t||Mm(),lg(this);var n=this.g.da();this.ca=n;t:if(ig(this)){var r=fv(this.g);e="";var i=r.length,o=4==dv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hg(this),ug(this);var s="";break t}this.h.i=new np.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yp(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,jm(12),hg(this),ug(this);break e}Om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dg(this,n)}this.S?(og(this,u,s),xp&&this.i&&3==u&&(Cm(this.U,this.V,"tick",this.mb),this.V.start())):(Om(this.j,this.m,s,null),dg(this,s)),4==u&&hg(this),this.i&&!this.J&&(4==u?Nv(this.l,this):(this.i=!1,ag(this)))}else(function(e){const t={};e=(e.g&&2<=dv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(yp(e[r]))continue;var n=pm(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,jm(12)):(this.s=0,jm(13)),hg(this),ug(this)}}}catch(u){}},Jf.mb=function(){if(this.g){var e=dv(this.g),t=this.g.ja();this.o<t.length&&(lg(this),og(this,e,t),this.i&&4!=e&&ag(this))}},Jf.cancel=function(){this.J=!0,hg(this)},Jf.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Mm(),jm(17)),hg(this),this.s=2,ug(this)):cg(this,this.Y-e)};var pg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof mg){this.h=e.h,vg(this,e.j),this.s=e.s,this.g=e.g,yg(this,e.m),this.l=e.l;var t=e.i,n=new Ng;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bg(this,n),this.o=e.o}else e&&(t=String(e).match(pg))?(this.h=!1,vg(this,t[1]||"",!0),this.s=Tg(t[2]||""),this.g=Tg(t[3]||"",!0),yg(this,t[4]),this.l=Tg(t[5]||"",!0),bg(this,t[6]||"",!0),this.o=Tg(t[7]||"")):(this.h=!1,this.i=new Ng(null,this.h))}function gg(e){return new mg(e)}function vg(e,t,n){e.j=n?Tg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bg(e,t,n){t instanceof Ng?(e.i=t,function(e,t){t&&!e.j&&(Og(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pg(this,t),Dg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Eg(t,Cg)),e.i=new Ng(t,e.h))}function wg(e,t,n){e.i.set(t,n)}function _g(e){return wg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eg(t,kg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eg(t,kg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eg(n,"/"==n.charAt(0)?xg:Ig,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eg(n,Ag)),e.join("")};var kg=/[#\/\?@]/g,Ig=/[#\?:]/g,xg=/[#\?]/g,Cg=/[#\?@]/g,Ag=/#/g;function Ng(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Og(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pg(e,t){Og(e),t=Lg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rg(e,t){return Og(e),t=Lg(e,t),e.g.has(t)}function Dg(e,t,n){Pg(e,t),0<n.length&&(e.i=null,e.g.set(Lg(e,t),pp(n)),e.h+=n.length)}function Lg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jf=Ng.prototype).add=function(e,t){Og(this),this.i=null,e=Lg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jf.forEach=function(e,t){Og(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Jf.ta=function(){Og(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Jf.Z=function(e){Og(this);let t=[];if("string"===typeof e)Rg(this,e)&&(t=t.concat(this.g.get(Lg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Jf.set=function(e,t){return Og(this),this.i=null,Rg(this,e=Lg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jf.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Jf.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Mg=class{constructor(e,t){this.g=e,this.map=t}};function Fg(e){this.l=e||jg,np.PerformanceNavigationTiming?e=0<(e=np.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(np.g&&np.g.Ka&&np.g.Ka()&&np.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jg=10;function Ug(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zg(e){return e.h?1:e.g?e.g.size:0}function Vg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bg(e,t){e.g?e.g.add(t):e.h=t}function qg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gg(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pp(e.i)}Fg.prototype.cancel=function(){if(this.i=Gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kg,Hg=class{stringify(e){return np.JSON.stringify(e,void 0)}parse(e){return np.JSON.parse(e,void 0)}};function Wg(){this.g=new Hg}function Qg(e,t,n){const r=n||"";try{fg(e,(function(e,n){let i=e;ip(e)&&(i=um(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(OW){throw t.push(r+"type="+encodeURIComponent("_badmap")),OW}}function Yg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Xg(e){this.l=e.ec||null,this.j=e.ob||!1}function $g(e,t){am.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Jg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hp(Xg,qm),Xg.prototype.g=function(){return new $g(this.l,this.j)},Xg.prototype.i=(Kg={},function(){return Kg}),hp($g,am);var Jg=0;function Zg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ev(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tv(e)}function tv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jf=$g.prototype).open=function(e,t){if(this.readyState!=Jg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tv(this)},Jf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||np).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Jf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ev(this)),this.readyState=Jg},Jf.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tv(this)),this.g&&(this.readyState=3,tv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof np.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Jf.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ev(this):tv(this),3==this.readyState&&Zg(this)}},Jf.Za=function(e){this.g&&(this.response=this.responseText=e,ev(this))},Jf.Ya=function(e){this.g&&(this.response=e,ev(this))},Jf.ka=function(){this.g&&ev(this)},Jf.setRequestHeader=function(e,t){this.v.append(e,t)},Jf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jf.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nv=np.JSON.parse;function rv(e){am.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}hp(rv,am);var iv="",ov=/^https?$/i,sv=["POST","PUT"];function av(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cv(e),uv(e)}function cv(e){e.F||(e.F=!0,cm(e,"complete"),cm(e,"error"))}function lv(e){if(e.h&&"undefined"!=typeof tp&&(!e.C[1]||4!=dv(e)||2!=e.da()))if(e.v&&4==dv(e))Em(e.La,0,e);else if(cm(e,"readystatechange"),4==dv(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(pg)[1]||null;!i&&np.self&&np.self.location&&(i=np.self.location.protocol.slice(0,-1)),r=!ov.test(i?i.toLowerCase():"")}n=r}if(n)cm(e,"complete"),cm(e,"success");else{e.m=6;try{var o=2<dv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",cv(e)}}finally{uv(e)}}}function uv(e,t){if(e.g){hv(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||cm(e,"ready");try{n.onreadystatechange=r}catch(OW){}}}function hv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(np.clearTimeout(e.A),e.A=null)}function dv(e){return e.g?e.g.readyState:0}function fv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case iv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wy){return null}}function pv(e){let t="";return Bp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function mv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wg(e,t,n))}function gv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vv(e){this.Ga=0,this.j=[],this.l=new Nm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gv("baseRetryDelayMs",5e3,e),this.hb=gv("retryDelaySeedMs",1e4,e),this.eb=gv("forwardChannelMaxRetries",2,e),this.xa=gv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fg(e&&e.concurrentRequestLimit),this.Ja=new Wg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yv(e){if(wv(e),3==e.H){var t=e.W++,n=gg(e.I);if(wg(n,"SID",e.K),wg(n,"RID",t),wg(n,"TYPE","terminate"),Ev(e,n),(t=new $m(e,e.l,t)).L=2,t.A=_g(gg(n)),n=!1,np.navigator&&np.navigator.sendBeacon)try{n=np.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&np.Image&&((new Image).src=t.A,n=!0),n||(t.g=Lv(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ag(t)}Rv(e)}function bv(e){e.g&&(xv(e),e.g.cancel(),e.g=null)}function wv(e){bv(e),e.u&&(np.clearTimeout(e.u),e.u=null),Av(e),e.i.cancel(),e.m&&("number"===typeof e.m&&np.clearTimeout(e.m),e.m=null)}function _v(e){if(!Ug(e.i)&&!e.m){e.m=!0;var t=e.Na;gm||bm(),vm||(gm(),vm=!0),ym.add(t,e),e.C=0}}function Tv(e,t){var n;n=t?t.m:e.W++;const r=gg(e.I);wg(r,"SID",e.K),wg(r,"RID",n),wg(r,"AID",e.V),Ev(e,r),e.o&&e.s&&mv(r,e.o,e.s),n=new $m(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Sv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Bg(e.i,n),ng(n,r,t)}function Ev(e,t){e.na&&Bp(e.na,(function(e,n){wg(t,n,e)})),e.h&&fg({},(function(e,n){wg(t,n,e)}))}function Sv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?lp(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Qg(a,e,"req"+n+"_")}catch(Mb){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function kv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;gm||bm(),vm||(gm(),vm=!0),ym.add(t,e),e.A=0}}function Iv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=zm(lp(e.Ma,e),Ov(e,e.A)),e.A++,!0)}function xv(e){null!=e.B&&(np.clearTimeout(e.B),e.B=null)}function Cv(e){e.g=new $m(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=gg(e.wa);wg(t,"RID","rpc"),wg(t,"SID",e.K),wg(t,"AID",e.V),wg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&wg(t,"TO",e.qa),wg(t,"TYPE","xmlhttp"),Ev(e,t),e.o&&e.s&&mv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_g(gg(t)),n.u=null,n.S=!0,rg(n,e)}function Av(e){null!=e.v&&(np.clearTimeout(e.v),e.v=null)}function Nv(e,t){var n=null;if(e.g==t){Av(e),xv(e),e.g=null;var r=2}else{if(!Vg(e.i,t))return;n=t.F,qg(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;cm(r=Dm(),new Um(r,n)),_v(e)}else kv(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=zm(lp(e.Na,e,t),Ov(e,e.C)),e.C++,!0))}(e,t)||2==r&&Iv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pv(e,5);break;case 4:Pv(e,10);break;case 3:Pv(e,6);break;default:Pv(e,2)}}function Ov(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Pv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=lp(e.pb,e);n||(n=new mg("//www.google.com/images/cleardot.gif"),np.location&&"http"==np.location.protocol||vg(n,"https"),_g(n)),function(e,t){const n=new Nm;if(np.Image){const r=new Image;r.onload=up(Yg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=up(Yg,n,r,"TestLoadImage: error",!1,t),r.onabort=up(Yg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=up(Yg,n,r,"TestLoadImage: timeout",!1,t),np.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jm(2);e.H=0,e.h&&e.h.za(t),Rv(e),wv(e)}function Rv(e){if(e.H=0,e.ma=[],e.h){const t=Gg(e.i);0==t.length&&0==e.j.length||(mp(e.ma,t),mp(e.ma,e.j),e.i.i.length=0,pp(e.j),e.j.length=0),e.h.ya()}}function Dv(e,t,n){var r=n instanceof mg?gg(n):new mg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yg(r,r.m);else{var i=np.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new mg(null);r&&vg(o,r),t&&(o.g=t),i&&yg(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&wg(r,n,t),wg(r,"VER",e.ra),Ev(e,r),r}function Lv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new rv(new Xg({ob:n})):new rv(e.va)).Oa(e.J),t}function Mv(){}function Fv(){if(kp&&!(10<=Number(Lp)))throw Error("Environmental error: no available transport.")}function jv(e,t){am.call(this),this.g=new vv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!yp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vv(this)}function Uv(e){Qm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zv(){Ym.call(this),this.status=1}function Vv(e){this.g=e}function Bv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qv(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Gv(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Jf=rv.prototype).Oa=function(e){this.M=e},Jf.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=this.u?Gm(this.u):Gm(Hm),this.g.onreadystatechange=lp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void av(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=np.FormData&&e instanceof np.FormData,!(0<=fp(sv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hv(this),0<this.B&&((this.L=function(e){return kp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lp(this.ua,this)):this.A=Em(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){av(this,o)}},Jf.ua=function(){"undefined"!=typeof tp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cm(this,"timeout"),this.abort(8))},Jf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cm(this,"complete"),cm(this,"abort"),uv(this))},Jf.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uv(this,!0)),rv.$.N.call(this)},Jf.La=function(){this.s||(this.G||this.v||this.l?lv(this):this.kb())},Jf.kb=function(){lv(this)},Jf.isActive=function(){return!!this.g},Jf.da=function(){try{return 2<dv(this)?this.g.status:-1}catch(Kg){return-1}},Jf.ja=function(){try{return this.g?this.g.responseText:""}catch(Kg){return""}},Jf.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nv(t)}},Jf.Ia=function(){return this.m},Jf.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jf=vv.prototype).ra=8,Jf.H=1,Jf.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new $m(this,this.l,e);let o=this.s;if(this.U&&(o?(o=qp(o),Kp(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Sv(this,i,t),wg(n=gg(this.I),"RID",e),wg(n,"CVER",22),this.F&&wg(n,"X-HTTP-Session-Id",this.F),Ev(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(pv(o)))+"&"+t:this.o&&mv(n,this.o,o)),Bg(this.i,i),this.bb&&wg(n,"TYPE","init"),this.P?(wg(n,"$req",t),wg(n,"SID","null"),i.aa=!0,ng(i,n,null)):ng(i,n,t),this.H=2}}else 3==this.H&&(e?Tv(this,e):0==this.j.length||Ug(this.i)||Tv(this))},Jf.Ma=function(){if(this.u=null,Cv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=zm(lp(this.jb,this),e)}},Jf.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jm(10),bv(this),Cv(this))},Jf.ib=function(){null!=this.v&&(this.v=null,bv(this),Iv(this),jm(19))},Jf.pb=function(e){e?(this.l.info("Successfully pinged google.com"),jm(2)):(this.l.info("Failed to ping google.com"),jm(1))},Jf.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jf=Mv.prototype).Ba=function(){},Jf.Aa=function(){},Jf.za=function(){},Jf.ya=function(){},Jf.isActive=function(){return!0},Jf.Va=function(){},Fv.prototype.g=function(e,t){return new jv(e,t)},hp(jv,am),jv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;jm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Dv(e,null,e.Y),_v(e)},jv.prototype.close=function(){yv(this.g)},jv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=um(e),e=n);t.j.push(new Mg(t.fb++,e)),3==t.H&&_v(t)},jv.prototype.N=function(){this.g.h=null,delete this.j,yv(this.g),delete this.g,jv.$.N.call(this)},hp(Uv,Qm),hp(zv,Ym),hp(Vv,Mv),Vv.prototype.Ba=function(){cm(this.g,"a")},Vv.prototype.Aa=function(e){cm(this.g,new Uv(e))},Vv.prototype.za=function(e){cm(this.g,new zv)},Vv.prototype.ya=function(){cm(this.g,"b")},hp(Bv,(function(){this.blockSize=-1})),Bv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)qv(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){qv(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){qv(this,r),i=0;break}}this.h=i,this.i+=t},Bv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Kv={};function Hv(e){return-128<=e&&128>e?function(e,t){var n=Kv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Gv([0|e],0>e?-1:0)})):new Gv([0|e],0>e?-1:0)}function Wv(e){if(isNaN(e)||!isFinite(e))return Yv;if(0>e)return ey(Wv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qv;return new Gv(t,0)}var Qv=4294967296,Yv=Hv(0),Xv=Hv(1),$v=Hv(16777216);function Jv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Zv(e){return-1==e.h}function ey(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Gv(n,~e.h).add(Xv)}function ty(e,t){return e.add(ey(t))}function ny(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ry(e,t){this.g=e,this.h=t}function iy(e,t){if(Jv(t))throw Error("division by zero");if(Jv(e))return new ry(Yv,Yv);if(Zv(e))return t=iy(ey(e),t),new ry(ey(t.g),ey(t.h));if(Zv(t))return t=iy(e,ey(t)),new ry(ey(t.g),t.h);if(30<e.g.length){if(Zv(e)||Zv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xv,r=t;0>=r.X(e);)n=oy(n),r=oy(r);var i=sy(n,1),o=sy(r,1);for(r=sy(r,2),n=sy(n,2);!Jv(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=sy(r,1),n=sy(n,1)}return t=ty(e,i.R(t)),new ry(i,t)}for(i=Yv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Wv(n)).R(t);Zv(s)||0<s.X(e);)s=(o=Wv(n-=r)).R(t);Jv(o)&&(o=Xv),i=i.add(o),e=ty(e,s)}return new ry(i,e)}function oy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Gv(n,e.h)}function sy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Gv(i,e.h)}(Jf=Gv.prototype).ea=function(){if(Zv(this))return-ey(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qv+r)*t,t*=Qv}return e},Jf.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Jv(this))return"0";if(Zv(this))return"-"+ey(this).toString(e);for(var t=Wv(Math.pow(e,6)),n=this,r="";;){var i=iy(n,t).g,o=((0<(n=ty(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Jv(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Jf.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Jf.X=function(e){return Zv(e=ty(this,e))?-1:Jv(e)?0:1},Jf.abs=function(){return Zv(this)?ey(this):this},Jf.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Gv(n,-2147483648&n[n.length-1]?-1:0)},Jf.R=function(e){if(Jv(this)||Jv(e))return Yv;if(Zv(this))return Zv(e)?ey(this).R(ey(e)):ey(ey(this).R(e));if(Zv(e))return ey(this.R(ey(e)));if(0>this.X($v)&&0>e.X($v))return Wv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,ny(n,2*r+2*i),n[2*r+2*i+1]+=o*c,ny(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ny(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ny(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Gv(n,0)},Jf.gb=function(e){return iy(this,e).h},Jf.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Gv(n,this.h&e.h)},Jf.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Gv(n,this.h|e.h)},Jf.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Gv(n,this.h^e.h)},Fv.prototype.createWebChannel=Fv.prototype.g,jv.prototype.send=jv.prototype.u,jv.prototype.open=jv.prototype.m,jv.prototype.close=jv.prototype.close,Vm.NO_ERROR=0,Vm.TIMEOUT=8,Vm.HTTP_ERROR=6,Bm.COMPLETE="complete",Km.EventType=Wm,Wm.OPEN="a",Wm.CLOSE="b",Wm.ERROR="c",Wm.MESSAGE="d",am.prototype.listen=am.prototype.O,rv.prototype.listenOnce=rv.prototype.P,rv.prototype.getLastError=rv.prototype.Sa,rv.prototype.getLastErrorCode=rv.prototype.Ia,rv.prototype.getStatus=rv.prototype.da,rv.prototype.getResponseJson=rv.prototype.Wa,rv.prototype.getResponseText=rv.prototype.ja,rv.prototype.send=rv.prototype.ha,rv.prototype.setWithCredentials=rv.prototype.Oa,Bv.prototype.digest=Bv.prototype.l,Bv.prototype.reset=Bv.prototype.reset,Bv.prototype.update=Bv.prototype.j,Gv.prototype.add=Gv.prototype.add,Gv.prototype.multiply=Gv.prototype.R,Gv.prototype.modulo=Gv.prototype.gb,Gv.prototype.compare=Gv.prototype.X,Gv.prototype.toNumber=Gv.prototype.ea,Gv.prototype.toString=Gv.prototype.toString,Gv.prototype.getBits=Gv.prototype.D,Gv.fromNumber=Wv,Gv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ey(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Wv(Math.pow(n,8)),i=Yv,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Wv(Math.pow(n,s)),i=i.R(s).add(Wv(a))):i=(i=i.R(r)).add(Wv(a))}return i};var ay=ep.createWebChannelTransport=function(){return new Fv},cy=ep.getStatEventTarget=function(){return Dm()},ly=ep.ErrorCode=Vm,uy=ep.EventType=Bm,hy=ep.Event=Pm,dy=ep.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fy=(ep.FetchXmlHttpFactory=Xg,ep.WebChannel=Km),py=ep.XhrIo=rv,my=ep.Md5=Bv,gy=ep.Integer=Gv;const vy="@firebase/firestore";class yy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yy.UNAUTHENTICATED=new yy(null),yy.GOOGLE_CREDENTIALS=new yy("google-credentials-uid"),yy.FIRST_PARTY=new yy("first-party-uid"),yy.MOCK_USER=new yy("mock-user");let by="10.10.0";const wy=new la("@firebase/firestore");function _y(){return wy.logLevel}function Ty(e){if(wy.logLevel<=ia.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ky);wy.debug("Firestore (".concat(by,"): ").concat(e),...i)}}function Ey(e){if(wy.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ky);wy.error("Firestore (".concat(by,"): ").concat(e),...i)}}function Sy(e){if(wy.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ky);wy.warn("Firestore (".concat(by,"): ").concat(e),...i)}}function ky(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Iy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(by,") INTERNAL ASSERTION FAILED: ")+e;throw Ey(t),new Error(t)}function xy(e,t){e||Iy()}function Cy(e,t){return e}const Ay={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ny extends zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Oy{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Py{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ry{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(yy.UNAUTHENTICATED)))}shutdown(){}}class Dy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ly{constructor(e){this.t=e,this.currentUser=yy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Oy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Oy,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ty("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ty("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Oy)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ty("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xy("string"==typeof t.accessToken),new Py(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xy(null===e||"string"==typeof e),new yy(e)}}class My{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=yy.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fy{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new My(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(yy.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uy{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ty("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ty("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ty("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ty("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xy("string"==typeof e.token),this.R=e.token,new jy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=zy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function By(e,t){return e<t?-1:e>t?1:0}function qy(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Gy(e){return e+"\0"}class Ky{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ny(Ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ny(Ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ny(Ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ny(Ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ky.fromMillis(Date.now())}static fromDate(e){return Ky.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ky(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?By(this.nanoseconds,e.nanoseconds):By(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hy{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hy(e)}static min(){return new Hy(new Ky(0,0))}static max(){return new Hy(new Ky(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wy{constructor(e,t,n){void 0===t?t=0:t>e.length&&Iy(),void 0===n?n=e.length-t:n>e.length-t&&Iy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wy?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qy extends Wy{construct(e,t,n){return new Qy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Qy(e)}static emptyPath(){return new Qy([])}}const Yy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xy extends Wy{construct(e,t,n){return new Xy(e,t,n)}static isValidIdentifier(e){return Yy.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xy.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xy(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ny(Ay.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ny(Ay.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ny(Ay.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xy(t)}static emptyPath(){return new Xy([])}}class $y{constructor(e){this.path=e}static fromPath(e){return new $y(Qy.fromString(e))}static fromName(e){return new $y(Qy.fromString(e).popFirst(5))}static empty(){return new $y(Qy.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $y(new Qy(e.slice()))}}class Jy{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Zy(e){return e.fields.find((e=>2===e.kind))}function eb(e){return e.fields.filter((e=>2!==e.kind))}Jy.UNKNOWN_ID=-1;class tb{constructor(e,t){this.fieldPath=e,this.kind=t}}class nb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nb(0,ob.min())}}function rb(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hy.fromTimestamp(1e9===r?new Ky(n+1,0):new Ky(n,r));return new ob(i,$y.empty(),t)}function ib(e){return new ob(e.readTime,e.key,-1)}class ob{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ob(Hy.min(),$y.empty(),-1)}static max(){return new ob(Hy.max(),$y.empty(),-1)}}function sb(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$y.comparator(e.documentKey,t.documentKey),0!==n?n:By(e.largestBatchId,t.largestBatchId))}const ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lb(e){if(e.code!==Ay.FAILED_PRECONDITION||e.message!==ab)throw e;Ty("LocalStore","Unexpectedly lost primary lease")}class ub{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Iy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ub(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ub?t:ub.resolve(t)}catch(e){return ub.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ub.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ub.reject(t)}static resolve(e){return new ub(((t,n)=>{t(e)}))}static reject(e){return new ub(((t,n)=>{n(e)}))}static waitFor(e){return new ub(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ub.resolve(!1);for(const n of e)t=t.next((e=>e?ub.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ub(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ub(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class hb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Oy,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new pb(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=bb(t.target.error);this.V.reject(new pb(e,n))}}static open(e,t,n,r){try{return new hb(t,e.transaction(r,n))}catch(e){throw new pb(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ty("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gb(t)}}class db{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===db.S(Ps())&&Ey("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ty("SimpleDb","Removing database:",e),vb(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Us())return!1;if(db.C())return!0;const e=Ps(),t=db.S(e),n=0<t&&t<10,r=db.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ty("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new pb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ny(Ay.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ny(Ay.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new pb(e,r))},r.onupgradeneeded=e=>{Ty("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ty("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=hb.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ub.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ty("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fb{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vb(this.k.delete())}}class pb extends Ny{constructor(e,t){super(Ay.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function mb(e){return"IndexedDbTransactionError"===e.name}class gb{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ty("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ty("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vb(n)}add(e){return Ty("SimpleDb","ADD",this.store.name,e,e),vb(this.store.add(e))}get(e){return vb(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ty("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ty("SimpleDb","DELETE",this.store.name,e),vb(this.store.delete(e))}count(){return Ty("SimpleDb","COUNT",this.store.name),vb(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ub(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ub(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ty("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new ub(((n,r)=>{t.onerror=e=>{const t=bb(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new ub(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new fb(i),s=t(i.primaryKey,i.value,o);if(s instanceof ub){const e=s.catch((e=>(o.done(),ub.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>ub.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vb(e){return new ub(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=bb(e.target.error);n(t)}}))}let yb=!1;function bb(e){const t=db.S(Ps());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ny("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yb||(yb=!0,setTimeout((()=>{throw e}),0)),e}}return e}class wb{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Ty("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ty("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){mb(e)?Ty("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await lb(e)}await this.ee(6e4)}))}}class _b{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return ub.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ty("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Ty("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ib(t);sb(r,n)>0&&(n=r)})),new ob(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Tb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Eb(e){return null==e}function Sb(e){return 0===e&&1/e==-1/0}function kb(e){return"number"==typeof e&&Number.isInteger(e)&&!Sb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ib(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cb(t)),t=xb(e.get(n),t);return Cb(t)}function xb(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Cb(e){return e+"\x01\x01"}function Ab(e){const t=e.length;if(xy(t>=2),2===t)return xy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qy.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Iy(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Iy()}o=t+2}return new Qy(r)}Tb._e=-1;const Nb=["userId","batchId"];function Ob(e,t){return[e,Ib(t)]}function Pb(e,t,n){return[e,Ib(t),n]}const Rb={},Db=["prefixPath","collectionGroup","readTime","documentId"],Lb=["prefixPath","collectionGroup","documentId"],Mb=["collectionGroup","readTime","prefixPath","documentId"],Fb=["canonicalId","targetId"],jb=["targetId","path"],Ub=["path","targetId"],zb=["collectionId","parent"],Vb=["indexId","uid"],Bb=["uid","sequenceNumber"],qb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gb=["indexId","uid","orderedDocumentKey"],Kb=["userId","collectionPath","documentId"],Hb=["userId","collectionPath","largestBatchId"],Wb=["userId","collectionGroup","largestBatchId"],Qb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yb=[...Qb,"documentOverlays"],Xb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$b=Xb,Jb=[...$b,"indexConfiguration","indexState","indexEntries"];class Zb extends cb{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ew(e,t){const n=Cy(e);return db.M(n.ae,t)}function tw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class iw{constructor(e,t){this.comparator=e,this.root=t||sw.EMPTY}insert(e,t){return new iw(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sw.BLACK,null,null))}remove(e){return new iw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sw.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ow(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ow(this.root,e,this.comparator,!1)}getReverseIterator(){return new ow(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ow(this.root,e,this.comparator,!0)}}class ow{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sw{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sw.RED,this.left=null!=r?r:sw.EMPTY,this.right=null!=i?i:sw.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sw(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sw.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sw.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sw.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sw.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Iy();if(this.right.isRed())throw Iy();const e=this.left.check();if(e!==this.right.check())throw Iy();return e+(this.isRed()?0:1)}}sw.EMPTY=null,sw.RED=!0,sw.BLACK=!1,sw.EMPTY=new class{constructor(){this.size=0}get key(){throw Iy()}get value(){throw Iy()}get color(){throw Iy()}get left(){throw Iy()}get right(){throw Iy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new sw(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class aw{constructor(e){this.comparator=e,this.data=new iw(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof aw))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new aw(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lw(e){return e.hasNext()?e.getNext():void 0}class uw{constructor(e){this.fields=e,e.sort(Xy.comparator)}static empty(){return new uw([])}unionWith(e){let t=new aw(Xy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new uw(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qy(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dw{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hw("Invalid base64 string: "+e):e}}(e);return new dw(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new dw(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return By(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dw.EMPTY_BYTE_STRING=new dw("");const fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pw(e){if(xy(!!e),"string"==typeof e){let t=0;const n=fw.exec(e);if(xy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mw(e.seconds),nanos:mw(e.nanos)}}function mw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gw(e){return"string"==typeof e?dw.fromBase64String(e):dw.fromUint8Array(e)}function vw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yw(e){const t=e.mapValue.fields.__previous_value__;return vw(t)?yw(t):t}function bw(e){const t=pw(e.mapValue.fields.__local_write_time__.timestampValue);return new Ky(t.seconds,t.nanos)}class ww{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class _w{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _w("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _w&&e.projectId===this.projectId&&e.database===this.database}}const Tw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ew={nullValue:"NULL_VALUE"};function Sw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vw(e)?4:jw(e)?9007199254740991:10:Iy()}function kw(e,t){if(e===t)return!0;const n=Sw(e);if(n!==Sw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bw(e).isEqual(bw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pw(e.timestampValue),r=pw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gw(e.bytesValue).isEqual(gw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mw(e.geoPointValue.latitude)===mw(t.geoPointValue.latitude)&&mw(e.geoPointValue.longitude)===mw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mw(e.integerValue)===mw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mw(e.doubleValue),r=mw(t.doubleValue);return n===r?Sb(n)===Sb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qy(e.arrayValue.values||[],t.arrayValue.values||[],kw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tw(n)!==tw(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kw(n[i],r[i])))return!1;return!0}(e,t);default:return Iy()}}function Iw(e,t){return void 0!==(e.values||[]).find((e=>kw(e,t)))}function xw(e,t){if(e===t)return 0;const n=Sw(e),r=Sw(t);if(n!==r)return By(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return By(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mw(e.integerValue||e.doubleValue),r=mw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cw(e.timestampValue,t.timestampValue);case 4:return Cw(bw(e),bw(t));case 5:return By(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gw(e),r=gw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=By(n[i],r[i]);if(0!==e)return e}return By(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=By(mw(e.latitude),mw(t.latitude));return 0!==n?n:By(mw(e.longitude),mw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xw(n[i],r[i]);if(e)return e}return By(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Tw.mapValue&&t===Tw.mapValue)return 0;if(e===Tw.mapValue)return 1;if(t===Tw.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=By(r[s],o[s]);if(0!==e)return e;const t=xw(n[r[s]],i[o[s]]);if(0!==t)return t}return By(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Iy()}}function Cw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return By(e,t);const n=pw(e),r=pw(t),i=By(n.seconds,r.seconds);return 0!==i?i:By(n.nanos,r.nanos)}function Aw(e){return Nw(e)}function Nw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gw(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $y.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Nw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Nw(e.fields[i]));return n+"}"}(e.mapValue):Iy()}function Ow(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pw(e){return!!e&&"integerValue"in e}function Rw(e){return!!e&&"arrayValue"in e}function Dw(e){return!!e&&"nullValue"in e}function Lw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mw(e){return!!e&&"mapValue"in e}function Fw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nw(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fw(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fw(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Uw(e){return"nullValue"in e?Ew:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ow(_w.empty(),$y.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Iy()}function zw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ow(_w.empty(),$y.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Tw:Iy()}function Vw(e,t){const n=xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Bw(e,t){const n=xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qw{constructor(e){this.value=e}static empty(){return new qw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fw(t)}setAll(e){let t=Xy.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fw(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nw(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new qw(Fw(this.value))}}function Gw(e){const t=[];return nw(e.fields,((e,n)=>{const r=new Xy([e]);if(Mw(n)){const e=Gw(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new uw(t)}class Kw{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Kw(e,0,Hy.min(),Hy.min(),Hy.min(),qw.empty(),0)}static newFoundDocument(e,t,n,r){return new Kw(e,1,t,Hy.min(),n,r,0)}static newNoDocument(e,t){return new Kw(e,2,t,Hy.min(),Hy.min(),qw.empty(),0)}static newUnknownDocument(e,t){return new Kw(e,3,t,Hy.min(),Hy.min(),qw.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hy.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hw{constructor(e,t){this.position=e,this.inclusive=t}}function Ww(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$y.comparator($y.fromName(s.referenceValue),n.key):xw(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Qw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kw(e.position[n],t.position[n]))return!1;return!0}class Yw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $w{}class Jw extends $w{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new c_(e,t,n):"array-contains"===t?new d_(e,n):"in"===t?new f_(e,n):"not-in"===t?new p_(e,n):"array-contains-any"===t?new m_(e,n):new Jw(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new l_(e,n):new u_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xw(t,this.value)):null!==t&&Sw(this.value)===Sw(t)&&this.matchesComparison(xw(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Iy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zw extends $w{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zw(e,t)}matches(e){return e_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function e_(e){return"and"===e.op}function t_(e){return"or"===e.op}function n_(e){return r_(e)&&e_(e)}function r_(e){for(const t of e.filters)if(t instanceof Zw)return!1;return!0}function i_(e){if(e instanceof Jw)return e.field.canonicalString()+e.op.toString()+Aw(e.value);if(n_(e))return e.filters.map((e=>i_(e))).join(",");{const t=e.filters.map((e=>i_(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function o_(e,t){return e instanceof Jw?function(e,t){return t instanceof Jw&&e.op===t.op&&e.field.isEqual(t.field)&&kw(e.value,t.value)}(e,t):e instanceof Zw?function(e,t){return t instanceof Zw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&o_(n,t.filters[r])),!0)}(e,t):void Iy()}function s_(e,t){const n=e.filters.concat(t);return Zw.create(n,e.op)}function a_(e){return e instanceof Jw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Aw(e.value))}(e):e instanceof Zw?function(e){return e.op.toString()+" {"+e.getFilters().map(a_).join(" ,")+"}"}(e):"Filter"}class c_ extends Jw{constructor(e,t,n){super(e,t,n),this.key=$y.fromName(n.referenceValue)}matches(e){const t=$y.comparator(e.key,this.key);return this.matchesComparison(t)}}class l_ extends Jw{constructor(e,t){super(e,"in",t),this.keys=h_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class u_ extends Jw{constructor(e,t){super(e,"not-in",t),this.keys=h_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function h_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$y.fromName(e.referenceValue)))}class d_ extends Jw{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rw(t)&&Iw(t.arrayValue,this.value)}}class f_ extends Jw{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Iw(this.value.arrayValue,t)}}class p_ extends Jw{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Iw(this.value.arrayValue,t)}}class m_ extends Jw{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Iw(this.value.arrayValue,e)))}}class g_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function v_(e){return new g_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function y_(e){const t=Cy(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>i_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Eb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Aw(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Aw(e))).join(",")),t.ce=e}return t.ce}function b_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!o_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qw(e.startAt,t.startAt)&&Qw(e.endAt,t.endAt)}function w_(e){return $y.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function __(e,t){return e.filters.filter((e=>e instanceof Jw&&e.field.isEqual(t)))}function T_(e,t,n){let r=Ew,i=!0;for(const o of __(e,t)){let e=Ew,t=!0;switch(o.op){case"<":case"<=":e=Uw(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Ew}Vw({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Vw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function E_(e,t,n){let r=Tw,i=!0;for(const o of __(e,t)){let e=Tw,t=!0;switch(o.op){case">=":case">":e=zw(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Tw}Bw({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Bw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class S_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function k_(e,t,n,r,i,o,s,a){return new S_(e,t,n,r,i,o,s,a)}function I_(e){return new S_(e)}function x_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function C_(e){return null!==e.collectionGroup}function A_(e){const t=Cy(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new aw(Xy.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Yw(r,n))})),e.has(Xy.keyField().canonicalString())||t.le.push(new Yw(Xy.keyField(),n))}return t.le}function N_(e){const t=Cy(e);return t.he||(t.he=O_(t,A_(e))),t.he}function O_(e,t){if("F"===e.limitType)return v_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Yw(e.field,t)}));const n=e.endAt?new Hw(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hw(e.startAt.position,e.startAt.inclusive):null;return v_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function P_(e,t){const n=e.filters.concat([t]);return new S_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function R_(e,t,n){return new S_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function D_(e,t){return b_(N_(e),N_(t))&&e.limitType===t.limitType}function L_(e){return"".concat(y_(N_(e)),"|lt:").concat(e.limitType)}function M_(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>a_(e))).join(", "),"]")),Eb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Aw(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Aw(e))).join(",")),"Target(".concat(t,")")}(N_(e)),"; limitType=").concat(e.limitType,")")}function F_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$y.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of A_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ww(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,A_(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ww(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,A_(e),t))}(e,t)}function j_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function U_(e){return(t,n)=>{let r=!1;for(const i of A_(e)){const e=z_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function z_(e,t,n){const r=e.field.isKeyField()?$y.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xw(r,i):Iy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Iy()}}class V_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nw(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}const B_=new iw($y.comparator);function q_(){return B_}const G_=new iw($y.comparator);function K_(){let e=G_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function H_(e){let t=G_;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function W_(){return Y_()}function Q_(){return Y_()}function Y_(){return new V_((e=>e.toString()),((e,t)=>e.isEqual(t)))}const X_=new iw($y.comparator),$_=new aw($y.comparator);function J_(){let e=$_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Z_=new aw(By);function eT(){return Z_}function tT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sb(t)?"-0":t}}function nT(e){return{integerValue:""+e}}function rT(e,t){return kb(t)?nT(t):tT(e,t)}class iT{constructor(){this._=void 0}}function oT(e,t,n){return e instanceof cT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vw(t)&&(t=yw(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lT?uT(e,t):e instanceof hT?dT(e,t):function(e,t){const n=aT(e,t),r=pT(n)+pT(e.Ie);return Pw(n)&&Pw(e.Ie)?nT(r):tT(e.serializer,r)}(e,t)}function sT(e,t,n){return e instanceof lT?uT(e,t):e instanceof hT?dT(e,t):n}function aT(e,t){return e instanceof fT?function(e){return Pw(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cT extends iT{}class lT extends iT{constructor(e){super(),this.elements=e}}function uT(e,t){const n=mT(t);for(const r of e.elements)n.some((e=>kw(e,r)))||n.push(r);return{arrayValue:{values:n}}}class hT extends iT{constructor(e){super(),this.elements=e}}function dT(e,t){let n=mT(t);for(const r of e.elements)n=n.filter((e=>!kw(e,r)));return{arrayValue:{values:n}}}class fT extends iT{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function pT(e){return mw(e.integerValue||e.doubleValue)}function mT(e){return Rw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gT{constructor(e,t){this.field=e,this.transform=t}}class vT{constructor(e,t){this.version=e,this.transformResults=t}}class yT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yT}static exists(e){return new yT(void 0,e)}static updateTime(e){return new yT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wT{}function _T(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new OT(e.key,yT.none()):new IT(e.key,e.data,yT.none());{const n=e.data,r=qw.empty();let i=new aw(Xy.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xT(e.key,r,new uw(i.toArray()),yT.none())}}function TT(e,t,n){e instanceof IT?function(e,t,n){const r=e.value.clone(),i=AT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xT?function(e,t,n){if(!bT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=AT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(CT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ET(e,t,n,r){return e instanceof IT?function(e,t,n,r){if(!bT(e.precondition,t))return n;const i=e.value.clone(),o=NT(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xT?function(e,t,n,r){if(!bT(e.precondition,t))return n;const i=NT(e.fieldTransforms,r,t),o=t.data;return o.setAll(CT(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return bT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ST(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=aT(r.transform,e||null);null!=i&&(null===n&&(n=qw.empty()),n.set(r.field,i))}return n||null}function kT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qy(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lT&&t instanceof lT||e instanceof hT&&t instanceof hT?qy(e.elements,t.elements,kw):e instanceof fT&&t instanceof fT?kw(e.Ie,t.Ie):e instanceof cT&&t instanceof cT}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class IT extends wT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xT extends wT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function CT(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function AT(e,t,n){const r=new Map;xy(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,sT(s,a,n[i]))}return r}function NT(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,oT(e,o,t))}return r}class OT extends wT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PT extends wT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RT{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&TT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ET(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ET(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Q_();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=_T(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Hy.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),J_())}isEqual(e){return this.batchId===e.batchId&&qy(this.mutations,e.mutations,((e,t)=>kT(e,t)))&&qy(this.baseMutations,e.baseMutations,((e,t)=>kT(e,t)))}}class DT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xy(e.mutations.length===n.length);let r=X_;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new DT(e,t,n,r)}}class LT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class MT{constructor(e,t){this.count=e,this.unchangedNames=t}}var FT,jT;function UT(e){switch(e){default:return Iy();case Ay.CANCELLED:case Ay.UNKNOWN:case Ay.DEADLINE_EXCEEDED:case Ay.RESOURCE_EXHAUSTED:case Ay.INTERNAL:case Ay.UNAVAILABLE:case Ay.UNAUTHENTICATED:return!1;case Ay.INVALID_ARGUMENT:case Ay.NOT_FOUND:case Ay.ALREADY_EXISTS:case Ay.PERMISSION_DENIED:case Ay.FAILED_PRECONDITION:case Ay.ABORTED:case Ay.OUT_OF_RANGE:case Ay.UNIMPLEMENTED:case Ay.DATA_LOSS:return!0}}function zT(e){if(void 0===e)return Ey("GRPC error has no .code"),Ay.UNKNOWN;switch(e){case FT.OK:return Ay.OK;case FT.CANCELLED:return Ay.CANCELLED;case FT.UNKNOWN:return Ay.UNKNOWN;case FT.DEADLINE_EXCEEDED:return Ay.DEADLINE_EXCEEDED;case FT.RESOURCE_EXHAUSTED:return Ay.RESOURCE_EXHAUSTED;case FT.INTERNAL:return Ay.INTERNAL;case FT.UNAVAILABLE:return Ay.UNAVAILABLE;case FT.UNAUTHENTICATED:return Ay.UNAUTHENTICATED;case FT.INVALID_ARGUMENT:return Ay.INVALID_ARGUMENT;case FT.NOT_FOUND:return Ay.NOT_FOUND;case FT.ALREADY_EXISTS:return Ay.ALREADY_EXISTS;case FT.PERMISSION_DENIED:return Ay.PERMISSION_DENIED;case FT.FAILED_PRECONDITION:return Ay.FAILED_PRECONDITION;case FT.ABORTED:return Ay.ABORTED;case FT.OUT_OF_RANGE:return Ay.OUT_OF_RANGE;case FT.UNIMPLEMENTED:return Ay.UNIMPLEMENTED;case FT.DATA_LOSS:return Ay.DATA_LOSS;default:return Iy()}}(jT=FT||(FT={}))[jT.OK=0]="OK",jT[jT.CANCELLED=1]="CANCELLED",jT[jT.UNKNOWN=2]="UNKNOWN",jT[jT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jT[jT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jT[jT.NOT_FOUND=5]="NOT_FOUND",jT[jT.ALREADY_EXISTS=6]="ALREADY_EXISTS",jT[jT.PERMISSION_DENIED=7]="PERMISSION_DENIED",jT[jT.UNAUTHENTICATED=16]="UNAUTHENTICATED",jT[jT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jT[jT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jT[jT.ABORTED=10]="ABORTED",jT[jT.OUT_OF_RANGE=11]="OUT_OF_RANGE",jT[jT.UNIMPLEMENTED=12]="UNIMPLEMENTED",jT[jT.INTERNAL=13]="INTERNAL",jT[jT.UNAVAILABLE=14]="UNAVAILABLE",jT[jT.DATA_LOSS=15]="DATA_LOSS";let VT=null;function BT(){return new TextEncoder}const qT=new gy([4294967295,4294967295],0);function GT(e){const t=BT().encode(e),n=new my;return n.update(t),new Uint8Array(n.digest())}function KT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new gy([n,r],0),new gy([i,o],0)]}class HT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new WT("Invalid padding: ".concat(t));if(n<0)throw new WT("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new WT("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new WT("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=gy.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(gy.fromNumber(n)));return 1===r.compare(qT)&&(r=new gy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=GT(e),[n,r]=KT(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new HT(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=GT(e),[n,r]=KT(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class WT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class QT{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,YT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new QT(Hy.min(),r,new iw(By),q_(),J_())}}class YT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new YT(n,t,J_(),J_(),J_())}}class XT{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class $T{constructor(e,t){this.targetId=e,this.fe=t}}class JT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dw.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ZT{constructor(){this.ge=0,this.pe=nE(),this.ye=dw.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J_(),t=J_(),n=J_();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Iy()}})),new YT(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=nE()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xy(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class eE{constructor(e){this.Be=e,this.ke=new Map,this.qe=q_(),this.Qe=tE(),this.Ke=new iw(By)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Iy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(w_(i))if(0===n){const e=new $y(i.path);this.We(t,e,Kw.newNoDocument(e,Hy.min()))}else xy(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==VT||VT.tt(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=gw(n).toUint8Array()}catch(e){if(e instanceof hw)return Sy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new HT(o,r,i)}catch(e){return Sy(e instanceof WT?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&w_(i.target)){const t=new $y(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Kw.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=J_();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new QT(e,t,this.Ke,this.qe,n);return this.qe=q_(),this.Qe=tE(),this.Ke=new iw(By),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ZT,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new aw(By),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ty("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new ZT),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function tE(){return new iw($y.comparator)}function nE(){return new iw($y.comparator)}const rE={asc:"ASCENDING",desc:"DESCENDING"},iE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oE={and:"AND",or:"OR"};class sE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aE(e,t){return e.useProto3Json||Eb(t)?t:{value:t}}function cE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uE(e,t){return cE(e,t.toTimestamp())}function hE(e){return xy(!!e),Hy.fromTimestamp(function(e){const t=pw(e);return new Ky(t.seconds,t.nanos)}(e))}function dE(e,t){return fE(e,t).canonicalString()}function fE(e,t){const n=function(e){return new Qy(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function pE(e){const t=Qy.fromString(e);return xy(ME(t)),t}function mE(e,t){return dE(e.databaseId,t.path)}function gE(e,t){const n=pE(t);if(n.get(1)!==e.databaseId.projectId)throw new Ny(Ay.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ny(Ay.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $y(wE(n))}function vE(e,t){return dE(e.databaseId,t)}function yE(e){const t=pE(e);return 4===t.length?Qy.emptyPath():wE(t)}function bE(e){return new Qy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wE(e){return xy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _E(e,t,n){return{name:mE(e,t),fields:n.value.mapValue.fields}}function TE(e,t,n){const r=gE(e,t.name),i=hE(t.updateTime),o=t.createTime?hE(t.createTime):Hy.min(),s=new qw({mapValue:{fields:t.fields}}),a=Kw.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function EE(e,t){let n;if(t instanceof IT)n={update:_E(e,t.key,t.value)};else if(t instanceof OT)n={delete:mE(e,t.key)};else if(t instanceof xT)n={update:_E(e,t.key,t.data),updateMask:LE(t.fieldMask)};else{if(!(t instanceof PT))return Iy();n={verify:mE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fT)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Iy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Iy()}(e,t.precondition)),n}function SE(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?yT.updateTime(hE(e.updateTime)):void 0!==e.exists?yT.exists(e.exists):yT.none()}(t.currentDocument):yT.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)xy("REQUEST_TIME"===t.setToServerValue),n=new cT;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new lT(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new hT(e)}else"increment"in t?n=new fT(e,t.increment):Iy();const r=Xy.fromServerFormat(t.fieldPath);return new gT(r,n)}(e,t))):[];if(t.update){t.update.name;const i=gE(e,t.update.name),o=new qw({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new uw(t.map((e=>Xy.fromServerFormat(e))))}(t.updateMask);return new xT(i,o,e,n,r)}return new IT(i,o,n,r)}if(t.delete){const r=gE(e,t.delete);return new OT(r,n)}if(t.verify){const r=gE(e,t.verify);return new PT(r,n)}return Iy()}function kE(e,t){return{documents:[vE(e,t.path)]}}function IE(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vE(e,i);const o=function(e){if(0!==e.length)return DE(Zw.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:PE(e.field),direction:AE(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=aE(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function xE(e){let t=yE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=CE(e);return t instanceof Zw&&n_(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Yw(RE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Eb(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Hw(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Hw(n,t)}(n.endAt)),k_(t,i,s,o,a,"F",c,l)}function CE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=RE(e.unaryFilter.field);return Jw.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=RE(e.unaryFilter.field);return Jw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=RE(e.unaryFilter.field);return Jw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=RE(e.unaryFilter.field);return Jw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Iy()}}(e):void 0!==e.fieldFilter?function(e){return Jw.create(RE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Iy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zw.create(e.compositeFilter.filters.map((e=>CE(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Iy()}}(e.compositeFilter.op))}(e):Iy()}function AE(e){return rE[e]}function NE(e){return iE[e]}function OE(e){return oE[e]}function PE(e){return{fieldPath:e.canonicalString()}}function RE(e){return Xy.fromServerFormat(e.fieldPath)}function DE(e){return e instanceof Jw?function(e){if("=="===e.op){if(Lw(e.value))return{unaryFilter:{field:PE(e.field),op:"IS_NAN"}};if(Dw(e.value))return{unaryFilter:{field:PE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lw(e.value))return{unaryFilter:{field:PE(e.field),op:"IS_NOT_NAN"}};if(Dw(e.value))return{unaryFilter:{field:PE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:PE(e.field),op:NE(e.op),value:e.value}}}(e):e instanceof Zw?function(e){const t=e.getFilters().map((e=>DE(e)));return 1===t.length?t[0]:{compositeFilter:{op:OE(e.op),filters:t}}}(e):Iy()}function LE(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ME(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class FE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dw.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new FE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new FE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new FE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new FE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jE{constructor(e){this.ct=e}}function UE(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cE(e,t.version.toTimestamp()),createTime:cE(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:VE(t.version)};else{if(!t.isUnknownDocument())return Iy();r.unknownDocument={path:n.path.toArray(),version:VE(t.version)}}return r}function zE(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function VE(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function BE(e){const t=new Ky(e.seconds,e.nanoseconds);return Hy.fromTimestamp(t)}function qE(e,t){const n=(t.baseMutations||[]).map((t=>SE(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>SE(e.ct,t))),i=Ky.fromMillis(t.localWriteTimeMs);return new RT(t.batchId,i,n,r)}function GE(e){const t=BE(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?BE(e.lastLimboFreeSnapshotVersion):Hy.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return xy(1===e.documents.length),N_(I_(yE(e.documents[0])))}(e.query):function(e){return N_(xE(e))}(e.query),new FE(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,dw.fromBase64String(e.resumeToken))}function KE(e,t){const n=VE(t.snapshotVersion),r=VE(t.lastLimboFreeSnapshotVersion);let i;i=w_(t.target)?kE(e.ct,t.target):IE(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:y_(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HE(e){const t=xE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?R_(t,t.limit,"L"):t}function WE(e,t){return new LT(t.largestBatchId,SE(e.ct,t.overlayMutation))}function QE(e,t){const n=t.path.lastSegment();return[e,Ib(t.path.popLast()),n]}function YE(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:VE(r.readTime),documentKey:Ib(r.documentKey.path),largestBatchId:r.largestBatchId}}class XE{getBundleMetadata(e,t){return $E(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:BE(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return $E(e).put(function(e){return{bundleId:e.id,createTime:VE(hE(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return JE(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:HE(e.bundledQuery),readTime:BE(e.readTime)}}(e)}))}saveNamedQuery(e,t){return JE(e).put(function(e){return{name:e.name,readTime:VE(hE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $E(e){return ew(e,"bundles")}function JE(e){return ew(e,"namedQueries")}class ZE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new ZE(e,n)}getOverlay(e,t){return eS(e).get(QE(this.userId,t)).next((e=>e?WE(this.serializer,e):null))}getOverlays(e,t){const n=W_();return ub.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new LT(t,i);r.push(this.ht(e,o))})),ub.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ib(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(eS(e).H("collectionPathOverlayIndex",r))})),ub.waitFor(i)}getOverlaysForCollection(e,t,n){const r=W_(),i=Ib(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return eS(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=WE(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=W_();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return eS(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=WE(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return eS(e).put(function(e,t,n){const[r,i,o]=QE(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:EE(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function eS(e){return ew(e,"documentOverlays")}class tS{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(mw(e.integerValue));else if("doubleValue"in e){const n=mw(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Sb(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(gw(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?jw(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Iy()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),$y.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function nS(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function rS(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=nS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}tS.bt=new tS;class iS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=rS(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=rS(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class oS{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class sS{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class aS{constructor(){this.Gt=new iS,this.zt=new oS(this.Gt),this.jt=new sS(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class cS{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new cS(this.indexId,this.documentKey,this.arrayValue,n)}}function lS(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=uS(e.arrayValue,t.arrayValue),0!==n?n:(n=uS(e.directionalValue,t.directionalValue),0!==n?n:$y.comparator(e.documentKey,t.documentKey)))}function uS(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class hS{constructor(e){this.Yt=new aw(((e,t)=>Xy.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(xy(e.collectionGroup===this.collectionId),this.en)return!1;const t=Zy(e);if(void 0!==t&&!this.nn(t))return!1;const n=eb(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new aw(Xy.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new tb(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new tb(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new tb(n.field,"asc"===n.dir?0:1)));return new Jy(Jy.UNKNOWN_ID,this.collectionId,t,nb.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function dS(e){var t,n;if(xy(e instanceof Jw||e instanceof Zw),e instanceof Jw){if(e instanceof f_){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jw.create(e.field,"==",t))))||[];return Zw.create(r,"or")}return e}const r=e.filters.map((e=>dS(e)));return Zw.create(r,e.op)}function fS(e){if(0===e.getFilters().length)return[];const t=vS(dS(e));return xy(gS(t)),pS(t)||mS(t)?[t]:t.getFilters()}function pS(e){return e instanceof Jw}function mS(e){return e instanceof Zw&&n_(e)}function gS(e){return pS(e)||mS(e)||function(e){if(e instanceof Zw&&t_(e)){for(const t of e.getFilters())if(!pS(t)&&!mS(t))return!1;return!0}return!1}(e)}function vS(e){if(xy(e instanceof Jw||e instanceof Zw),e instanceof Jw)return e;if(1===e.filters.length)return vS(e.filters[0]);const t=e.filters.map((e=>vS(e)));let n=Zw.create(t,e.op);return n=wS(n),gS(n)?n:(xy(n instanceof Zw),xy(e_(n)),xy(n.filters.length>1),n.filters.reduce(((e,t)=>yS(e,t))))}function yS(e,t){let n;return xy(e instanceof Jw||e instanceof Zw),xy(t instanceof Jw||t instanceof Zw),n=e instanceof Jw?t instanceof Jw?function(e,t){return Zw.create([e,t],"and")}(e,t):bS(e,t):t instanceof Jw?bS(t,e):function(e,t){if(xy(e.filters.length>0&&t.filters.length>0),e_(e)&&e_(t))return s_(e,t.getFilters());const n=t_(e)?e:t,r=t_(e)?t:e,i=n.filters.map((e=>yS(e,r)));return Zw.create(i,"or")}(e,t),wS(n)}function bS(e,t){if(e_(t))return s_(t,e.getFilters());{const n=t.filters.map((t=>yS(e,t)));return Zw.create(n,"or")}}function wS(e){if(xy(e instanceof Jw||e instanceof Zw),e instanceof Jw)return e;const t=e.getFilters();if(1===t.length)return wS(t[0]);if(r_(e))return e;const n=t.map((e=>wS(e))),r=[];return n.forEach((t=>{t instanceof Jw?r.push(t):t instanceof Zw&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Zw.create(r,e.op)}class _S{constructor(){this._n=new TS}addToCollectionParentIndex(e,t){return this._n.add(t),ub.resolve()}getCollectionParents(e,t){return ub.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ub.resolve()}deleteFieldIndex(e,t){return ub.resolve()}deleteAllFieldIndexes(e){return ub.resolve()}createTargetIndexes(e,t){return ub.resolve()}getDocumentsMatchingTarget(e,t){return ub.resolve(null)}getIndexType(e,t){return ub.resolve(0)}getFieldIndexes(e,t){return ub.resolve([])}getNextCollectionGroupToUpdate(e){return ub.resolve(null)}getMinOffset(e,t){return ub.resolve(ob.min())}getMinOffsetFromCollectionGroup(e,t){return ub.resolve(ob.min())}updateCollectionGroup(e,t,n){return ub.resolve()}updateIndexEntries(e,t){return ub.resolve()}}class TS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new aw(Qy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new aw(Qy.comparator)).toArray()}}const ES=new Uint8Array(0);class SS{constructor(e,t){this.databaseId=t,this.an=new TS,this.un=new V_((e=>y_(e)),((e,t)=>b_(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Ib(r)};return kS(e).put(i)}return ub.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Gy(t),""],!1,!0);return kS(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ab(r.parent))}return n}))}addFieldIndex(e,t){const n=xS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=CS(e);return i.next((e=>{n.put(YE(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=xS(e),r=CS(e),i=IS(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=xS(e),n=IS(e),r=CS(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return ub.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new hS(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=IS(e);let r=!0;const i=new Map;return ub.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=J_();const r=[];return ub.forEach(i,((i,o)=>{Ty("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(y_(t)));const s=function(e,t){const n=Zy(t);if(void 0===n)return null;for(const r of __(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of eb(t))for(const t of __(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of eb(t)){const t=0===i.kind?T_(e,i.fieldPath,e.startAt):E_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Hw(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of eb(t)){const t=0===i.kind?E_(e,i.fieldPath,e.endAt):T_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Hw(n,r)}(o,i),u=this.hn(i,o,c),h=this.hn(i,o,l),d=this.Pn(i,o,a),f=this.In(i.indexId,s,u,c.inclusive,h,l.inclusive,d);return ub.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=$y.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ub.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:fS(Zw.create(e.filters,"and")).map((t=>v_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/c]):ES,h=this.En(e,a,n[u%c],r),d=this.dn(e,a,i[u%c],o),f=s.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new cS(e,$y.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new cS(e,$y.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new hS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ub.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new aw(Xy.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new aS;for(const r of eb(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);tS.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new aS;return tS.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new aS;return tS.bt.Pt(Ow(this.databaseId,t),n.Ht(function(e){const t=eb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new aS);let i=0;for(const o of eb(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Rw(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);tS.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new aS;n.seed(e.Wt()),tS.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Jw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=xS(e),r=CS(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return ub.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new nb(t.sequenceNumber,new ob(BE(t.readTime),new $y(Ab(t.documentKey)),t.largestBatchId)):nb.empty(),r=e.fields.map((e=>{let[t,n]=e;return new tb(Xy.fromServerFormat(t),n)}));return new Jy(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:By(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=xS(e),i=CS(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ub.forEach(t,(t=>i.put(YE(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ub.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ub.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ub.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?ub.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return IS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return IS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=IS(e);let i=new aw(lS);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new cS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new aw(lS);const r=this.An(t,e);if(null==r)return n;const i=Zy(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Rw(o))for(const i of o.arrayValue.values||[])n=n.add(new cS(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new cS(t.indexId,e.key,ES,r));return n}wn(e,t,n,r,i){Ty("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=lw(o),c=lw(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=lw(s)):t?(i(a),a=lw(o)):(a=lw(o),c=lw(s))}}(r,i,lS,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),ub.waitFor(o)}gn(e){let t=1;return CS(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>lS(e,t))).filter(((e,t,n)=>!t||0!==lS(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=lS(o,e),i=lS(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,ES,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,ES,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return lS(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(AS)}getMinOffset(e,t){return ub.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Iy())))).next(AS)}}function kS(e){return ew(e,"collectionParents")}function IS(e){return ew(e,"indexEntries")}function xS(e){return ew(e,"indexConfiguration")}function CS(e){return ew(e,"indexState")}function AS(e){xy(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;sb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ob(t.readTime,t.documentKey,n)}const NS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class OS{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new OS(e,OS.DEFAULT_COLLECTION_PERCENTILE,OS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PS(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{xy(1===a)})));const l=[];for(const u of n.mutations){const e=Pb(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return ub.waitFor(o).next((()=>l))}function RS(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Iy();t=e.noDocument}return JSON.stringify(t).length}OS.DEFAULT_COLLECTION_PERCENTILE=10,OS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,OS.DEFAULT=new OS(41943040,OS.DEFAULT_COLLECTION_PERCENTILE,OS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),OS.DISABLED=new OS(-1,0,0);class DS{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){xy(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new DS(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return MS(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=FS(e),o=MS(e);return o.add({}).next((s=>{xy("number"==typeof s);const a=new RT(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>EE(e.ct,t))),i=n.mutations.map((t=>EE(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new aw(((e,t)=>By(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Pb(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,Rb))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),ub.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return MS(e).get(t).next((e=>e?(xy(e.userId===this.userId),qE(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ub.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return MS(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(xy(t.batchId>=n),i=qE(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return MS(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return MS(e).W("userMutationsIndex",t).next((e=>e.map((e=>qE(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ob(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return FS(e).Y({range:r},((n,r,o)=>{const[s,a,c]=n,l=Ab(a);if(s===this.userId&&t.path.isEqual(l))return MS(e).get(c).next((e=>{if(!e)throw Iy();xy(e.userId===this.userId),i.push(qE(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new aw(By);const r=[];return t.forEach((t=>{const i=Ob(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=FS(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,c=Ab(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),ub.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ob(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new aw(By);return FS(e).Y({range:o},((e,t,i)=>{const[o,a,c]=e,l=Ab(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(MS(e).get(t).next((e=>{if(null===e)throw Iy();xy(e.userId===this.userId),n.push(qE(this.serializer,e))})))})),ub.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return PS(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ub.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ub.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return FS(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ab(e[1]);r.push(t)}else n.done()})).next((()=>{xy(0===r.length)}))}))}containsKey(e,t){return LS(e,this.userId,t)}xn(e){return jS(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function LS(e,t,n){const r=Ob(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return FS(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function MS(e){return ew(e,"mutations")}function FS(e){return ew(e,"documentMutations")}function jS(e){return ew(e,"mutationQueues")}class US{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new US(0)}static Ln(){return new US(-1)}}class zS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new US(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Hy.fromTimestamp(new Ky(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>VS(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(xy(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return VS(e).Y(((o,s)=>{const a=GE(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ub.waitFor(i))).next((()=>r))}forEachTarget(e,t){return VS(e).Y(((e,n)=>{const r=GE(n);t(r)}))}Bn(e){return BS(e).get("targetGlobalKey").next((e=>(xy(null!==e),e)))}kn(e,t){return BS(e).put("targetGlobalKey",t)}qn(e,t){return VS(e).put(KE(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=y_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return VS(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=GE(n);b_(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qS(e);return t.forEach((t=>{const o=Ib(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),ub.waitFor(r)}removeMatchingKeys(e,t,n){const r=qS(e);return ub.forEach(t,(t=>{const i=Ib(t.path);return ub.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qS(e);let i=J_();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ab(e[1]),o=new $y(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Ib(t.path),r=IDBKeyRange.bound([n],[Gy(n)],!1,!0);let i=0;return qS(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return VS(e).get(t).next((e=>e?GE(e):null))}}function VS(e){return ew(e,"targets")}function BS(e){return ew(e,"targetGlobal")}function qS(e){return ew(e,"targetDocuments")}function GS(e,t){let[n,r]=e,[i,o]=t;const s=By(n,i);return 0===s?By(r,o):s}class KS{constructor(e){this.Kn=e,this.buffer=new aw(GS),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();GS(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Ty("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){mb(e)?Ty("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await lb(e)}await this.zn(3e5)}))}}class WS{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ub.resolve(Tb._e);const n=new KS(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ty("LruGarbageCollector","Garbage collection skipped; disabled"),ub.resolve(NS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ty("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),NS):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ty("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),_y()<=ia.DEBUG&&Ty("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),ub.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function QS(e,t){return new WS(e,t)}class YS{constructor(e,t){this.db=e,this.garbageCollector=QS(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return XS(e,n)}removeReference(e,t,n){return XS(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return XS(e,t)}er(e,t){return function(e,t){let n=!1;return jS(e).Z((r=>LS(e,r,t).next((e=>(e&&(n=!0),ub.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Hy.min()),qS(e).delete(function(e){return[0,Ib(e.path)]}(o)))))}));r.push(t)}})).next((()=>ub.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return XS(e,t)}Xn(e,t){const n=qS(e);let r,i=Tb._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==Tb._e&&t(new $y(Ab(r)),i),i=c,r=a):i=Tb._e})).next((()=>{i!==Tb._e&&t(new $y(Ab(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function XS(e,t){return qS(e).put(function(e,t){return{targetId:0,path:Ib(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class $S{constructor(){this.changes=new V_((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ub.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return nk(e).put(n)}removeEntry(e,t,n){return nk(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],zE(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Kw.newInvalidDocument(t);return nk(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rk(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Kw.newInvalidDocument(t)};return nk(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rk(t))},((e,r)=>{n={document:this.nr(t,r),size:RS(r)}})).next((()=>n))}getEntries(e,t){let n=q_();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=q_(),r=new iw($y.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,RS(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return ub.resolve();let r=new aw(ok);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(rk(r.first()),rk(r.last())),o=r.getIterator();let s=o.getNext();return nk(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=$y.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&ok(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(rk(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),zE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nk(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=q_();for(const i of e){const e=this.nr($y.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(F_(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=q_();const o=ik(t,n),s=ik(t,ob.max());return nk(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr($y.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ek(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return tk(e).get("remoteDocumentGlobalKey").next((e=>(xy(!!e),e)))}tr(e,t){return tk(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=TE(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$y.fromSegments(t.noDocument.path),r=BE(t.noDocument.readTime);n=Kw.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Iy();{const e=$y.fromSegments(t.unknownDocument.path),r=BE(t.unknownDocument.version);n=Kw.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Ky(e[0],e[1]);return Hy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Hy.min()))return e}return Kw.newInvalidDocument(e)}}function ZS(e){return new JS(e)}class ek extends $S{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new V_((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new aw(((e,t)=>By(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=UE(this.ar.serializer,o);r=r.add(i.path.popLast());const c=RS(a);n+=c-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=UE(this.ar.serializer,o.convertToNoDocument(Hy.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ub.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function tk(e){return ew(e,"remoteDocumentGlobal")}function nk(e){return ew(e,"remoteDocumentsV14")}function rk(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ik(e,t){const n=t.documentKey.path.toArray();return[e,zE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ok(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=By(n[o],r[o]),i)return i;return i=By(n.length,r.length),i||(i=By(n[n.length-2],r[r.length-2]),i||By(n[n.length-1],r[r.length-1]))}class sk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ak{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ET(n.mutation,e,uw.empty(),Ky.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,J_()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J_();const r=W_();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=K_();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=W_();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,J_())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=q_();const o=Y_(),s=Y_();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xT)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),ET(s.mutation,t,s.mutation.getFieldMask(),Ky.now())):o.set(t.key,uw.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new sk(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Y_();let r=new iw(((e,t)=>e-t)),i=J_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||uw.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||J_()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Q_();c.forEach((e=>{if(!i.has(e)){const r=_T(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return ub.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return $y.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):C_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ub.resolve(W_());let s=-1,a=i;return o.next((t=>ub.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ub.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,J_()))).next((e=>({batchId:s,changes:H_(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $y(t)).next((e=>{let t=K_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=K_();return this.indexManager.getCollectionParents(e,i).next((s=>ub.forEach(s,(s=>{const a=function(e,t){return new S_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kw.newInvalidDocument(r)))}));let n=K_();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ET(o.mutation,r,uw.empty(),Ky.now()),F_(t,r)&&(n=n.insert(e,r))})),n}))}}class ck{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ub.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:hE(e.createTime)}}(t)),ub.resolve()}getNamedQuery(e,t){return ub.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:HE(e.bundledQuery),readTime:hE(e.readTime)}}(t)),ub.resolve()}}class lk{constructor(){this.overlays=new iw($y.comparator),this.hr=new Map}getOverlay(e,t){return ub.resolve(this.overlays.get(t))}getOverlays(e,t){const n=W_();return ub.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ub.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ub.resolve()}getOverlaysForCollection(e,t,n){const r=W_(),i=t.length+1,o=new $y(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ub.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new iw(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=W_(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=W_(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return ub.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new LT(t,n));let i=this.hr.get(t);void 0===i&&(i=J_(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class uk{constructor(){this.Pr=new aw(hk.Ir),this.Tr=new aw(hk.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new hk(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new hk(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new $y(new Qy([])),n=new hk(t,e),r=new hk(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new $y(new Qy([])),n=new hk(t,e),r=new hk(t,e+1);let i=J_();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new hk(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hk{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return $y.comparator(e.key,t.key)||By(e.pr,t.pr)}static Er(e,t){return By(e.pr,t.pr)||$y.comparator(e.key,t.key)}}class dk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new aw(hk.Ir)}checkEmpty(e){return ub.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RT(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new hk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ub.resolve(o)}lookupMutationBatch(e,t){return ub.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ub.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ub.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ub.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hk(t,0),r=new hk(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ub.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new aw(By);return t.forEach((e=>{const t=new hk(e,0),r=new hk(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ub.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$y.isDocumentKey(i)||(i=i.child(""));const o=new hk(new $y(i),0);let s=new aw(By);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),ub.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){xy(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ub.forEach(t.mutations,(r=>{const i=new hk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new hk(t,0),r=this.wr.firstAfterOrEqual(n);return ub.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ub.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fk{constructor(e){this.vr=e,this.docs=new iw($y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ub.resolve(n?n.document.mutableCopy():Kw.newInvalidDocument(t))}getEntries(e,t){let n=q_();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kw.newInvalidDocument(e))})),ub.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=q_();const o=t.path,s=new $y(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||sb(ib(s),n)<=0||(r.has(s.key)||F_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ub.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Iy()}Fr(e,t){return ub.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new pk(this)}getSize(e){return ub.resolve(this.size)}}class pk extends $S{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ub.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class mk{constructor(e){this.persistence=e,this.Mr=new V_((e=>y_(e)),b_),this.lastRemoteSnapshotVersion=Hy.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uk,this.targetCount=0,this.Lr=US.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ub.resolve()}getLastRemoteSnapshotVersion(e){return ub.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ub.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ub.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ub.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new US(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ub.resolve()}updateTargetData(e,t){return this.qn(t),ub.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ub.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ub.waitFor(i).next((()=>r))}getTargetCount(e){return ub.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ub.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ub.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ub.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ub.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ub.resolve(n)}containsKey(e,t){return ub.resolve(this.Nr.containsKey(t))}}class gk{constructor(e,t){this.Br={},this.overlays={},this.kr=new Tb(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new mk(this),this.indexManager=new _S,this.remoteDocumentCache=function(e){return new fk(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new jE(t),this.$r=new ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new dk(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Ty("MemoryPersistence","Starting transaction:",e);const r=new vk(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ub.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class vk extends cb{constructor(e){super(),this.currentSequenceNumber=e}}class yk{constructor(e){this.persistence=e,this.zr=new uk,this.jr=null}static Hr(e){return new yk(e)}get Jr(){if(this.jr)return this.jr;throw Iy()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ub.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ub.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ub.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ub.forEach(this.Jr,(n=>{const r=$y.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Hy.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ub.or([()=>ub.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class bk{constructor(e){this.serializer=e}N(e,t,n,r){const i=new hb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nb,{unique:!0}),e.createObjectStore("documentMutations")}(e),wk(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=ub.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wk(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nb,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ub.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Kb});t.createIndex("collectionPathOverlayIndex",Hb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Wb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Db});t.createIndex("documentKeyIndex",Lb),t.createIndex("collectionGroupIndex",Mb)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vb}).createIndex("sequenceNumberIndex",Bb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qb}).createIndex("documentKeyIndex",Gb,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=RS(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>ub.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>ub.forEach(n,(n=>{xy(n.userId===t.userId);const r=qE(this.serializer,n);return PS(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Qy(n),s=function(e){return[0,Ib(e)]}(o);r.push(t.get(s).next((n=>n?ub.resolve():(n=>t.put({targetId:0,path:Ib(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>ub.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:zb});const n=t.store("collectionParents"),r=new TS,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ib(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Qy(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=Ab(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=GE(n),i=KE(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new $y(Qy.fromString(e.document.name).popFirst(5)):e.noDocument?$y.fromSegments(e.noDocument.path):e.unknownDocument?$y.fromSegments(e.unknownDocument.path):Iy()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>ub.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=ZS(this.serializer),i=new gk(yk.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:J_();qE(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ub.forEach(n,((e,n)=>{const o=new yy(n),s=ZE.lt(this.serializer,o),a=i.getIndexManager(o),c=DS.lt(o,this.serializer,a,i.referenceDelegate);return new ak(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Zb(t,Tb._e),e).next()}))}))}}function wk(e){e.createObjectStore("targetDocuments",{keyPath:jb}).createIndex("documentTargetsIndex",Ub,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fb,{unique:!0}),e.createObjectStore("targetGlobal")}const _k="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tk{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Tk.D())throw new Ny(Ay.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YS(this,r),this.Ti=t+"main",this.serializer=new jE(a),this.Ei=new db(this.Ti,this.ui,new bk(this.serializer)),this.Qr=new zS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZS(this.serializer),this.$r=new XE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Ey("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ny(Ay.FAILED_PRECONDITION,_k);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Tb(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Sk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(mb(e))return Ty("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ty("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Ek(e).get("owner").next((e=>ub.resolve(this.Si(e))))}bi(e){return Sk(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ew(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ub.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ub.resolve(!0):Ek(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Ny(Ay.FAILED_PRECONDITION,_k);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sk(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ty("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Zb(e,Tb._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Sk(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return DS.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SS(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ZE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Ty("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Jb:14===e?$b:13===e?Xb:12===e?Yb:11===e?Qb:void Iy()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Zb(r,this.kr?this.kr.next():Tb._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Ey("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Ny(Ay.FAILED_PRECONDITION,ab);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Ek(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ny(Ay.FAILED_PRECONDITION,_k)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ek(e).put("owner",t)}static D(){return db.D()}yi(e){const t=Ek(e);return t.get("owner").next((e=>this.Si(e)?(Ty("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ub.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ey("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;js()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Ty("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ey("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(OW){Ey("Failed to set zombie client id.",OW)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(OW){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ek(e){return ew(e,"owner")}function Sk(e){return ew(e,"clientMetadata")}function kk(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ik{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=J_(),r=J_();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ik(e,t.fromCache,n,r)}}class xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ck{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=js()?8:db.v(Ps())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new xk;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(_y()<=ia.DEBUG&&Ty("QueryEngine","SDK will not create cache indexes for query:",M_(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ub.resolve()):(_y()<=ia.DEBUG&&Ty("QueryEngine","Query:",M_(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(_y()<=ia.DEBUG&&Ty("QueryEngine","The SDK decides to create cache indexes for query:",M_(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,N_(t))):ub.resolve())}ji(e,t){if(x_(t))return ub.resolve(null);let n=N_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=R_(t,null,"F"),n=N_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=J_(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,R_(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return x_(t)||r.isEqual(Hy.min())?ub.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?ub.resolve(null):(_y()<=ia.DEBUG&&Ty("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),M_(t)),this.es(e,o,t,rb(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new aw(U_(e));return t.forEach(((t,r)=>{F_(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return _y()<=ia.DEBUG&&Ty("QueryEngine","Using full collection scan to execute query:",M_(t)),this.zi.getDocumentsMatchingQuery(e,t,ob.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ak{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new iw(By),this.rs=new V_((e=>y_(e)),b_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ak(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Nk(e,t,n,r){return new Ak(e,t,n,r)}async function Ok(e,t){const n=Cy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=J_();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Pk(e){const t=Cy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Rk(e,t,n){let r=J_(),i=J_();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=q_();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Hy.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ty("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Dk(e,t){const n=Cy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Lk(e,t){const n=Cy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ub.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new FE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Mk(e,t,n){const r=Cy(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!mb(e))throw e;Ty("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Fk(e,t,n){const r=Cy(e);let i=Hy.min(),o=J_();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Cy(e),i=r.rs.get(n);return void 0!==i?ub.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,N_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Hy.min(),n?o:J_()))).next((e=>(zk(r,j_(t),e),{documents:e,hs:o})))))}function jk(e,t){const n=Cy(e),r=Cy(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Uk(e,t){const n=Cy(e),r=n.ss.get(t)||Hy.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,rb(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(zk(n,t,e),e)))}function zk(e,t,n){let r=e.ss.get(t)||Hy.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Vk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J_();const r=await Lk(e,N_(HE(t.bundledQuery))),i=Cy(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=hE(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(dw.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Bk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qk(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Gk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Kk{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ny(r.error.code,r.error.message))),o?new Kk(e,t,r.state,i):(Ey("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hk{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ny(n.error.code,n.error.message))),i?new Hk(e,n.state,r):(Ey("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wk{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=eT();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=kb(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Wk(e,i):(Ey("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Qk{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qk(t.clientId,t.onlineState):(Ey("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Yk{constructor(){this.activeTargetIds=eT()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new iw(By),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Bk(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Yk),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Bk(this.persistenceKey,n));if(e){const t=Wk.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Gk(this.persistenceKey,e));if(n){const r=Hk.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gk(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ty("SharedClientState","READ",e,t),t}setItem(e,t){Ty("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ty("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Ty("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Ey("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Tb._e;if(null!=e)try{const n=JSON.parse(e);xy("number"==typeof n),t=n}catch(e){Ey("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Tb._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Kk(this.currentUser,e,t,n),i=qk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=qk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Gk(this.persistenceKey,e),i=new Hk(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Wk.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kk.Es(new yy(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Hk.Es(r,t)}xs(e){return Qk.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Ty("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=eT();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class $k{constructor(){this.no=new Yk,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jk{io(e){}shutdown(){}}class Zk{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ty("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ty("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eI=null;function tI(){return null===eI?eI=268435456+Math.round(2147483648*Math.random()):eI++,"0x"+eI.toString(16)}const nI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const iI="WebChannelConnection";class oI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=tI(),s=this.bo(e,t.toUriEncodedString());Ty("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Ty("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Sy("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+by,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=nI[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=tI();return new Promise(((o,s)=>{const a=new py;a.setWithCredentials(!0),a.listenOnce(uy.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ly.NO_ERROR:const t=a.getResponseJson();Ty(iI,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case ly.TIMEOUT:Ty(iI,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Ny(Ay.DEADLINE_EXCEEDED,"Request time out"));break;case ly.HTTP_ERROR:const n=a.getStatus();if(Ty(iI,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ay).indexOf(t)>=0?t:Ay.UNKNOWN}(t.status);s(new Ny(e,t.message))}else s(new Ny(Ay.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ny(Ay.UNAVAILABLE,"Connection failed."));break;default:Iy()}}finally{Ty(iI,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Ty(iI,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=tI(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ay(),s=cy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Ty(iI,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new rI({lo:t=>{d?Ty(iI,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ty(iI,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ty(iI,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,fy.EventType.OPEN,(()=>{d||Ty(iI,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,fy.EventType.CLOSE,(()=>{d||(d=!0,Ty(iI,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,fy.EventType.ERROR,(t=>{d||(d=!0,Sy(iI,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Ny(Ay.UNAVAILABLE,"The operation could not be completed")))})),p(u,fy.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];xy(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ty(iI,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=FT[e];if(void 0!==t)return zT(t)}(t),i=s.message;void 0===n&&(n=Ay.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new Ny(n,i)),u.close()}else Ty(iI,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,hy.STAT_EVENT,(t=>{t.stat===dy.PROXY?Ty(iI,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dy.NOPROXY&&Ty(iI,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function sI(){return"undefined"!=typeof window?window:null}function aI(){return"undefined"!=typeof document?document:null}function cI(e){return new sE(e,!0)}class lI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Ty("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class uI{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new lI(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Ay.RESOURCE_EXHAUSTED?(Ey(t.toString()),Ey("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Ay.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Ny(Ay.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Ty("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Ty("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hI extends uI{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Iy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(xy(void 0===t||"string"==typeof t),dw.fromBase64String(t||"")):(xy(void 0===t||t instanceof Uint8Array),dw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ay.UNKNOWN:zT(e.code);return new Ny(t,e.message||"")}(s);n=new JT(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gE(e,r.document.name),o=hE(r.document.updateTime),s=r.document.createTime?hE(r.document.createTime):Hy.min(),a=new qw({mapValue:{fields:r.document.fields}}),c=Kw.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new XT(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gE(e,r.document),o=r.readTime?hE(r.readTime):Hy.min(),s=Kw.newNoDocument(i,o),a=r.removedTargetIds||[];n=new XT([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gE(e,r.document),o=r.removedTargetIds||[];n=new XT([],o,i,null)}else{if(!("filter"in t))return Iy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new MT(r,i),s=e.targetId;n=new $T(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Hy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Hy.min():t.readTime?hE(t.readTime):Hy.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=bE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=w_(r)?{documents:kE(e,r)}:{query:IE(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lE(e,t.resumeToken);const r=aE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Hy.min())>0){n.readTime=cE(e,t.snapshotVersion.toTimestamp());const r=aE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Iy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=bE(this.serializer),t.removeTarget=e,this.t_(t)}}class dI extends uI{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(xy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(xy(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?hE(e.updateTime):hE(t);return n.isEqual(Hy.min())&&(n=hE(t)),new vT(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=hE(e.commitTime);return this.listener.T_(n,t)}return xy(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=bE(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>EE(this.serializer,e)))};this.t_(t)}}class fI extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ny(Ay.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,fE(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ay.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ny(Ay.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,fE(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ay.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ny(Ay.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class pI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ey(t),this.g_=!1):Ty("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class mI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{SI(this)&&(Ty("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Cy(e);t.v_.add(4),await vI(t),t.x_.set("Unknown"),t.v_.delete(4),await gI(t)}(this))}))})),this.x_=new pI(n,r)}}async function gI(e){if(SI(e))for(const t of e.F_)await t(!0)}async function vI(e){for(const t of e.F_)await t(!1)}function yI(e,t){const n=Cy(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),EI(n)?TI(n):BI(n).Jo()&&wI(n,t))}function bI(e,t){const n=Cy(e),r=BI(n);n.C_.delete(t),r.Jo()&&_I(n,t),0===n.C_.size&&(r.Jo()?r.Xo():SI(n)&&n.x_.set("Unknown"))}function wI(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Hy.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}BI(e).c_(t)}function _I(e,t){e.O_.Oe(t),BI(e).l_(t)}function TI(e){e.O_=new eE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),BI(e).start(),e.x_.p_()}function EI(e){return SI(e)&&!BI(e).Ho()&&e.C_.size>0}function SI(e){return 0===Cy(e).v_.size}function kI(e){e.O_=void 0}async function II(e){e.C_.forEach(((t,n)=>{wI(e,t)}))}async function xI(e,t){kI(e),EI(e)?(e.x_.S_(t),TI(e)):e.x_.set("Unknown")}async function CI(e,t,n){if(e.x_.set("Online"),t instanceof JT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Ty("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await AI(e,n)}else if(t instanceof XT?e.O_.$e(t):t instanceof $T?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Hy.min()))try{const t=await Pk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(dw.EMPTY_BYTE_STRING,r.snapshotVersion)),_I(e,t);const i=new FE(r.target,t,n,r.sequenceNumber);wI(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ty("RemoteStore","Failed to raise snapshot:",t),await AI(e,t)}}async function AI(e,t,n){if(!mb(t))throw t;e.v_.add(1),await vI(e),e.x_.set("Offline"),n||(n=()=>Pk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ty("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await gI(e)}))}function NI(e,t){return t().catch((n=>AI(e,n,t)))}async function OI(e){const t=Cy(e),n=qI(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;PI(t);)try{const e=await Dk(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,RI(t,e)}catch(e){await AI(t,e)}DI(t)&&LI(t)}function PI(e){return SI(e)&&e.D_.length<10}function RI(e,t){e.D_.push(t);const n=qI(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function DI(e){return SI(e)&&!qI(e).Ho()&&e.D_.length>0}function LI(e){qI(e).start()}async function MI(e){qI(e).d_()}async function FI(e){const t=qI(e);for(const n of e.D_)t.I_(n.mutations)}async function jI(e,t,n){const r=e.D_.shift(),i=DT.from(r,t,n);await NI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await OI(e)}async function UI(e,t){t&&qI(e).P_&&await async function(e,t){if(function(e){return UT(e)&&e!==Ay.ABORTED}(t.code)){const n=e.D_.shift();qI(e).Zo(),await NI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await OI(e)}}(e,t),DI(e)&&LI(e)}async function zI(e,t){const n=Cy(e);n.asyncQueue.verifyOperationInProgress(),Ty("RemoteStore","RemoteStore received new credentials");const r=SI(n);n.v_.add(3),await vI(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await gI(n)}async function VI(e,t){const n=Cy(e);t?(n.v_.delete(2),await gI(n)):t||(n.v_.add(2),await vI(n),n.x_.set("Unknown"))}function BI(e){return e.N_||(e.N_=function(e,t,n){const r=Cy(e);return r.R_(),new hI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:II.bind(null,e),To:xI.bind(null,e),u_:CI.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),EI(e)?TI(e):e.x_.set("Unknown")):(await e.N_.stop(),kI(e))}))),e.N_}function qI(e){return e.L_||(e.L_=function(e,t,n){const r=Cy(e);return r.R_(),new dI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:MI.bind(null,e),To:UI.bind(null,e),E_:FI.bind(null,e),T_:jI.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await OI(e)):(await e.L_.stop(),e.D_.length>0&&(Ty("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class GI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Oy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new GI(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ny(Ay.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KI(e,t){if(Ey("AsyncQueue","".concat(t,": ").concat(e)),mb(e))return new Ny(Ay.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class HI{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$y.comparator(t.key,n.key):(e,t)=>$y.comparator(e.key,t.key),this.keyedMap=K_(),this.sortedSet=new iw(this.comparator)}static emptySet(e){return new HI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof HI))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new HI;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class WI{constructor(){this.B_=new iw($y.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Iy():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class QI{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new QI(e,t,HI.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&D_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class YI{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class XI{constructor(){this.queries=new V_((e=>L_(e)),D_),this.onlineState="Unknown",this.W_=new Set}}async function $I(e,t){const n=Cy(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new YI,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=KI(e,"Initialization of query '".concat(M_(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&tx(n)}async function JI(e,t){const n=Cy(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZI(e,t){const n=Cy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&tx(n)}function ex(e,t,n){const r=Cy(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function tx(e){e.W_.forEach((e=>{e.next()}))}var nx,rx;(rx=nx||(nx={})).j_="default",rx.Cache="cache";class ix{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new QI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=QI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==nx.Cache}}class ox{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class sx{constructor(e){this.serializer=e}Ps(e){return gE(this.serializer,e)}Is(e){return e.metadata.exists?TE(this.serializer,e.document,!1):Kw.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return hE(e)}}class ax{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cx(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=Qy.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new sx(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||J_()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Cy(e);let o=J_(),s=q_();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(o=o.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await Lk(i,function(e){return N_(I_(Qy.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Rk(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new sx(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await Vk(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function cx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class lx{constructor(e){this.key=e}}class ux{constructor(e){this.key=e}}class hx{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=J_(),this.mutatedKeys=J_(),this.ha=U_(e),this.Pa=new HI(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new WI,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=F_(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||c&&this.ha(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Iy()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const s=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,c=a!==this.ca;return this.ca=a,0!==o.length||c?{snapshot:new QI(this.query,e.Pa,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new WI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=J_(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new ux(e))})),this.la.forEach((n=>{e.has(n)||t.push(new lx(n))})),t}fa(e){this.ua=e.hs,this.la=J_();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return QI.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class dx{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fx{constructor(e){this.key=e,this.pa=!1}}class px{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new V_((e=>L_(e)),D_),this.Sa=new Map,this.ba=new Set,this.Da=new iw($y.comparator),this.Ca=new Map,this.va=new uk,this.Fa={},this.Ma=new Map,this.xa=US.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function mx(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Gx(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await vx(r,t,n,!0),i}async function gx(e,t){const n=Gx(e);await vx(n,t,!0,!1)}async function vx(e,t,n,r){const i=await Lk(e.localStore,N_(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await yx(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&yI(e.remoteStore,i),a}async function yx(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await Fk(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Nx(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const o=await Fk(e.localStore,t,!0),s=new hx(t,o.hs),a=s.Ta(o.documents),c=YT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Nx(e,n,l.Va);const u=new dx(t,n,s);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),l.snapshot}async function bx(e,t,n){const r=Cy(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!D_(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mk(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bI(r.remoteStore,i.targetId),Cx(r,i.targetId)})).catch(lb)):(Cx(r,i.targetId),await Mk(r.localStore,i.targetId,!0))}async function wx(e,t){const n=Cy(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bI(n.remoteStore,r.targetId))}async function _x(e,t){const n=Cy(e);try{const e=await function(e,t){const n=Cy(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(dw.EMPTY_BYTE_STRING,Hy.min()).withLastLimboFreeSnapshotVersion(Hy.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Qr.updateTargetData(e,l))}));let a=q_(),c=J_();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Rk(e,o,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(Hy.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ub.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(xy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?xy(r.pa):e.removedDocuments.size>0&&(xy(r.pa),r.pa=!1))})),await Rx(n,e,t)}catch(e){await lb(e)}}function Tx(e,t,n){const r=Cy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Cy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&tx(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ex(e,t,n){const r=Cy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new iw($y.comparator);e=e.insert(o,Kw.newNoDocument(o,Hy.min()));const n=J_().add(o),i=new QT(Hy.min(),new Map,new iw(By),e,n);await _x(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),Px(r)}else await Mk(r.localStore,t,!1).then((()=>Cx(r,t,n))).catch(lb)}async function Sx(e,t){const n=Cy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Cy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ub.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);xy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=J_();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);xx(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rx(n,e)}catch(e){await lb(e)}}async function kx(e,t,n){const r=Cy(e);try{const e=await function(e,t){const n=Cy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(xy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);xx(r,t,n),Ix(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rx(r,e)}catch(n){await lb(n)}}function Ix(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function xx(e,t,n){const r=Cy(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Cx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||Ax(e,t)}))}function Ax(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(bI(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Px(e))}function Nx(e,t,n){for(const r of n)r instanceof lx?(e.va.addReference(r.key,t),Ox(e,r)):r instanceof ux?(Ty("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Ax(e,r.key)):Iy()}function Ox(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Ty("SyncEngine","New document in limbo: "+n),e.ba.add(r),Px(e))}function Px(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new $y(Qy.fromString(t)),r=e.xa.next();e.Ca.set(r,new fx(n)),e.Da=e.Da.insert(n,r),yI(e.remoteStore,new FE(N_(I_(n.path)),r,"TargetPurposeLimboResolution",Tb._e))}}async function Rx(e,t,n){const r=Cy(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{s.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ik.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=Cy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ub.forEach(t,(t=>ub.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ub.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!mb(e))throw e;Ty("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Dx(e,t){const n=Cy(e);if(!n.currentUser.isEqual(t)){Ty("SyncEngine","User change. New user:",t.toKey());const e=await Ok(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Ny(Ay.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rx(n,e.us)}}function Lx(e,t){const n=Cy(e),r=n.Ca.get(t);if(r&&r.pa)return J_().add(r.key);{let e=J_();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function Mx(e,t){const n=Cy(e),r=await Fk(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&Nx(n,t.targetId,i.Va),i}async function Fx(e,t){const n=Cy(e);return Uk(n.localStore,t).then((e=>Rx(n,e)))}async function jx(e,t,n,r){const i=Cy(e),o=await function(e,t){const n=Cy(e),r=Cy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ub.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await OI(i.remoteStore):"acknowledged"===n||"rejected"===n?(xx(i,t,r||null),Ix(i,t),function(e,t){Cy(Cy(e).mutationQueue).Mn(t)}(i.localStore,t)):Iy(),await Rx(i,o)):Ty("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Ux(e,t,n){const r=Cy(e),i=[],o=[];for(const s of t){let e;const t=r.Sa.get(s);if(t&&0!==t.length){e=await Lk(r.localStore,N_(t[0]));for(const e of t){const t=r.wa.get(e),n=await Mx(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await jk(r.localStore,s);e=await Lk(r.localStore,t),await yx(r,zx(t),s,!1,e.resumeToken)}i.push(e)}return r.ya.u_(o),i}function zx(e){return k_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vx(e){return function(e){return Cy(Cy(e).persistence).Bi()}(Cy(e).localStore)}async function Bx(e,t,n,r){const i=Cy(e);if(i.Oa)return void Ty("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Uk(i.localStore,j_(o[0])),r=QT.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,dw.EMPTY_BYTE_STRING);await Rx(i,e,r);break}case"rejected":await Mk(i.localStore,t,!0),Cx(i,t,r);break;default:Iy()}}async function qx(e,t,n){const r=Gx(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Ty("SyncEngine","Adding an already active target "+e);continue}const t=await jk(r.localStore,e),n=await Lk(r.localStore,t);await yx(r,zx(t),n.targetId,!1,n.resumeToken),yI(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await Mk(r.localStore,e,!1).then((()=>{bI(r.remoteStore,e),Cx(r,e)})).catch(lb)}}function Gx(e){const t=Cy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ex.bind(null,t),t.ya.u_=ZI.bind(null,t.eventManager),t.ya.La=ex.bind(null,t.eventManager),t}function Kx(e){const t=Cy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,t),t}class Hx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cI(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Nk(this.persistence,new Ck,e.initialUser,this.serializer)}createPersistence(e){return new gk(yk.Hr,this.serializer)}createSharedClientState(e){return new $k}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Wx extends Hx{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await Kx(this.ka.syncEngine),await OI(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Nk(this.persistence,new Ck,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new HS(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new _b(t,this.persistence);return new wb(e.asyncQueue,n)}createPersistence(e){const t=kk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?OS.withCacheSize(this.cacheSizeBytes):OS.DEFAULT;return new Tk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sI(),aI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $k}}class Qx extends Wx{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof Xk&&(this.sharedClientState.syncEngine={Zs:jx.bind(null,t),Xs:Bx.bind(null,t),eo:qx.bind(null,t),Bi:Vx.bind(null,t),Ys:Fx.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Cy(e);if(Gx(n),Kx(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Ux(n,e.toArray());n.Oa=!0,await VI(n.remoteStore,!0);for(const r of t)yI(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Cx(n,i),Mk(n.localStore,i,!0)))),bI(n.remoteStore,i)})),await t,await Ux(n,e),function(e){const t=Cy(e);t.Ca.forEach(((e,n)=>{bI(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new iw($y.comparator)}(n),n.Oa=!1,await VI(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=sI();if(!Xk.D(t))throw new Ny(Ay.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=kk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Yx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tx(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dx.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new XI}createDatastore(e){const t=cI(e.databaseInfo.databaseId),n=function(e){return new oI(e)}(e.databaseInfo);return function(e,t,n,r){return new fI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mI(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Tx(this.syncEngine,e,0)),Zk.D()?new Zk:new Jk)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new px(e,t,n,r,i,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Cy(e);Ty("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await vI(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Xx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class $x{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Ey("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Jx{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new Oy,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new ox(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Zx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ny(Ay.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Cy(e),r={documents:t.map((e=>mE(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Qy.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){xy(!!t.found),t.found.name,t.found.updateTime;const n=gE(e,t.found.name),r=hE(t.found.updateTime),i=t.found.createTime?hE(t.found.createTime):Hy.min(),o=new qw({mapValue:{fields:t.found.fields}});return Kw.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){xy(!!t.missing),xy(!!t.readTime);const n=gE(e,t.missing),r=hE(t.readTime);return Kw.newNoDocument(n,r)}(e,t):Iy()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());xy(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new OT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=$y.fromPath(t);this.mutations.push(new PT(n,this.precondition(n)))})),await async function(e,t){const n=Cy(e),r={writes:t.map((e=>EE(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Qy.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Iy();t=Hy.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ny(Ay.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hy.min())?yT.exists(!1):yT.updateTime(t):yT.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hy.min()))throw new Ny(Ay.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yT.updateTime(t)}return yT.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eC{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new lI(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new Zx(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!Eb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!UT(t)}return!1}}class tC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yy.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ty("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ty("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ny(Ay.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=KI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function nC(e,t){e.asyncQueue.verifyOperationInProgress(),Ty("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ok(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await oC(e);Ty("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>zI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zI(t.remoteStore,n))),e._onlineComponents=t}function iC(e){return"FirebaseError"===e.name?e.code===Ay.FAILED_PRECONDITION||e.code===Ay.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function oC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ty("FirestoreClient","Using user provided OfflineComponentProvider");try{await nC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!iC(n))throw n;Sy("Error using user provided cache. Falling back to memory cache: "+n),await nC(e,new Hx)}}else Ty("FirestoreClient","Using default OfflineComponentProvider"),await nC(e,new Hx);return e._offlineComponents}async function sC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ty("FirestoreClient","Using user provided OnlineComponentProvider"),await rC(e,e._uninitializedComponentsProvider._online)):(Ty("FirestoreClient","Using default OnlineComponentProvider"),await rC(e,new Yx))),e._onlineComponents}function aC(e){return oC(e).then((e=>e.persistence))}function cC(e){return oC(e).then((e=>e.localStore))}function lC(e){return sC(e).then((e=>e.remoteStore))}function uC(e){return sC(e).then((e=>e.syncEngine))}function hC(e){return sC(e).then((e=>e.datastore))}async function dC(e){const t=await sC(e),n=t.eventManager;return n.onListen=mx.bind(null,t.syncEngine),n.onUnlisten=bx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wx.bind(null,t.syncEngine),n}function fC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new $x({next:o=>{t.enqueueAndForget((()=>JI(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ny(Ay.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ny(Ay.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new ix(I_(n.path),o,{includeMetadataChanges:!0,ta:!0});return $I(e,s)}(await dC(e),e.asyncQueue,t,n,r))),r.promise}function pC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new $x({next:n=>{t.enqueueAndForget((()=>JI(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ny(Ay.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ix(n,o,{includeMetadataChanges:!0,ta:!0});return $I(e,s)}(await dC(e),e.asyncQueue,t,n,r))),r.promise}function mC(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?BT().encode(e):e,function(e,t){return new Jx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Xx(e,t);if(e instanceof ArrayBuffer)return Xx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,cI(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Cy(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Cy(e),r=hE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(cx(r));const i=new ax(r,e.localStore,t.serializer);let o=await t.Ba();for(;o;){const e=await i.sa(o);e&&n._updateProgress(e),o=await t.Ba()}const s=await i.complete();return await Rx(e,s.aa,void 0),await function(e,t){const n=Cy(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s._a)}catch(e){return Sy("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await uC(e),i,r)}))}function gC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vC=new Map;function yC(e,t,n){if(!n)throw new Ny(Ay.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bC(e,t,n,r){if(!0===t&&!0===r)throw new Ny(Ay.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wC(e){if(!$y.isDocumentKey(e))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _C(e){if($y.isDocumentKey(e))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Iy()}function EC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ny(Ay.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=TC(e);throw new Ny(Ay.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function SC(e,t){if(t<=0)throw new Ny(Ay.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class kC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ny(Ay.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ny(Ay.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ny(Ay.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ny(Ay.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ny(Ay.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ny(Ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ny(Ay.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ry;switch(e.type){case"firstParty":return new Fy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ny(Ay.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vC.get(e);t&&(Ty("ComponentProvider","Removing Datastore"),vC.delete(e),t.terminate())}(this),Promise.resolve()}}function xC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=EC(e,IC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Sy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=yy.MOCK_USER;else{t=Os(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ny(Ay.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new yy(o)}e._authCredentials=new Dy(new Py(t,n))}}class CC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new CC(this.firestore,e,this._query)}}class AC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new NC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new AC(this.firestore,e,this._key)}}class NC extends CC{constructor(e,t,n){super(e,t,I_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new AC(this.firestore,null,new $y(e))}withConverter(e){return new NC(this.firestore,e,this._path)}}function OC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Js(e),yC("collection","path",t),e instanceof IC){const n=Qy.fromString(t,...r);return _C(n),new NC(e,null,n)}{if(!(e instanceof AC||e instanceof NC))throw new Ny(Ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qy.fromString(t,...r));return _C(n),new NC(e.firestore,null,n)}}function PC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Js(e),1===arguments.length&&(t=Vy.newId()),yC("doc","path",t),e instanceof IC){const n=Qy.fromString(t,...r);return wC(n),new AC(e,null,new $y(n))}{if(!(e instanceof AC||e instanceof NC))throw new Ny(Ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qy.fromString(t,...r));return wC(n),new AC(e.firestore,e instanceof NC?e.converter:null,new $y(n))}}function RC(e,t){return e=Js(e),t=Js(t),(e instanceof AC||e instanceof NC)&&(t instanceof AC||t instanceof NC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function DC(e,t){return e=Js(e),t=Js(t),e instanceof CC&&t instanceof CC&&e.firestore===t.firestore&&D_(e._query,t._query)&&e.converter===t.converter}class LC{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new lI(this,"async_queue_retry"),this.cu=()=>{const e=aI();e&&Ty("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=aI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=aI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new Oy;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(OW){if(!mb(OW))throw OW;Ty("AsyncQueue","Operation failed with retryable error: "+OW)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ey("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=GI.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Iy()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function MC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class FC{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jC extends IC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new LC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zC(this),this._firestoreClient.terminate()}}function UC(e){return e._firestoreClient||zC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zC(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ww(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tC(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function VC(e,t,n){const r=new Oy;return e.asyncQueue.enqueue((async()=>{try{await nC(e,n),await rC(e,t),r.resolve()}catch(e){const n=e;if(!iC(n))throw n;Sy("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function BC(e){return function(e){const t=new Oy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Cy(e);SI(n.remoteStore)||Ty("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Cy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=KI(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await uC(e),t))),t.promise}(UC(e=EC(e,jC)))}function qC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await aC(e),n=await lC(e);return t.setNetworkEnabled(!0),function(e){const t=Cy(e);return t.v_.delete(0),gI(t)}(n)}))}(UC(e=EC(e,jC)))}function GC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await aC(e),n=await lC(e);return t.setNetworkEnabled(!1),async function(e){const t=Cy(e);t.v_.add(0),await vI(t),t.x_.set("Offline")}(n)}))}(UC(e=EC(e,jC)))}function KC(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Cy(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await cC(e),t)))}(UC(e=EC(e,jC)),t).then((t=>t?new CC(e,null,t.query):null))}function HC(e){if(e._initialized||e._terminated)throw new Ny(Ay.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class WC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new WC(dw.fromBase64String(e))}catch(e){throw new Ny(Ay.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new WC(dw.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class QC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xy(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class YC{constructor(e){this._methodName=e}}class XC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ny(Ay.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ny(Ay.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return By(this._lat,e._lat)||By(this._long,e._long)}}const $C=/^__.*__$/;class JC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xT(e,this.data,this.fieldMask,t,this.fieldTransforms):new IT(e,this.data,t,this.fieldTransforms)}}class ZC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Iy()}}class tA{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new tA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return _A(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(eA(this.Vu)&&$C.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class nA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cI(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tA({Vu:e,methodName:t,Du:n,path:Xy.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rA(e){const t=e._freezeSettings(),n=cI(e._databaseId);return new nA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iA(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);vA("Data must be an object, but it was:",s,r);const a=mA(r,s);let c,l;if(o.merge)c=new uw(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=yA(t,r,n);if(!s.contains(i))throw new Ny(Ay.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));TA(e,i)||e.push(i)}c=new uw(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new JC(new qw(a),c,l)}class oA extends YC{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oA}}function sA(e,t,n){return new tA({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class aA extends YC{_toFieldTransform(e){return new gT(e.path,new cT)}isEqual(e){return e instanceof aA}}class cA extends YC{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=sA(this,e,!0),n=this.vu.map((e=>pA(e,t))),r=new lT(n);return new gT(e.path,r)}isEqual(e){return e instanceof cA&&Gs(this.vu,e.vu)}}class lA extends YC{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=sA(this,e,!0),n=this.vu.map((e=>pA(e,t))),r=new hT(n);return new gT(e.path,r)}isEqual(e){return e instanceof lA&&Gs(this.vu,e.vu)}}class uA extends YC{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new fT(e.serializer,rT(e.serializer,this.Fu));return new gT(e.path,t)}isEqual(e){return e instanceof uA&&this.Fu===e.Fu}}function hA(e,t,n,r){const i=e.Cu(1,t,n);vA("Data must be an object, but it was:",i,r);const o=[],s=qw.empty();nw(r,((e,r)=>{const a=wA(t,e,n);r=Js(r);const c=i.yu(a);if(r instanceof oA)o.push(a);else{const e=pA(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new uw(o);return new ZC(s,a,i.fieldTransforms)}function dA(e,t,n,r,i,o){const s=e.Cu(1,t,n),a=[yA(t,r,n)],c=[i];if(o.length%2!=0)throw new Ny(Ay.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(yA(t,o[d])),c.push(o[d+1]);const l=[],u=qw.empty();for(let d=a.length-1;d>=0;--d)if(!TA(l,a[d])){const e=a[d];let t=c[d];t=Js(t);const n=s.yu(e);if(t instanceof oA)l.push(e);else{const r=pA(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new uw(l);return new ZC(u,h,s.fieldTransforms)}function fA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pA(n,e.Cu(r?4:3,t))}function pA(e,t){if(gA(e=Js(e)))return vA("Unsupported field value:",t,e),mA(e,t);if(e instanceof YC)return function(e,t){if(!eA(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pA(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Js(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ky.fromDate(e);return{timestampValue:cE(t.serializer,n)}}if(e instanceof Ky){const n=new Ky(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cE(t.serializer,n)}}if(e instanceof XC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof WC)return{bytesValue:lE(t.serializer,e._byteString)};if(e instanceof AC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:dE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(TC(e)))}(e,t)}function mA(e,t){const n={};return rw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nw(e,((e,r)=>{const i=pA(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ky||e instanceof XC||e instanceof WC||e instanceof AC||e instanceof YC)}function vA(e,t,n){if(!gA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=TC(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function yA(e,t,n){if((t=Js(t))instanceof QC)return t._internalPath;if("string"==typeof t)return wA(e,t);throw _A("Field path arguments must be of type string or ",e,!1,void 0,n)}const bA=new RegExp("[~\\*/\\[\\]]");function wA(e,t,n){if(t.search(bA)>=0)throw _A("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new QC(...t.split("."))._internalPath}catch(mi){throw _A("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _A(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new Ny(Ay.INVALID_ARGUMENT,a+e+c)}function TA(e,t){return e.some((e=>e.isEqual(t)))}class EA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new AC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new SA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class SA extends EA{data(){return super.data()}}function kA(e,t){return"string"==typeof t?wA(e,t):t instanceof QC?t._internalPath:t._delegate._internalPath}function IA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ny(Ay.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xA{}class CA extends xA{}function AA(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof xA&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof OA)).length,n=e.filter((e=>e instanceof NA)).length;if(t>1||t>0&&n>0)throw new Ny(Ay.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class NA extends CA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new NA(e,t,n)}_apply(e){const t=this._parse(e);return UA(e._query,t),new CC(e.firestore,e.converter,P_(e._query,t))}_parse(e){const t=rA(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){jA(s,o);const t=[];for(const n of s)t.push(FA(r,e,n));a={arrayValue:{values:t}}}else a=FA(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jA(s,o),a=fA(n,t,s,"in"===o||"not-in"===o);return Jw.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class OA extends xA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new OA(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)UA(n,i),n=P_(n,i)}(e._query,t),new CC(e.firestore,e.converter,P_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PA extends CA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PA(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yw(t,n)}(e._query,this._field,this._direction);return new CC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new S_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class RA extends CA{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new RA(e,t,n)}_apply(e){return new CC(e.firestore,e.converter,R_(e._query,this._limit,this._limitType))}}class DA extends CA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new DA(e,t,n)}_apply(e){const t=MA(e,this.type,this._docOrFields,this._inclusive);return new CC(e.firestore,e.converter,function(e,t){return new S_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class LA extends CA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new LA(e,t,n)}_apply(e){const t=MA(e,this.type,this._docOrFields,this._inclusive);return new CC(e.firestore,e.converter,function(e,t){return new S_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function MA(e,t,n,r){if(n[0]=Js(n[0]),n[0]instanceof EA)return function(e,t,n,r,i){if(!r)throw new Ny(Ay.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of A_(e))if(s.field.isKeyField())o.push(Ow(t,r.key));else{const e=r.data.field(s.field);if(vw(e))throw new Ny(Ay.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Hw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=rA(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Ny(Ay.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!C_(e)&&-1!==o.indexOf("/"))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Qy.fromString(o));if(!$y.isDocumentKey(n))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new $y(n);a.push(Ow(t,i))}else{const e=fA(n,r,o);a.push(e)}}return new Hw(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function FA(e,t,n){if("string"==typeof(n=Js(n))){if(""===n)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C_(t)&&-1!==n.indexOf("/"))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Qy.fromString(n));if(!$y.isDocumentKey(r))throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ow(e,new $y(r))}if(n instanceof AC)return Ow(e,n._key);throw new Ny(Ay.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TC(n),"."))}function jA(e,t){if(!Array.isArray(e)||0===e.length)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function UA(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ny(Ay.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ny(Ay.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class zA{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Iy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nw(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new XC(mw(e.latitude),mw(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=yw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bw(e));default:return null}}convertTimestamp(e){const t=pw(e);return new Ky(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qy.fromString(e);xy(ME(n));const r=new _w(n.get(1),n.get(3)),i=new $y(n.popFirst(5));return r.isEqual(t)||Ey("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function VA(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class BA extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new WC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new AC(this.firestore,null,t)}}class qA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GA extends EA{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new KA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class KA extends GA{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class HA{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qA(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new KA(this._firestore,this._userDataWriter,n.key,n,new qA(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ny(Ay.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new KA(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qA(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new KA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:WA(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function WA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Iy()}}function QA(e,t){return e instanceof GA&&t instanceof GA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HA&&t instanceof HA&&e._firestore===t._firestore&&DC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class YA extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new WC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new AC(this.firestore,null,t)}}function XA(e){e=EC(e,AC);const t=EC(e.firestore,jC),n=UC(t),r=new YA(t);return function(e,t){const n=new Oy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Cy(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ny(Ay.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=KI(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await cC(e),t,n))),n.promise}(n,e._key).then((n=>new GA(t,r,e._key,n,new qA(null!==n&&n.hasLocalMutations,!0),e.converter)))}function $A(e){e=EC(e,CC);const t=EC(e.firestore,jC),n=UC(t),r=new YA(t);return function(e,t){const n=new Oy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Fk(e,t,!0),i=new hx(t,r.hs),o=i.Ta(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=KI(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await cC(e),t,n))),n.promise}(n,e._query).then((n=>new HA(t,r,e,n)))}function JA(e,t,n){e=EC(e,AC);const r=EC(e.firestore,jC),i=VA(e.converter,t,n);return nN(r,[iA(rA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yT.none())])}function ZA(e,t,n){e=EC(e,AC);const r=EC(e.firestore,jC),i=rA(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=Js(t))||t instanceof QC?dA(i,"updateDoc",e._key,t,n,a):hA(i,"updateDoc",e._key,t),nN(r,[o.toMutation(e._key,yT.exists(!0))])}function eN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Js(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||MC(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(MC(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof AC)h=EC(e.firestore,jC),d=I_(e._key.path),u={next:t=>{n[c]&&n[c](rN(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=EC(e,CC);h=EC(t.firestore,jC),d=t._query;const r=new YA(h);u={next:e=>{n[c]&&n[c](new HA(h,r,t,e))},error:n[c+1],complete:n[c+2]},IA(e._query)}return function(e,t,n,r){const i=new $x(r),o=new ix(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>$I(await dC(e),o))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>JI(await dC(e),o)))}}(UC(h),d,l,u)}function tN(e,t){return function(e,t){const n=new $x(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Cy(e).W_.add(t),t.next()}(await dC(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Cy(e).W_.delete(t)}(await dC(e),n)))}}(UC(e=EC(e,jC)),MC(t)?t:{next:t})}function nN(e,t){return function(e,t){const n=new Oy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kx(e);try{const e=await function(e,t){const n=Cy(e),r=Ky.now(),i=t.reduce(((e,t)=>e.add(t.key)),J_());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=q_(),c=J_();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ST(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new xT(e.key,t,Gw(t.value.mapValue),yT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:H_(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new iw(By)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rx(r,e.changes),await OI(r.remoteStore)}catch(e){const t=KI(e,"Failed to persist write");n.reject(t)}}(await uC(e),t,n))),n.promise}(UC(e),t)}function rN(e,t,n){const r=n.docs.get(t._key),i=new YA(e);return new GA(e,i,t._key,r,new qA(n.hasPendingWrites,n.fromCache),t.converter)}const iN={maxAttempts:5};class oN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rA(e)}set(e,t,n){this._verifyNotCommitted();const r=sN(e,this._firestore),i=VA(r.converter,t,n),o=iA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,yT.none())),this}update(e,t,n){this._verifyNotCommitted();const r=sN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Js(t))||t instanceof QC?dA(this._dataReader,"WriteBatch.update",r._key,t,n,s):hA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,yT.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sN(e,this._firestore);return this._mutations=this._mutations.concat(new OT(t._key,yT.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ny(Ay.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sN(e,t){if((e=Js(e)).firestore!==t)throw new Ny(Ay.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class aN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rA(e)}get(e){const t=sN(e,this._firestore),n=new BA(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Iy();const r=e[0];if(r.isFoundDocument())return new EA(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new EA(this._firestore,n,t._key,null,t.converter);throw Iy()}))}set(e,t,n){const r=sN(e,this._firestore),i=VA(r.converter,t,n),o=iA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=sN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Js(t))||t instanceof QC?dA(this._dataReader,"Transaction.update",r._key,t,n,s):hA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=sN(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sN(e,this._firestore),n=new YA(this._firestore);return super.get(e).then((e=>new GA(this._firestore,n,t._key,e._document,new qA(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){by=e}(vc),cc(new Zs("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new jC(new Ly(e.getProvider("auth-internal")),new Uy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ny(Ay.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _w(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ec(vy,"4.5.1",e),Ec(vy,"4.5.1","esm2017")}();function cN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ny("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lN(){if("undefined"===typeof Uint8Array)throw new Ny("unimplemented","Uint8Arrays are not available in this environment.")}function uN(){if("undefined"==typeof atob)throw new Ny("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hN{constructor(e){this._delegate=e}static fromBase64String(e){return uN(),new hN(WC.fromBase64String(e))}static fromUint8Array(e){return lN(),new hN(WC.fromUint8Array(e))}toBase64(){return uN(),this._delegate.toBase64()}toUint8Array(){return lN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class fN{enableIndexedDbPersistence(e,t){return function(e,t){HC(e=EC(e,jC));const n=UC(e);if(n._uninitializedComponentsProvider)throw new Ny(Ay.FAILED_PRECONDITION,"SDK cache is already specified.");Sy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Yx;return VC(n,i,new Wx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){HC(e=EC(e,jC));const t=UC(e);if(t._uninitializedComponentsProvider)throw new Ny(Ay.FAILED_PRECONDITION,"SDK cache is already specified.");Sy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Yx;return VC(t,r,new Qx(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ny(Ay.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Oy;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!db.D())return Promise.resolve();const t=e+"main";await db.delete(t)}(kk(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class pN{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof _w||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Sy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xC(this._delegate,e,t,n)}enableNetwork(){return qC(this._delegate)}disableNetwork(){return GC(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,bC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return BC(this._delegate)}onSnapshotsInSync(e){return tN(this._delegate,e)}get app(){if(!this._appCompat)throw new Ny("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new CN(this,OC(this._delegate,e))}catch(OW){throw wN(OW,"collection()","Firestore.collection()")}}doc(e){try{return new bN(this,PC(this._delegate,e))}catch(OW){throw wN(OW,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new kN(this,function(e,t){if(e=EC(e,IC),yC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ny(Ay.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new CC(e,null,function(e){return new S_(Qy.emptyPath(),e)}(t))}(this._delegate,e))}catch(OW){throw wN(OW,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=EC(e,jC);const r=Object.assign(Object.assign({},iN),n);return function(e){if(e.maxAttempts<1)throw new Ny(Ay.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Oy;return e.asyncQueue.enqueueAndForget((async()=>{const i=await hC(e);new eC(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(UC(e),(n=>t(new aN(e,n))),r)}(this._delegate,(t=>e(new gN(this,t))))}batch(){return UC(this._delegate),new vN(new oN(this._delegate,(e=>nN(this._delegate,e))))}loadBundle(e){return function(e,t){const n=UC(e=EC(e,jC)),r=new FC;return mC(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return KC(this._delegate,e).then((e=>e?new kN(this,e):null))}}class mN extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hN(new WC(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bN.forKey(t,this.firestore,null)}}class gN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mN(e)}get(e){const t=AN(e);return this._delegate.get(t).then((e=>new EN(this._firestore,new GA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=AN(e);return n?(cN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=AN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=AN(e);return this._delegate.delete(t),this}}class vN{constructor(e){this._delegate=e}set(e,t,n){const r=AN(e);return n?(cN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=AN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=AN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new KA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=yN.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new yN(e,new mN(e),t),r.set(t,i)),i}}yN.INSTANCES=new WeakMap;class bN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mN(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Ny("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new bN(t,new AC(t._delegate,n,new $y(e)))}static forKey(e,t,n){return new bN(t,new AC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new CN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new CN(this.firestore,OC(this._delegate,e))}catch(OW){throw wN(OW,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Js(e))instanceof AC&&RC(this._delegate,e)}set(e,t){t=cN("DocumentReference.set",t);try{return t?JA(this._delegate,e,t):JA(this._delegate,e)}catch(OW){throw wN(OW,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZA(this._delegate,e):ZA(this._delegate,e,t,...r)}catch(OW){throw wN(OW,"updateDoc()","DocumentReference.update()")}}delete(){return nN(EC((e=this._delegate).firestore,jC),[new OT(e._key,yT.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_N(t),i=TN(t,(e=>new EN(this.firestore,new GA(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return eN(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?XA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=EC(e,AC);const t=EC(e.firestore,jC);return fC(UC(t),e._key,{source:"server"}).then((n=>rN(t,e,n)))}(this._delegate):function(e){e=EC(e,AC);const t=EC(e.firestore,jC);return fC(UC(t),e._key).then((n=>rN(t,e,n)))}(this._delegate),t.then((e=>new EN(this.firestore,new GA(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new bN(this.firestore,e?this._delegate.withConverter(yN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wN(e,t,n){return e.message=e.message.replace(t,n),e}function _N(e){for(const t of e)if("object"===typeof t&&!dN(t))return t;return{}}function TN(e,t){var n,r;let i;return i=dN(e[0])?e[0]:dN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class EN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QA(this._delegate,e._delegate)}}class SN extends EN{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Iy(),t}}class kN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mN(e)}where(e,t,n){try{return new kN(this.firestore,AA(this._delegate,function(e,t,n){const r=t,i=kA("where",e);return NA._create(i,r,n)}(e,t,n)))}catch(OW){throw wN(OW,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new kN(this.firestore,AA(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kA("orderBy",e);return PA._create(n,t)}(e,t)))}catch(OW){throw wN(OW,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new kN(this.firestore,AA(this._delegate,(SC("limit",t=e),RA._create("limit",t,"F"))))}catch(t){throw wN(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new kN(this.firestore,AA(this._delegate,(SC("limitToLast",t=e),RA._create("limitToLast",t,"L"))))}catch(t){throw wN(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new kN(this.firestore,AA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DA._create("startAt",t,!0)}(...arguments)))}catch(OW){throw wN(OW,"startAt()","Query.startAt()")}}startAfter(){try{return new kN(this.firestore,AA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DA._create("startAfter",t,!1)}(...arguments)))}catch(OW){throw wN(OW,"startAfter()","Query.startAfter()")}}endBefore(){try{return new kN(this.firestore,AA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LA._create("endBefore",t,!1)}(...arguments)))}catch(OW){throw wN(OW,"endBefore()","Query.endBefore()")}}endAt(){try{return new kN(this.firestore,AA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LA._create("endAt",t,!0)}(...arguments)))}catch(OW){throw wN(OW,"endAt()","Query.endAt()")}}isEqual(e){return DC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?$A(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=EC(e,CC);const t=EC(e.firestore,jC),n=UC(t),r=new YA(t);return pC(n,e._query,{source:"server"}).then((n=>new HA(t,r,e,n)))}(this._delegate):function(e){e=EC(e,CC);const t=EC(e.firestore,jC),n=UC(t),r=new YA(t);return IA(e._query),pC(n,e._query).then((n=>new HA(t,r,e,n)))}(this._delegate),t.then((e=>new xN(this.firestore,new HA(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_N(t),i=TN(t,(e=>new xN(this.firestore,new HA(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return eN(this._delegate,r,i)}withConverter(e){return new kN(this.firestore,e?this._delegate.withConverter(yN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class IN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new SN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new kN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new SN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new IN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new SN(this._firestore,n))}))}isEqual(e){return QA(this._delegate,e._delegate)}}class CN extends kN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bN(this.firestore,e):null}doc(e){try{return new bN(this.firestore,void 0===e?PC(this._delegate):PC(this._delegate,e))}catch(OW){throw wN(OW,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=EC(e.firestore,jC),r=PC(e),i=VA(e.converter,t);return nN(n,[iA(rA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yT.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new bN(this.firestore,e)))}isEqual(e){return RC(this._delegate,e._delegate)}withConverter(e){return new CN(this.firestore,e?this._delegate.withConverter(yN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function AN(e){return EC(e,AC)}class NN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new QC(...t)}static documentId(){return new NN(Xy.keyField().canonicalString())}isEqual(e){return(e=Js(e))instanceof QC&&this._delegate._internalPath.isEqual(e._internalPath)}}class ON{constructor(e){this._delegate=e}static serverTimestamp(){const e=new aA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ON(e)}static delete(){const e=new oA("deleteField");return e._methodName="FieldValue.delete",new ON(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cA("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ON(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lA("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ON(e)}static increment(e){const t=new uA("increment",e);return t._methodName="FieldValue.increment",new ON(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const PN={Firestore:pN,GeoPoint:XC,Timestamp:Ky,Blob:hN,Transaction:gN,WriteBatch:vN,DocumentReference:bN,DocumentSnapshot:EN,Query:kN,QueryDocumentSnapshot:SN,QuerySnapshot:xN,CollectionReference:CN,FieldPath:NN,FieldValue:ON,setLogLevel:function(e){var t;t=e,wy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Zs("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},PN)))}(e,((e,t)=>new pN(e,t,new fN))),e.registerVersion("@firebase/firestore-compat","0.3.28")}(Bc);Bc.initializeApp({apiKey:"AIzaSyAeAAibL38Wtmx71nUC0hzp9KXqgiZD3ZU",authDomain:"socialcool-93b74.firebaseapp.com",projectId:"socialcool-93b74",storageBucket:"socialcool-93b74.appspot.com",messagingSenderId:"125121224873",appId:"1:125121224873:web:de147e4178441fc1b1c9b8",measurementId:"G-YQPL48DG7D"});const RN=Bc.auth();Bc.firestore();var DN=n(579);const LN=function(){const[e,t]=(0,o.useState)(null);return o.useEffect((()=>{Bc.auth().onAuthStateChanged((e=>{t(e),console.log("Header unmounted")}))}),[]),(0,DN.jsxs)(ws,{children:[(0,DN.jsx)(ws.Item,{as:Ie,to:"/",children:"CrazzyAmy's Blog"}),(0,DN.jsx)(ws.Menu,{position:"right",children:e?(0,DN.jsxs)(DN.Fragment,{children:[(0,DN.jsx)(ws.Item,{as:Ie,to:"/new-post",children:"\u767c\u8868\u6587\u7ae0"}),(0,DN.jsx)(ws.Item,{as:Ie,to:"/my",children:"\u6703\u54e1"}),(0,DN.jsx)(ws.Item,{onClick:()=>Bc.auth().signOut(),children:"\u767b\u51fa"})]}):(0,DN.jsx)(ws.Item,{as:Ie,to:"/signin",children:"\u8a3b\u518a/\u767b\u5165"})})]})};var MN=n(5173),FN=n.n(MN);function jN(e){console.warn("[react-ga]",e)}function UN(e){return UN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UN(e)}var zN=["to","target"];function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VN(Object(n),!0).forEach((function(t){YN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KN(e,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KN(e,t)}function HN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(OW){return!1}}();return function(){var n,r=QN(e);if(t){var i=QN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===UN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return WN(e)}(this,n)}}function WN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(e){return QN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QN(e)}function YN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XN="_blank",$N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}(s,e);var t,n,r,i=HN(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return YN(WN(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.target,i=n.eventLabel,o=n.to,a=n.onClick,c=n.trackerNames,l={label:i},u=r!==XN,h=!(t.ctrlKey||t.shiftKey||t.metaKey||1===t.button);u&&h?(t.preventDefault(),s.trackLink(l,(function(){window.location.href=o}),c)):s.trackLink(l,(function(){}),c),a&&a(t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.to,n=e.target,r=BN(BN({},qN(e,zN)),{},{target:n,href:t,onClick:this.handleClick});return n===XN&&(r.rel="".concat(r.rel?r.rel:""," noopener noreferrer").trim()),delete r.eventLabel,delete r.trackerNames,o.createElement("a",r)}}])&&GN(t.prototype,n),r&&GN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Component);YN($N,"trackLink",(function(){jN("ga tracking not enabled")})),$N.propTypes={eventLabel:FN().string.isRequired,target:FN().string,to:FN().string,onClick:FN().func,trackerNames:FN().arrayOf(FN().string)},$N.defaultProps={target:null,to:null,onClick:null,trackerNames:null};var JN="REDACTED (Potential Email Address)";function ZN(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var eO=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function tO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e||"";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(n=ZN(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(eO)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))),t&&(n=function(e){return"string"===typeof(t=e)&&-1!==t.indexOf("@")?(jN("This arg looks like an email address, redacting."),JN):e;var t}(n)),n}var nO=!1;function rO(e){console.info("[react-ga]",e)}var iO=[];const oO={calls:iO,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];iO.push([].concat(t))},resetCalls:function(){iO.length=0}};var sO=["category","action","label","value","nonInteraction","transport"];function aO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uO(e){return uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(e)}function hO(e){return function(e){if(Array.isArray(e))return dO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return dO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fO="undefined"===typeof window||"undefined"===typeof document,pO=!1,mO=!0,gO=!1,vO=!0,yO=!0,bO=function(){var e;return gO?oO.ga.apply(oO,arguments):!fO&&(window.ga?(e=window).ga.apply(e,arguments):jN("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function wO(e){return tO(e,mO,yO)}function _O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];if("function"===typeof bO){if("string"!==typeof i)return void jN("ga command must be a string");!vO&&Array.isArray(e)||bO.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){bO.apply(void 0,hO(["".concat(e,".").concat(i)].concat(n.slice(1))))}))}}function TO(e,t){e?t&&(t.debug&&!0===t.debug&&(pO=!0),!1===t.titleCase&&(mO=!1),!1===t.redactEmail&&(yO=!1),t.useExistingGa)||(t&&t.gaOptions?bO("create",e,t.gaOptions):bO("create",e,"auto")):jN("gaTrackingID is required in initialize()")}function EO(e,t){return Array.isArray(e)?e.forEach((function(e){"object"===uO(e)?TO(e.trackingId,e):jN("All configs must be an object")})):TO(e,t),!0}function SO(e,t){if(t&&!0===t.testMode)gO=!0;else{if(fO)return;t&&!0===t.standardImplementation||function(e){if(!nO){nO=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n=e&&e.onerror;!function(e,t,r,i,o,s,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,s=t.createElement(r),a=t.getElementsByTagName(r)[0],s.async=1,s.src=i,s.onerror=n,a.parentNode.insertBefore(s,a)}(window,document,"script",t,"ga")}}(t)}vO=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,EO(e,t)}function kO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(bO.apply(void 0,t),pO&&(rO("called ga('arguments');"),rO("with arguments: ".concat(JSON.stringify(t))))),window.ga}function IO(e,t){e?"object"===uO(e)?(0===Object.keys(e).length&&jN("empty `fieldsObject` given to .set()"),_O(t,"set",e),pO&&(rO("called ga('set', fieldsObject);"),rO("with fieldsObject: ".concat(JSON.stringify(e))))):jN("Expected `fieldsObject` arg to be an Object"):jN("`fieldsObject` is required in .set()")}function xO(e,t){_O(t,"send",e),pO&&(rO("called ga('send', fieldObject);"),rO("with fieldObject: ".concat(JSON.stringify(e))),rO("with trackers: ".concat(JSON.stringify(t))))}function CO(e,t,n){if(e){var r=ZN(e);if(""!==r){var i={};if(n&&(i.title=n),_O(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cO(Object(n),!0).forEach((function(t){lO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},i)),pO){rO("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),rO("with path: ".concat(r).concat(o))}}else jN("path cannot be an empty string in .pageview()")}else jN("path is required in .pageview()")}function AO(e,t){if(e){var n,r="/"===(n=ZN(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);_O(t,"send","pageview",i),pO&&(rO("called ga('send', 'pageview', path);"),rO("with path: ".concat(i)))}else jN("modalName cannot be an empty string or a single / in .modalview()")}else jN("modalName is required in .modalview(modalName)")}function NO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&n&&"number"===typeof r){var s={hitType:"timing",timingCategory:wO(t),timingVar:wO(n),timingValue:r};i&&(s.timingLabel=wO(i)),xO(s,o)}else jN("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function OO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,s=e.transport,a=aO(e,sO),c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&n){var l={hitType:"event",eventCategory:wO(t),eventAction:wO(n)};r&&(l.eventLabel=wO(r)),"undefined"!==typeof i&&("number"!==typeof i?jN("Expected `args.value` arg to be a Number."):l.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?jN("`args.nonInteraction` must be a boolean."):l.nonInteraction=o),"undefined"!==typeof s&&("string"!==typeof s?jN("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(s)&&jN("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=s)),Object.keys(a).filter((function(e){return"dimension"===e.substr(0,9)})).forEach((function(e){l[e]=a[e]})),Object.keys(a).filter((function(e){return"metric"===e.substr(0,6)})).forEach((function(e){l[e]=a[e]})),xO(l,c)}else jN("args.category AND args.action are required in event()")}function PO(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=wO(n)),"undefined"!==typeof r&&("boolean"!==typeof r?jN("`args.fatal` must be a boolean."):i.exFatal=r),xO(i,t)}var RO={require:function(e,t,n){if(e){var r=ZN(e);if(""!==r){var i=n?"".concat(n,".require"):"require";if(t){if("object"!==uO(t))return void jN("Expected `options` arg to be an Object");0===Object.keys(t).length&&jN("Empty `options` given to .require()"),kO(i,r,t),pO&&rO("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else kO(i,r),pO&&rO("called ga('require', '".concat(r,"');"))}else jN("`name` cannot be an empty string in .require()")}else jN("`name` is required in .require()")},execute:function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!==typeof e)jN("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)jN("Expected `action` arg to be a String.");else{var a="".concat(e,":").concat(t);n=n||null,r&&n?(kO(a,r,n),pO&&(rO("called ga('".concat(a,"');")),rO('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(kO(a,n),pO&&(rO("called ga('".concat(a,"');")),rO("with payload: ".concat(JSON.stringify(n))))):(kO(a),pO&&rO("called ga('".concat(a,"');")))}}};function DO(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:wO(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},xO(r,n)}else jN("args.label is required in outboundLink()");else jN("hitCallback function is required")}var LO=oO;const MO={initialize:SO,ga:kO,set:IO,send:xO,pageview:CO,modalview:AO,timing:NO,event:OO,exception:PO,plugin:RO,outboundLink:DO,testModeAPI:oO};function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach((function(t){UO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$N.origTrackLink=$N.trackLink,$N.trackLink=DO;var zO=$N;jO(jO({},t),{},{OutboundLink:zO});function VO(e){var t=e.children,n=e.className,r=e.content,i=gi(n,"description"),s=Ii(VO,e),a=xi(VO,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}VO.handledProps=["as","children","className","content"],VO.propTypes={},VO.create=ro(VO,(function(e){return{content:e}}));const BO=VO;function qO(e){var t=e.children,n=e.className,r=e.content,i=gi("header",n),s=Ii(qO,e),a=xi(qO,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}qO.handledProps=["as","children","className","content"],qO.propTypes={},qO.create=ro(qO,(function(e){return{content:e}}));const GO=qO;function KO(e){var t=e.children,n=e.className,r=e.content,i=e.description,s=e.floated,a=e.header,c=e.verticalAlign,l=gi(wi(s,"floated"),Si(c),"content",n),u=Ii(KO,e),h=xi(KO,e);return Oi(t)?o.createElement(h,Ae({},u,{className:l}),GO.create(a),BO.create(i),r):o.createElement(h,Ae({},u,{className:l}),t)}KO.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],KO.propTypes={},KO.create=ro(KO,(function(e){return{content:e}}));const HO=KO;function WO(e){var t=e.className,n=e.verticalAlign,r=gi(Si(n),t),i=Ii(WO,e);return o.createElement(ms,Ae({},i,{className:r}))}WO.handledProps=["className","verticalAlign"],WO.propTypes={},WO.create=ro(WO,(function(e){return{name:e}}));const QO=WO;var YO=/\s/;const XO=function(e){for(var t=e.length;t--&&YO.test(e.charAt(t)););return t};var $O=/^\s+/;const JO=function(e){return e?e.slice(0,XO(e)+1).replace($O,""):e};var ZO=/^[-+]0x[0-9a-f]+$/i,eP=/^0b[01]+$/i,tP=/^0o[0-7]+$/i,nP=parseInt;const rP=function(e){if("number"==typeof e)return e;if(Er(e))return NaN;if(st(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=st(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=JO(e);var n=eP.test(e);return n||tP.test(e)?nP(e.slice(2),n?2:8):ZO.test(e)?NaN:+e};var iP=1/0;const oP=function(e){return e?(e=rP(e))===iP||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const sP=function(e){var t=oP(e),n=t%1;return t===t?n?t-n:t:0};const aP=function(e,t){return Pe(t,(function(t){return e[t]}))};const cP=function(e){return null==e?[]:aP(e,Hn(e))};var lP=Math.max;const uP=function(e,t,n,r){e=Kn(e)?e:cP(e),n=n&&!r?sP(n):0;var i=e.length;return n<0&&(n=lP(i+n,0)),Zi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Fi(e,t,n)>-1};const hP=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const dP=function(e){return"function"==typeof e?e:Gr};const fP=function(e,t){return(sn(e)?hP:$r)(e,dP(t))};var pP=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],mP=[].concat(pP,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),gP=["alt","height","src","srcSet","width","loading"],vP=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?mP:r,o=n.includeAria,s=void 0===o||o,a={},c={};return fP(e,(function(e,t){var n=s&&(/^aria-.*$/.test(t)||"role"===t);(uP(i,t)||n?a:c)[t]=e})),[a,c]},yP="object"===typeof document&&null!==document,bP="object"===typeof window&&null!==window&&window.self===window;const wP=function e(){return to(e.override)?yP&&bP:e.override};var _P=n(4173),TP=n.n(_P),EP=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)};function SP(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var kP=n(5904);var IP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Oe(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=a.findDOMNode(this);this.prevNode=e,EP(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=a.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,EP(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&EP(this.props.innerRef,t)},n.componentWillUnmount=function(){EP(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(o.Component),xP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;EP(r.ref,e),EP(i,e),t.currentNode=e},t}Oe(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&EP(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return o.cloneElement(e,{ref:this.handleRefOverride})},t}(o.Component),CP=["children","innerRef"],AP=function(e){var t=e.children,n=e.innerRef,r=SP(e,CP),i=o.Children.only(t),s=kP.isForwardRef(i)?xP:IP,a=i&&r&&Object.keys(r).length>0?o.cloneElement(i,r):i;return o.createElement(s,{innerRef:n},a)},NP=n(3090),OP=n.n(NP),PP=Math.max,RP=Math.min;const DP=function(e,t,n){return e>=RP(t,n)&&e<PP(t,n)};const LP=function(e,t,n){return t=oP(t),void 0===n?(n=t,t=0):n=oP(n),e=rP(e),DP(e,t,n)};const MP=function(e){return e&&e.length?e[0]:void 0};const FP=function(e,t){if(Ni([t,e],to))return!1;if(t.target&&(pi(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return pi(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Ni([n,r],to))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var o=MP(i),s=o.top,a=o.bottom,c=o.left,l=o.right;return!Ni([s,a,c,l],to)&&(LP(r,s,a+.001)&&LP(n,c,l+.001))};var jP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){EP(t.props.innerRef,e)},t}Oe(t,e);var n=t.prototype;return n.componentDidMount=function(){pi(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){pi(this.props,"onUnmount",null,this.props)},n.render=function(){if(!wP())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,a.createPortal)(o.createElement(AP,{innerRef:this.handleRef},t),r)},t}(o.Component);jP.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],jP.propTypes={};const UP=jP;var zP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=o.createRef(),t.triggerRef=o.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||FP(t.triggerRef.current,e)||r&&FP(t.contentRef.current,r)||FP(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&OP().getCode(e)===OP().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];pi.apply(void 0,[r,"props.onBlur",e].concat(s));var c=e.relatedTarget||document.activeElement,l=pi(t.contentRef.current,"contains",c);i&&!l&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,o=n.openOnTriggerClick,s=t.state.open,a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];pi.apply(void 0,[r,"props.onClick",e].concat(c)),s&&i?t.close(e):!s&&o&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];pi.apply(void 0,[r,"props.onFocus",e].concat(s)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,o=n.mouseLeaveDelay,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];pi.apply(void 0,[r,"props.onMouseLeave",e].concat(a)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,o))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,o=n.openOnTriggerMouseEnter,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];pi.apply(void 0,[r,"props.onMouseEnter",e].concat(a)),o&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){pi(t.props,"onOpen",e,Ae({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Ae({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),pi(t.props,"onClose",e,Ae({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Ae({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){pi(t.props,"onMount",null,t.props)},t.handleUnmount=function(){pi(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,EP(t.props.triggerRef,e)},t}Oe(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,i=e.trigger,s=this.state.open;return o.createElement(o.Fragment,null,s&&o.createElement(o.Fragment,null,o.createElement(UP,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),o.createElement(TP(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),o.createElement(TP(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),o.createElement(TP(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),o.createElement(TP(),{name:"click",on:this.handleDocumentClick,pool:n}),o.createElement(TP(),{name:"keydown",on:this.handleEscape,pool:n})),i&&o.createElement(AP,{innerRef:this.handleTriggerRef},o.cloneElement(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(Ri);zP.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],zP.propTypes={},zP.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},zP.autoControlledProps=["open"],zP.Inner=UP;const VP=zP;function BP(e){var t=e.blurring,n=e.className,r=e.children,i=e.content,s=e.dimmed,a=gi(bi(t,"blurring"),bi(s,"dimmed"),"dimmable",n),c=Ii(BP,e),l=xi(BP,e);return o.createElement(l,Ae({},c,{className:a}),Oi(r)?i:r)}BP.handledProps=["as","blurring","children","className","content","dimmed"],BP.propTypes={};const qP=BP;var GP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,o.createRef)(),t.contentRef=(0,o.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;pi(t.props,"onClick",e,t.props),n&&n!==e.target&&FP(n,e)||pi(t.props,"onClickOutside",e,t.props)},t}Oe(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,s=e.content,a=e.disabled,c=e.inverted,l=e.page,u=e.simple,h=e.verticalAlign,d=gi("ui",bi(n,"active transition visible"),bi(a,"disabled"),bi(c,"inverted"),bi(l,"page"),bi(u,"simple"),Si(h),"dimmer",i),f=Ii(t,this.props),p=xi(t,this.props),m=Oi(r)?s:r;return o.createElement(AP,{innerRef:this.containerRef},o.createElement(p,Ae({},f,{className:d,onClick:this.handleClick}),m&&o.createElement("div",{className:"content",ref:this.contentRef},m)))},t}(o.Component);GP.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],GP.propTypes={};var KP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){wP()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){wP()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,i=Ii(t,this.props);return r?o.createElement(VP,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},o.createElement(GP,Ae({},i,{active:n,page:r}))):o.createElement(GP,Ae({},i,{active:n,page:r}))},t}(o.Component);function HP(e){var t=e.children,n=e.className,r=e.content,i=gi("detail",n),s=Ii(HP,e),a=xi(HP,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}KP.handledProps=["active","page"],KP.propTypes={},KP.Dimmable=qP,KP.Inner=GP,KP.create=ro(KP,(function(e){return{content:e}})),HP.handledProps=["as","children","className","content"],HP.propTypes={},HP.create=ro(HP,(function(e){return{content:e}}));const WP=HP;function QP(e){var t=e.children,n=e.circular,r=e.className,i=e.color,s=e.content,a=e.size,c=e.tag,l=gi("ui",i,a,bi(n,"circular"),bi(c,"tag"),"labels",r),u=Ii(QP,e),h=xi(QP,e);return o.createElement(h,Ae({},u,{className:l}),Oi(t)?s:t)}QP.handledProps=["as","children","circular","className","color","content","size","tag"],QP.propTypes={};const YP=QP;var XP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){pi(e,"onClick",n),pi(t.props,"onRemove",n,t.props)}}},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,i=e.basic,s=e.children,a=e.circular,c=e.className,l=e.color,u=e.content,h=e.corner,d=e.detail,f=e.empty,p=e.floating,m=e.horizontal,g=e.icon,v=e.image,y=e.onRemove,b=e.pointing,w=e.prompt,_=e.removeIcon,T=e.ribbon,E=e.size,S=e.tag,k=gi("ui",l,(!0===b?"pointing":("left"===b||"right"===b)&&b+" pointing")||("above"===b||"below"===b)&&"pointing "+b,E,bi(n,"active"),bi(i,"basic"),bi(a,"circular"),bi(f,"empty"),bi(p,"floating"),bi(m,"horizontal"),bi(!0===v,"image"),bi(w,"prompt"),bi(S,"tag"),_i(h,"corner"),_i(T,"ribbon"),wi(r,"attached"),"label",c),I=Ii(t,this.props),x=xi(t,this.props);if(!Oi(s))return o.createElement(x,Ae({},I,{className:k,onClick:this.handleClick}),s);var C=Pi(_)?"delete":_;return o.createElement(x,Ae({className:k,onClick:this.handleClick},I),ms.create(g,{autoGenerateKey:!1}),"boolean"!==typeof v&&eR.create(v,{autoGenerateKey:!1}),u,WP.create(d,{autoGenerateKey:!1}),y&&ms.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(o.Component);function $P(e){var t=e.children,n=e.className,r=e.content,i=e.size,s=gi("ui",i,n,"images"),a=Ii($P,e),c=xi($P,e);return o.createElement(c,Ae({},a,{className:s}),Oi(t)?r:t)}XP.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],XP.propTypes={},XP.Detail=WP,XP.Group=YP,XP.create=ro(XP,(function(e){return{content:e}})),$P.handledProps=["as","children","className","content","size"],$P.propTypes={};const JP=$P;function ZP(e){var t=e.avatar,n=e.bordered,r=e.centered,i=e.children,s=e.circular,a=e.className,c=e.content,l=e.dimmer,u=e.disabled,h=e.floated,d=e.fluid,f=e.hidden,p=e.href,m=e.inline,g=e.label,v=e.rounded,y=e.size,b=e.spaced,w=e.verticalAlign,_=e.wrapped,T=e.ui,E=gi(bi(T,"ui"),y,bi(t,"avatar"),bi(n,"bordered"),bi(s,"circular"),bi(r,"centered"),bi(u,"disabled"),bi(d,"fluid"),bi(f,"hidden"),bi(m,"inline"),bi(v,"rounded"),_i(b,"spaced"),wi(h,"floated"),Si(w),"image",a),S=Ii(ZP,e),k=vP(S,{htmlProps:gP}),I=k[0],x=k[1],C=xi(ZP,e,(function(){if(!to(l)||!to(g)||!to(_)||!Oi(i))return"div"}));return Oi(i)?Oi(c)?"img"===C?o.createElement(C,Ae({},x,I,{className:E})):o.createElement(C,Ae({},x,{className:E,href:p}),KP.create(l,{autoGenerateKey:!1}),XP.create(g,{autoGenerateKey:!1}),o.createElement("img",I)):o.createElement(C,Ae({},S,{className:E}),c):o.createElement(C,Ae({},S,{className:E}),i)}ZP.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],ZP.Group=JP,ZP.propTypes={},ZP.defaultProps={as:"img",ui:!0},ZP.create=ro(ZP,(function(e){return{src:e}}));const eR=ZP;var tR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||pi(t.props,"onClick",e,t.props)},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,s=e.content,a=e.description,c=e.disabled,l=e.header,u=e.icon,h=e.image,d=e.value,f=xi(t,this.props),p=gi(bi(n,"active"),bi(c,"disabled"),bi("li"!==f,"item"),i),m=Ii(t,this.props),g="li"===f?{value:d}:{"data-value":d};if(!Oi(r))return o.createElement(f,Ae({},g,{role:"listitem",className:p,onClick:this.handleClick},m),r);var v=QO.create(u,{autoGenerateKey:!1}),y=eR.create(h,{autoGenerateKey:!1});if(!(0,o.isValidElement)(s)&&$i(s))return o.createElement(f,Ae({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,HO.create(s,{autoGenerateKey:!1,defaultProps:{header:l,description:a}}));var b=GO.create(l,{autoGenerateKey:!1}),w=BO.create(a,{autoGenerateKey:!1});return v||y?o.createElement(f,Ae({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,(s||b||w)&&o.createElement(HO,null,b,w,s)):o.createElement(f,Ae({},g,{role:"listitem",className:p,onClick:this.handleClick},m),b,w,s)},t}(o.Component);tR.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],tR.propTypes={},tR.create=ro(tR,(function(e){return{content:e}}));const nR=tR;function rR(e){var t=e.children,n=e.className,r=e.content,i=Ii(rR,e),s=xi(rR,e),a=gi(bi("ul"!==s&&"ol"!==s,"list"),n);return o.createElement(s,Ae({},i,{className:a}),Oi(t)?r:t)}rR.handledProps=["as","children","className","content"],rR.propTypes={};const iR=rR;var oR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){pi(e,"onClick",n,r),pi(t.props,"onItemClick",n,r)}}},t}return Oe(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,i=n.bulleted,s=n.celled,a=n.children,c=n.className,l=n.content,u=n.divided,h=n.floated,d=n.horizontal,f=n.inverted,p=n.items,m=n.link,g=n.ordered,v=n.relaxed,y=n.selection,b=n.size,w=n.verticalAlign,_=gi("ui",b,bi(r,"animated"),bi(i,"bulleted"),bi(s,"celled"),bi(u,"divided"),bi(d,"horizontal"),bi(f,"inverted"),bi(m,"link"),bi(g,"ordered"),bi(y,"selection"),_i(v,"relaxed"),wi(h,"floated"),Si(w),"list",c),T=Ii(t,this.props),E=xi(t,this.props);return Oi(a)?Oi(l)?o.createElement(E,Ae({role:"list",className:_},T),Zr(p,(function(t){return nR.create(t,{overrideProps:e.handleItemOverrides})}))):o.createElement(E,Ae({role:"list",className:_},T),l):o.createElement(E,Ae({role:"list",className:_},T),a)},t}(o.Component);oR.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],oR.propTypes={},oR.Content=HO,oR.Description=BO,oR.Header=GO,oR.Icon=QO,oR.Item=nR,oR.List=iR;const sR=oR;const aR=function(){const[e,t]=o.useState([]);return o.useEffect((()=>{Bc.firestore().collection("topic").get().then((e=>{const n=e.docs.map((e=>e.data()));t(n),console.log(n)}))}),[]),(0,DN.jsx)(sR,{animated:!0,selection:!0,children:e.map((e=>(0,DN.jsx)(sR.Item,{children:e.name},e.name)))})};function cR(e){var t=e.children,n=e.className,r=e.content,i=e.fluid,s=e.text,a=e.textAlign,c=gi("ui",bi(s,"text"),bi(i,"fluid"),Ei(a),"container",n),l=Ii(cR,e),u=xi(cR,e);return o.createElement(u,Ae({},l,{className:c}),Oi(t)?r:t)}cR.handledProps=["as","children","className","content","fluid","text","textAlign"],cR.propTypes={};const lR=cR;function uR(e){var t=e.children,n=e.className,r=e.content,i=e.hidden,s=e.visible,a=gi(bi(s,"visible"),bi(i,"hidden"),"content",n),c=Ii(uR,e),l=xi(uR,e);return o.createElement(l,Ae({},c,{className:a}),Oi(t)?r:t)}uR.handledProps=["as","children","className","content","hidden","visible"],uR.propTypes={};const hR=uR;function dR(e){var t=e.attached,n=e.basic,r=e.buttons,i=e.children,s=e.className,a=e.color,c=e.compact,l=e.content,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.labeled,m=e.negative,g=e.positive,v=e.primary,y=e.secondary,b=e.size,w=e.toggle,_=e.vertical,T=e.widths,E=gi("ui",a,b,bi(n,"basic"),bi(c,"compact"),bi(h,"fluid"),bi(d,"icon"),bi(f,"inverted"),bi(p,"labeled"),bi(m,"negative"),bi(g,"positive"),bi(v,"primary"),bi(y,"secondary"),bi(w,"toggle"),bi(_,"vertical"),_i(t,"attached"),wi(u,"floated"),ki(T),"buttons",s),S=Ii(dR,e),k=xi(dR,e);return to(r)?o.createElement(k,Ae({},S,{className:E}),Oi(i)?l:i):o.createElement(k,Ae({},S,{className:E}),Zr(r,(function(e){return vR.create(e)})))}dR.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],dR.propTypes={};const fR=dR;function pR(e){var t=e.className,n=e.text,r=gi("or",t),i=Ii(pR,e),s=xi(pR,e);return o.createElement(s,Ae({},i,{className:r,"data-text":n}))}pR.handledProps=["as","className","text"],pR.propTypes={};const mR=pR;var gR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,o.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!to(n)||!to(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return to(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return pi(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():pi(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,o=e.icon;return!0===o||o&&(n||Oi(r)&&to(i))},t}Oe(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return to(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,i=e.attached,s=e.basic,a=e.children,c=e.circular,l=e.className,u=e.color,h=e.compact,d=e.content,f=e.disabled,p=e.floated,m=e.fluid,g=e.icon,v=e.inverted,y=e.label,b=e.labelPosition,w=e.loading,_=e.negative,T=e.positive,E=e.primary,S=e.secondary,k=e.size,I=e.toggle,x=e.type,C=gi(u,k,bi(n,"active"),bi(s,"basic"),bi(c,"circular"),bi(h,"compact"),bi(m,"fluid"),bi(this.hasIconClass(),"icon"),bi(v,"inverted"),bi(w,"loading"),bi(_,"negative"),bi(T,"positive"),bi(E,"primary"),bi(S,"secondary"),bi(I,"toggle"),_i(r,"animated"),_i(i,"attached")),A=gi(_i(b||!!y,"labeled")),N=gi(bi(f,"disabled"),wi(p,"floated")),O=Ii(t,this.props),P=xi(t,this.props,this.computeElementType),R=this.computeTabIndex(P);if(!to(y)){var D=gi("ui",C,"button",l),L=gi("ui",A,"button",l,N),M=XP.create(y,{defaultProps:{basic:!0,pointing:"left"===b?"right":"left"},autoGenerateKey:!1});return o.createElement(P,Ae({},O,{className:L,onClick:this.handleClick}),"left"===b&&M,o.createElement(AP,{innerRef:this.ref},o.createElement("button",{className:D,"aria-pressed":I?!!n:void 0,disabled:f,type:x,tabIndex:R},ms.create(g,{autoGenerateKey:!1})," ",d)),("right"===b||!b)&&M)}var F=gi("ui",C,N,A,"button",l),j=!Oi(a),U=this.computeButtonAriaRole(P);return o.createElement(AP,{innerRef:this.ref},o.createElement(P,Ae({},O,{className:F,"aria-pressed":I?!!n:void 0,disabled:f&&"button"===P||void 0,onClick:this.handleClick,role:U,type:x,tabIndex:R}),j&&a,!j&&ms.create(g,{autoGenerateKey:!1}),!j&&d))},t}(o.Component);gR.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],gR.propTypes={},gR.defaultProps={as:"button"},gR.Content=hR,gR.Group=fR,gR.Or=mR,gR.create=ro(gR,(function(e){return{content:e}}));const vR=gR;const yR=function(e,t,n){"__proto__"==t&&ci?ci(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var bR=Object.prototype.hasOwnProperty;const wR=function(e,t,n){var r=e[t];bR.call(e,t)&&De(r,n)&&(void 0!==n||t in e)||yR(e,t,n)};const _R=function(e,t,n,r){if(!st(e))return e;for(var i=-1,o=(t=Mr(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=Fr(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=st(u)?u:In(t[i+1])?[]:{})}wR(a,c,l),a=a[c]}return e};const TR=function(e,t,n){return null==e?e:_R(e,t,n)};var ER=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,o.createRef)(),t.labelRef=(0,o.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,o=t.state.checked;return!n&&!i&&!(r&&o)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return to(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,o=r.indeterminate,s=pi(t.inputRef.current,"contains",e.target),a=pi(t.labelRef.current,"contains",e.target),c=!a&&!s,l=!to(n);a&&l||pi(t.props,"onClick",e,Ae({},t.props,{checked:!i,indeterminate:!!o})),t.isClickFromMouse&&(t.isClickFromMouse=!1,a&&!l&&t.handleChange(e),c&&t.handleChange(e),a&&l&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(pi(t.props,"onChange",e,Ae({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;pi(t.props,"onMouseDown",e,Ae({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||pi(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,pi(t.props,"onMouseUp",e,Ae({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;TR(t.inputRef,"current.indeterminate",!!e)},t}Oe(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,i=e.label,s=e.id,a=e.name,c=e.radio,l=e.readOnly,u=e.slider,h=e.toggle,d=e.type,f=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=gi("ui",bi(m,"checked"),bi(r,"disabled"),bi(g,"indeterminate"),bi(to(i),"fitted"),bi(c,"radio"),bi(l,"read-only"),bi(u,"slider"),bi(h,"toggle"),"checkbox",n),y=Ii(t,this.props),b=xi(t,this.props),w=vP(y,{htmlProps:pP}),_=w[0],T=w[1],E=so(i,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||o.createElement("label",{htmlFor:s});return o.createElement(b,Ae({},T,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),o.createElement(AP,{innerRef:this.inputRef},o.createElement("input",Ae({},_,{checked:m,className:"hidden",disabled:r,id:s,name:a,readOnly:!0,tabIndex:this.computeTabIndex(),type:d,value:f}))),o.createElement(AP,{innerRef:this.labelRef},E))},t}(Ri);function SR(e){var t=e.slider,n=e.toggle,r=e.type,i=Ii(SR,e),s=!(t||n)||void 0;return o.createElement(ER,Ae({},i,{type:r,radio:s,slider:t,toggle:n}))}ER.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],ER.propTypes={},ER.defaultProps={type:"checkbox"},ER.autoControlledProps=["checked","indeterminate"],SR.handledProps=["slider","toggle","type"],SR.propTypes={},SR.defaultProps={type:"radio"};const kR=SR;function IR(e){var t=e.children,n=e.className,r=e.content,i=e.control,s=e.disabled,a=e.error,c=e.inline,l=e.label,u=e.required,h=e.type,d=e.width,f=e.id,p=gi(bi(s,"disabled"),bi(a,"error"),bi(c,"inline"),bi(u,"required"),ki(d,"wide"),"field",n),m=Ii(IR,e),g=xi(IR,e),v=Ur(a,"pointing","above"),y=XP.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:v,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),b=("below"===v||"right"===v)&&y,w=("above"===v||"left"===v)&&y;if(to(i))return to(l)?o.createElement(g,Ae({},m,{className:p,id:f}),Oi(t)?r:t):o.createElement(g,Ae({},m,{className:p,id:f}),b,so(l,{autoGenerateKey:!1}),w);var _={"aria-describedby":f&&a?f+"-error-message":null,"aria-invalid":!!a||void 0},T=Ae({},m,{content:r,children:t,disabled:s,required:u,type:h,id:f});return"input"!==i||"checkbox"!==h&&"radio"!==h?i===ER||i===kR?o.createElement(g,{className:p},b,(0,o.createElement)(i,Ae({},_,T,{label:l})),w):o.createElement(g,{className:p},so(l,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),b,(0,o.createElement)(i,Ae({},_,T)),w):o.createElement(g,{className:p},o.createElement("label",null,b,(0,o.createElement)(i,Ae({},_,T))," ",l,w))}IR.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],IR.propTypes={};const xR=IR;function CR(e){var t=e.control,n=Ii(CR,e),r=xi(CR,e);return o.createElement(r,Ae({},n,{control:t}))}CR.handledProps=["as","control"],CR.propTypes={},CR.defaultProps={as:xR,control:vR};const AR=CR;function NR(e){var t=e.control,n=Ii(NR,e),r=xi(NR,e);return o.createElement(r,Ae({},n,{control:t}))}NR.handledProps=["as","control"],NR.propTypes={},NR.defaultProps={as:xR,control:ER};const OR=NR;const PR=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const RR=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const DR=function(e,t){var n=!0;return $r(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const LR=function(e,t,n){var r=sn(e)?RR:DR;return n&&Ai(e,t,n)&&(t=void 0),r(e,Qr(t,3))};const MR=function(e,t,n,r){var i=-1,o=ji,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Pe(t,Nn(n))),r?(o=Ui,s=!1):t.length>=200&&(o=Xt,s=!1,t=new Qt(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else o(t,h,r)||c.push(u)}return c};const FR=function(e){return pn(e)&&Kn(e)};var jR=fi((function(e,t){return FR(e)?MR(e,t):[]}));const UR=jR;const zR=function(e){return function(t,n,r){var i=Object(t);if(!Kn(t)){var o=Qr(n,3);t=Hn(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}};var VR=Math.max;const BR=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:sP(n);return i<0&&(i=VR(r+i,0)),Di(e,Qr(t,3),i)};const qR=zR(BR);const GR=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:sP(t),ni(e,0,(t=r-t)<0?0:t)):[]};var KR=Object.prototype.hasOwnProperty;const HR=function(e){if(null==e)return!0;if(Kn(e)&&(sn(e)||"string"==typeof e||"function"==typeof e.splice||Sn(e)||Mn(e)||bn(e)))return!e.length;var t=hr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(zn(e))return!Gn(e).length;for(var n in e)if(KR.call(e,n))return!1;return!0};const WR=Kr("length");var QR="\\ud800-\\udfff",YR="["+QR+"]",XR="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$R="\\ud83c[\\udffb-\\udfff]",JR="[^"+QR+"]",ZR="(?:\\ud83c[\\udde6-\\uddff]){2}",eD="[\\ud800-\\udbff][\\udc00-\\udfff]",tD="(?:"+XR+"|"+$R+")"+"?",nD="[\\ufe0e\\ufe0f]?",rD=nD+tD+("(?:\\u200d(?:"+[JR,ZR,eD].join("|")+")"+nD+tD+")*"),iD="(?:"+[JR+XR+"?",XR,ZR,eD,YR].join("|")+")",oD=RegExp($R+"(?="+$R+")|"+iD+rD,"g");const sD=function(e){for(var t=oD.lastIndex=0;oD.test(e);)++t;return t};const aD=function(e){return Qo(e)?sD(e):WR(e)};const cD=function(e){if(null==e)return 0;if(Kn(e))return Zi(e)?aD(e):e.length;var t=hr(e);return"[object Map]"==t||"[object Set]"==t?e.size:Gn(e).length};var lD=Xe?Xe.isConcatSpreadable:void 0;const uD=function(e){return sn(e)||bn(e)||!!(lD&&e&&e[lD])};const hD=function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=uD),o||(o=[]);++s<a;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,o):on(o,c):i||(o[o.length]=c)}return o};var dD=fi((function(e,t){return FR(e)?MR(e,hD(t,1,FR,!0)):[]}));const fD=dD;const pD=fi((function(e){return qi(hD(e,1,FR,!0))}));const mD=function(e,t){return vr(e,t)};const gD=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=jr(e,s);n(a,s)&&_R(o,Mr(s,e),a)}return o};const vD=function(e,t){return gD(e,t,(function(t,n){return Br(e,n)}))};const yD=function(e){return(null==e?0:e.length)?hD(e,1):[]};const bD=function(e){return di(si(e,void 0,yD),e+"")}((function(e,t){return null==e?{}:vD(e,t)}));var wD=n(7324),_D=n.n(wD),TD=function(e){function t(){return e.apply(this,arguments)||this}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.name,i=gi(r,"flag",n),s=Ii(t,this.props),a=xi(t,this.props);return o.createElement(a,Ae({},s,{className:i}))},t}(o.PureComponent);TD.handledProps=["as","className","name"],TD.propTypes={},TD.defaultProps={as:"i"},TD.create=ro(TD,(function(e){return{name:e}}));const ED=TD;function SD(e){var t=e.className,n=gi("divider",t),r=Ii(SD,e),i=xi(SD,e);return o.createElement(i,Ae({},r,{className:n}))}SD.handledProps=["as","className"],SD.propTypes={};const kD=SD;var ID=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){pi(t.props,"onClick",e,t.props)},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,s=e.content,a=e.disabled,c=e.description,l=e.flag,u=e.icon,h=e.image,d=e.label,f=e.selected,p=e.text,m=gi(bi(n,"active"),bi(a,"disabled"),bi(f,"selected"),"item",i),g=to(u)?function(e,t){return Ni(o.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":u,v=Ii(t,this.props),y=xi(t,this.props),b={role:"option","aria-disabled":a,"aria-checked":n,"aria-selected":f};if(!Oi(r))return o.createElement(y,Ae({},v,b,{className:m,onClick:this.handleClick}),r);var w=ED.create(l,{autoGenerateKey:!1}),_=ms.create(g,{autoGenerateKey:!1}),T=eR.create(h,{autoGenerateKey:!1}),E=XP.create(d,{autoGenerateKey:!1}),S=no("span",(function(e){return{children:e}}),c,{defaultProps:{className:"description"},autoGenerateKey:!1}),k=no("span",(function(e){return{children:e}}),Oi(s)?p:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return o.createElement(y,Ae({},v,b,{className:m,onClick:this.handleClick}),T,_,w,E,S,k)},t}(o.Component);ID.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],ID.propTypes={},ID.create=ro(ID,(function(e){return e}));const xD=ID;function CD(e){var t=e.children,n=e.className,r=e.content,i=e.icon,s=gi("header",n),a=Ii(CD,e),c=xi(CD,e);return Oi(t)?o.createElement(c,Ae({},a,{className:s}),ms.create(i,{autoGenerateKey:!1}),r):o.createElement(c,Ae({},a,{className:s}),t)}CD.handledProps=["as","children","className","content","icon"],CD.propTypes={},CD.create=ro(CD,(function(e){return{content:e}}));const AD=CD;function ND(e){var t=e.children,n=e.className,r=e.content,i=e.direction,s=e.open,a=e.scrolling,c=gi(i,bi(s,"visible"),bi(a,"scrolling"),"menu transition",n),l=Ii(ND,e),u=xi(ND,e);return o.createElement(u,Ae({},l,{className:c}),Oi(t)?r:t)}ND.handledProps=["as","children","className","content","direction","open","scrolling"],ND.propTypes={};const OD=ND;var PD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Ur(e,"target.value");pi(t.props,"onChange",e,Ae({},t.props,{value:n}))},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,i=e.tabIndex,s=e.type,a=e.value,c=gi("search",r),l=Ii(t,this.props);return o.createElement("input",Ae({},l,{"aria-autocomplete":"list",autoComplete:n,className:c,onChange:this.handleChange,tabIndex:i,type:s,value:a}))},t}(o.Component);PD.handledProps=["as","autoComplete","className","tabIndex","type","value"],PD.propTypes={},PD.defaultProps={autoComplete:"off",type:"text"},PD.create=ro(PD,(function(e){return{type:e}}));const RD=PD;function DD(e){var t=e.children,n=e.className,r=e.content,i=gi("divider",n),s=Ii(DD,e),a=xi(DD,e);return o.createElement(a,Ae({"aria-atomic":!0,"aria-live":"polite",role:"alert"},s,{className:i}),Oi(t)?r:t)}DD.handledProps=["as","children","className","content"],DD.propTypes={},DD.create=ro(DD,(function(e){return{content:e}}));const LD=DD;var MD=/[\\^$.*+?()[\]{}|]/g,FD=RegExp(MD.source);const jD=function(e){return(e=Lr(e))&&FD.test(e)?e.replace(MD,"\\$&"):e};const UD=function(e,t){var n=[];return $r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const zD=function(e,t){return(sn(e)?cn:UD)(e,Qr(t,3))};function VD(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,i=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.value,h=a;if(s&&(h=zD(h,(function(e){return!uP(u,e.value)}))),c&&l)if(at(c))h=c(h,l);else{var d=i?mo(l):l,f=new RegExp(jD(d),"i");h=zD(h,(function(e){return f.test(i?mo(e.text):e.text)}))}if(r&&c&&l&&!Ni(h,{text:l})){var p={key:"addition",text:[o.isValidElement(t)?o.cloneElement(t,{key:"addition-label"}):t||"",o.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===n?h.unshift(p):h.push(p)}return h}VD.handledProps=[];const BD=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};const qD=function(e,t,n){var r=sn(e)?uo:BD,i=arguments.length<3;return r(e,Qr(t,4),n,i,$r)};function GD(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.selectedIndex,h=e.value,d=VD({value:h,options:a,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:o,multiple:s,search:c}),f=qD(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!u||u<0){var p=f[0];t=s?p:BR(d,["value",h])||f[0]}else if(s)t=qR(f,(function(e){return e>=u})),u>=d.length-1&&(t=f[f.length-1]);else{var m=BR(d,["value",h]);t=uP(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}var KD=function(e,t){return to(e)?t:e},HD=function(e){return e?e.map((function(e){return bD(e,["key","value"])})):e};function WD(e){var t=e.flag,n=e.image,r=e.text;return at(r)?r:{content:o.createElement(o.Fragment,null,ED.create(t),eR.create(n),r)}}var QD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,o.createRef)(),t.sizerRef=(0,o.createRef)(),t.ref=(0,o.createRef)(),t.handleChange=function(e,n){pi(t.props,"onChange",e,Ae({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(Pi(r)?!i:r)&&t.close(e,zi)},t.closeOnEscape=function(e){t.props.closeOnEscape&&OP().getCode(e)===OP().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,o=r.selectOnNavigation;if(t.state.open){var s=((n={})[OP().ArrowDown]=1,n[OP().ArrowUp]=-1,n)[OP().getCode(e)];if(void 0!==s){e.preventDefault();var a=t.getSelectedIndexAfterMove(s);!i&&o&&t.makeSelectedItemActive(e,a),t.setState({selectedIndex:a})}}},t.openOnSpace=function(e){var n,r,i,o=t.state.focus&&!t.state.open&&OP().getCode(e)===OP().Spacebar,s="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);o&&(s&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var o=OP().getCode(e);o!==OP().ArrowDown&&o!==OP().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,o=r.value,s=t.props.multiple,a=t.getSelectedItem(n),c=Ur(a,"value"),l=Ur(a,"disabled");if(to(c)||!i||l)return o;var u=s?pD(o,[c]):c;return(s?!!fD(u,o).length:u!==o)&&(t.setState({value:u}),t.handleChange(e,u),a["data-additional"]&&pi(t.props,"onAddItem",e,Ae({},t.props,{value:c}))),o},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,o=r.selectedIndex;if(i&&(OP().getCode(e)===OP().Enter||!n&&OP().getCode(e)===OP().Spacebar)){e.preventDefault();var s=cD(VD({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==s){var a=t.makeSelectedItemActive(e,o);t.setState({selectedIndex:GD({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:o,value:a,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&pi(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,o=t.state,s=o.searchQuery,a=o.value;if(OP().getCode(e)===OP().Backspace&&!s&&i&&r&&!HR(a)){e.preventDefault();var c=GR(a);t.setState({value:c}),t.handleChange(e,c)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&FP(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,pi(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,o=t.state,s=o.open,a=o.searchQuery;if(pi(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);s?pi(t.searchRef.current,"focus"):a.length>=r||1===r?t.open(e):pi(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();pi(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,o=r.search,s=t.state.value,a=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var c=n["data-additional"],l=i?pD(t.state.value,[a]):a;(i?!!fD(l,s).length:l!==s)&&(t.setState({value:l}),t.handleChange(e,l)),t.clearSearchQuery(),pi(o?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),c&&pi(t.props,"onAddItem",e,Ae({},t.props,{value:a}))}},t.handleFocus=function(e){t.state.focus||(pi(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Ur(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,o=r.multiple,s=r.selectOnBlur;t.isMouseDown||(pi(t.props,"onBlur",e,t.props),s&&!o&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,o=t.state.open,s=r;pi(t.props,"onSearchChange",e,Ae({},t.props,{searchQuery:s})),t.setState({searchQuery:s,selectedIndex:0}),!o&&s.length>=i?t.open():o&&1!==i&&s.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),pi(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=VD({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Ur(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return qR(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,o=e.multiple,s={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),pi(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=UR(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=VD({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!LR(r,"disabled")){var i=r.length-1,o=n+e;return!t.props.wrapSelection&&(o>i||o<0)?o=n:o>i?o=0:o<0&&(o=i),r[o].disabled?t.getSelectedIndexAfterMove(e,o):o}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:gi(n&&t.hasValue()&&"clear",e.className),onClick:function(n){pi(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return to(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:to(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){pi(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!HR(n):!to(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,o=n.top-r,s=i<0&&o>i;!s!==!t.state.upward&&t.setState({upward:s})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,o=r.search;i||(o&&pi(t.searchRef.current,"focus"),pi(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(pi(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,o=n.search,s=n.text,a=t.state,c=a.searchQuery,l=a.selectedIndex,u=a.value,h=a.open,d=t.hasValue(),f=gi(i&&!d&&"default","text",o&&c&&"filtered"),p=i;return s?p=s:h&&!r?e=t.getSelectedItem(l):d&&(e=t.getItemByValue(u)),LD.create(e?WD(e):p,{defaultProps:{className:f}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,i=t.state.searchQuery;return n&&o.createElement(AP,{innerRef:t.searchRef},RD.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:i},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&o.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,o=i.selectedLabel,s=i.value;if(n&&!HR(s)){var a=Zr(s,t.getItemByValue);return Zr(PR(a),(function(e,n){var i={active:e.value===o,as:"a",key:KD(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return XP.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,i=e.search,s=e.noResultsMessage,a=t.state,c=a.open,l=a.selectedIndex,u=a.value;if(n&&!c)return null;var h=VD({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==s&&i&&HR(h))return o.createElement("div",{className:"message"},s);var d=r?function(e){return uP(u,e)}:function(e){return e===u};return Zr(h,(function(e,n){return xD.create(Ae({active:d(e.value),selected:l===n},e,{key:KD(e.key,e.value),style:Ae({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,i=e.header,s=t.state.open,a=t.getDropdownMenuAriaOptions();if(!Oi(n)){var c=o.Children.only(n),l=gi(r,bi(s,"visible"),c.props.className);return(0,o.cloneElement)(c,Ae({className:l},a))}return o.createElement(OD,Ae({},a,{direction:r,open:s}),AD.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}Oe(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!_D()(n.__value,t.value)||!mD(HD(e.options),HD(n.__options)))&&(r.selectedIndex=GD({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!_D()(e,this.props)||!_D()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,o=n.openOnFocus,s=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!s||s&&1===i&&!this.state.open;o&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,i=e.className,s=e.compact,a=e.disabled,c=e.error,l=e.fluid,u=e.floating,h=e.icon,d=e.inline,f=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,b=e.selection,w=e.scrolling,_=e.simple,T=e.trigger,E=this.state,S=E.focus,k=E.open,I=E.upward,x=gi("ui",bi(k,"active visible"),bi(a,"disabled"),bi(c,"error"),bi(m,"loading"),bi(n,"basic"),bi(r,"button"),bi(s,"compact"),bi(l,"fluid"),bi(u,"floating"),bi(d,"inline"),bi(p,"labeled"),bi(f,"item"),bi(g,"multiple"),bi(y,"search"),bi(b,"selection"),bi(_,"simple"),bi(w,"scrolling"),bi(I,"upward"),_i(v,"pointing"),"dropdown",i),C=Ii(t,this.props),A=xi(t,this.props),N=this.getDropdownAriaOptions(A,this.props);return o.createElement(AP,{innerRef:this.ref},o.createElement(A,Ae({},C,N,{className:x,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),T||this.renderText(),ms.create(h,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),k&&o.createElement(TP(),{name:"keydown",on:this.closeOnEscape}),k&&o.createElement(TP(),{name:"click",on:this.closeOnDocumentClick}),S&&o.createElement(TP(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(Ri);function YD(e){var t=e.control,n=Ii(YD,e),r=xi(YD,e);return o.createElement(r,Ae({},n,{control:t}))}QD.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],QD.propTypes={},QD.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:WD,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},QD.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],QD.Divider=kD,QD.Header=AD,QD.Item=xD,QD.Menu=OD,QD.SearchInput=RD,QD.Text=LD,YD.handledProps=["as","control"],YD.propTypes={},YD.defaultProps={as:xR,control:QD};const XD=YD;function $D(e){var t=e.children,n=e.className,r=e.grouped,i=e.inline,s=e.unstackable,a=e.widths,c=gi(bi(r,"grouped"),bi(i,"inline"),bi(s,"unstackable"),ki(a,null,!0),"fields",n),l=Ii($D,e),u=xi($D,e);return o.createElement(u,Ae({},l,{className:c}),t)}$D.handledProps=["as","children","className","grouped","inline","unstackable","widths"],$D.propTypes={};const JD=$D;var ZD=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,o.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return to(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return to(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Ur(e,"target.value");pi(n.props,"onChange",e,Ae({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Ae({},t,e.props,{ref:function(t){EP(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,o=n.computeTabIndex(),s=Ii(t,n.props),a=vP(s),c=a[0],l=a[1];return[Ae({},c,{disabled:r,type:i,tabIndex:o,onChange:n.handleChange,ref:n.inputRef}),l]},n}return Oe(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,i=n.actionPosition,s=n.children,a=n.className,c=n.disabled,l=n.error,u=n.fluid,h=n.focus,d=n.icon,f=n.iconPosition,p=n.input,m=n.inverted,g=n.label,v=n.labelPosition,y=n.loading,b=n.size,w=n.transparent,_=n.type,T=gi("ui",b,bi(c,"disabled"),bi(l,"error"),bi(u,"fluid"),bi(h,"focus"),bi(m,"inverted"),bi(y,"loading"),bi(w,"transparent"),wi(i,"action")||bi(r,"action"),wi(f,"icon")||bi(d||y,"icon"),wi(v,"labeled")||bi(g,"labeled"),"input",a),E=xi(t,this.props),S=this.partitionProps(),k=S[0],I=S[1];if(!Oi(s)){var x=Zr(o.Children.toArray(s),(function(t){return"input"!==t.type?t:(0,o.cloneElement)(t,e.handleChildOverrides(t,k))}));return o.createElement(E,Ae({},I,{className:T}),x)}var C=vR.create(r,{autoGenerateKey:!1}),A=XP.create(g,{defaultProps:{className:gi("label",uP(v,"corner")&&v)},autoGenerateKey:!1});return o.createElement(E,Ae({},I,{className:T}),"left"===i&&C,"right"!==v&&A,oo(p||_,{defaultProps:k,autoGenerateKey:!1}),ms.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&C,"right"===v&&A)},t}(o.Component);ZD.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],ZD.propTypes={},ZD.defaultProps={type:"text"},ZD.create=ro(ZD,(function(e){return{type:e}}));const eL=ZD;function tL(e){var t=e.control,n=Ii(tL,e),r=xi(tL,e);return o.createElement(r,Ae({},n,{control:t}))}tL.handledProps=["as","control"],tL.propTypes={},tL.defaultProps={as:xR,control:eL};const nL=tL;function rL(e){var t=e.control,n=Ii(rL,e),r=xi(rL,e);return o.createElement(r,Ae({},n,{control:t}))}rL.handledProps=["as","control"],rL.propTypes={},rL.defaultProps={as:xR,control:kR};const iL=rL;function oL(e){return o.createElement(QD,Ae({},e,{selection:!0}))}oL.handledProps=["options"],oL.propTypes={},oL.Divider=QD.Divider,oL.Header=QD.Header,oL.Item=QD.Item,oL.Menu=QD.Menu;const sL=oL;function aL(e){var t=e.control,n=e.options,r=Ii(aL,e),i=xi(aL,e);return o.createElement(i,Ae({},r,{control:t,options:n}))}aL.handledProps=["as","control","options"],aL.propTypes={},aL.defaultProps={as:xR,control:sL};const cL=aL;var lL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,o.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Ur(e,"target.value");pi(t.props,"onChange",e,Ae({},t.props,{value:n}))},t.handleInput=function(e){var n=Ur(e,"target.value");pi(t.props,"onInput",e,Ae({},t.props,{value:n}))},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,i=Ii(t,this.props),s=xi(t,this.props);return o.createElement(AP,{innerRef:this.ref},o.createElement(s,Ae({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(o.Component);lL.handledProps=["as","onChange","onInput","rows","value"],lL.propTypes={},lL.defaultProps={as:"textarea",rows:3};const uL=lL;function hL(e){var t=e.control,n=Ii(hL,e),r=xi(hL,e);return o.createElement(r,Ae({},n,{control:t}))}hL.handledProps=["as","control"],hL.propTypes={},hL.defaultProps={as:xR,control:uL};const dL=hL;var fL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&pi(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pi.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,i=e.className,s=e.error,a=e.inverted,c=e.loading,l=e.reply,u=e.size,h=e.success,d=e.unstackable,f=e.warning,p=e.widths,m=gi("ui",u,bi(s,"error"),bi(a,"inverted"),bi(c,"loading"),bi(l,"reply"),bi(h,"success"),bi(d,"unstackable"),bi(f,"warning"),ki(p,null,!0),"form",i),g=Ii(t,this.props),v=xi(t,this.props);return o.createElement(v,Ae({},g,{action:n,className:m,onSubmit:this.handleSubmit}),r)},t}(o.Component);fL.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],fL.propTypes={},fL.defaultProps={as:"form"},fL.Field=xR,fL.Button=AR,fL.Checkbox=OR,fL.Dropdown=XD,fL.Group=JD,fL.Input=nL,fL.Radio=iL,fL.Select=cL,fL.TextArea=dL;const pL=fL;function mL(e){var t=e.children,n=e.className,r=e.content,i=gi("content",n),s=Ii(mL,e),a=xi(mL,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}mL.handledProps=["as","children","className","content"],mL.propTypes={};const gL=mL;function vL(e){var t=e.children,n=e.className,r=e.content,i=gi("header",n),s=Ii(vL,e),a=xi(vL,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}vL.handledProps=["as","children","className","content"],vL.propTypes={},vL.create=ro(vL,(function(e){return{content:e}}));const yL=vL;function bL(e){var t=e.children,n=e.className,r=e.content,i=gi("content",n),s=Ii(bL,e),a=xi(bL,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}bL.handledProps=["as","children","className","content"],bL.propTypes={},bL.defaultProps={as:"li"},bL.create=ro(bL,(function(e){return{content:e}}));const wL=bL;function _L(e){var t=e.children,n=e.className,r=e.items,i=gi("list",n),s=Ii(_L,e),a=xi(_L,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?Zr(r,wL.create):t)}_L.handledProps=["as","children","className","items"],_L.propTypes={},_L.defaultProps={as:"ul"},_L.create=ro(_L,(function(e){return{items:e}}));const TL=_L;var EL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,r=e.children,i=e.className,s=e.color,a=e.compact,c=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,f=e.icon,p=e.info,m=e.list,g=e.negative,v=e.onDismiss,y=e.positive,b=e.size,w=e.success,_=e.visible,T=e.warning,E=gi("ui",s,b,bi(a,"compact"),bi(l,"error"),bi(u,"floating"),bi(d,"hidden"),bi(f,"icon"),bi(p,"info"),bi(g,"negative"),bi(y,"positive"),bi(w,"success"),bi(_,"visible"),bi(T,"warning"),_i(n,"attached"),"message",i),S=v&&o.createElement(ms,{name:"close",onClick:this.handleDismiss}),k=Ii(t,this.props),I=xi(t,this.props);return Oi(r)?o.createElement(I,Ae({},k,{className:E}),S,ms.create(f,{autoGenerateKey:!1}),(!to(h)||!to(c)||!to(m))&&o.createElement(gL,null,yL.create(h,{autoGenerateKey:!1}),TL.create(m,{autoGenerateKey:!1}),ao(c,{autoGenerateKey:!1}))):o.createElement(I,Ae({},k,{className:E}),S,r)},t}(o.Component);EL.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],EL.propTypes={},EL.Content=gL,EL.Header=yL,EL.List=TL,EL.Item=wL;var SL=n(8161),kL=n.n(SL),IL=n(6366),xL=n.n(IL),CL=n(2123),AL=n.n(CL),NL="bodyAttributes",OL="htmlAttributes",PL="titleAttributes",RL={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},DL=(Object.keys(RL).map((function(e){return RL[e]})),"charset"),LL="cssText",ML="href",FL="http-equiv",jL="innerHTML",UL="itemprop",zL="name",VL="property",BL="rel",qL="src",GL="target",KL={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HL="defaultTitle",WL="defer",QL="encodeSpecialCharacters",YL="onChangeClientState",XL="titleTemplate",$L=Object.keys(KL).reduce((function(e,t){return e[KL[t]]=t,e}),{}),JL=[RL.NOSCRIPT,RL.SCRIPT,RL.STYLE],ZL="data-react-helmet",eM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rM=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},iM=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},oM=function(e){var t=uM(e,RL.TITLE),n=uM(e,XL);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=uM(e,HL);return t||r||void 0},sM=function(e){return uM(e,YL)||function(){}},aM=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return nM({},e,t)}),{})},cM=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[RL.BASE]})).map((function(e){return e[RL.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},lM=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&mM("Helmet: "+e+' should be of type "Array". Instead found type "'+eM(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s],c=a.toLowerCase();-1===t.indexOf(c)||n===BL&&"canonical"===e[n].toLowerCase()||c===BL&&"stylesheet"===e[c].toLowerCase()||(n=c),-1===t.indexOf(a)||a!==jL&&a!==LL&&a!==UL||(n=a)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],c=AL()({},r[a],i[a]);r[a]=c}return e}),[]).reverse()},uM=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},hM=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){hM(t)}),0)}}(),dM=function(e){return clearTimeout(e)},fM="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||hM:n.g.requestAnimationFrame||hM,pM="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||dM:n.g.cancelAnimationFrame||dM,mM=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},gM=null,vM=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,c=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,h=e.title,d=e.titleAttributes;wM(RL.BODY,r),wM(RL.HTML,i),bM(h,d);var f={baseTag:_M(RL.BASE,n),linkTags:_M(RL.LINK,o),metaTags:_M(RL.META,s),noscriptTags:_M(RL.NOSCRIPT,a),scriptTags:_M(RL.SCRIPT,l),styleTags:_M(RL.STYLE,u)},p={},m={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(m[e]=f[e].oldTags)})),t&&t(),c(e,p,m)},yM=function(e){return Array.isArray(e)?e.join(""):e},bM=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=yM(e)),wM(RL.TITLE,t)},wM=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(ZL),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(t),a=0;a<s.length;a++){var c=s[a],l=t[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),-1===i.indexOf(c)&&i.push(c);var u=o.indexOf(c);-1!==u&&o.splice(u,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(ZL):n.getAttribute(ZL)!==s.join(",")&&n.setAttribute(ZL,s.join(","))}},_M=function(e,t){var n=document.head||document.querySelector(RL.HEAD),r=n.querySelectorAll(e+"["+ZL+"]"),i=Array.prototype.slice.call(r),o=[],s=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===jL)n.innerHTML=t.innerHTML;else if(r===LL)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(ZL,"true"),i.some((function(e,t){return s=t,n.isEqualNode(e)}))?i.splice(s,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},TM=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},EM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[KL[n]||n]=e[n],t}),t)},SM=function(e,t,n){switch(e){case RL.TITLE:return{toComponent:function(){return function(e,t,n){var r,i=((r={key:t})[ZL]=!0,r),s=EM(n,i);return[o.createElement(RL.TITLE,s,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=TM(n),o=yM(t);return i?"<"+e+" "+ZL+'="true" '+i+">"+iM(o,r)+"</"+e+">":"<"+e+" "+ZL+'="true">'+iM(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case NL:case OL:return{toComponent:function(){return EM(t)},toString:function(){return TM(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var r,i=((r={key:n})[ZL]=!0,r);return Object.keys(t).forEach((function(e){var n=KL[e]||e;if(n===jL||n===LL){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]})),o.createElement(e,i)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===jL||e===LL)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+iM(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",s=-1===JL.indexOf(e);return t+"<"+e+" "+ZL+'="true" '+i+(s?"/>":">"+o+"</"+e+">")}),"")}(e,t,n)}}}},kM=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,c=e.scriptTags,l=e.styleTags,u=e.title,h=void 0===u?"":u,d=e.titleAttributes;return{base:SM(RL.BASE,t,r),bodyAttributes:SM(NL,n,r),htmlAttributes:SM(OL,i,r),link:SM(RL.LINK,o,r),meta:SM(RL.META,s,r),noscript:SM(RL.NOSCRIPT,a,r),script:SM(RL.SCRIPT,c,r),style:SM(RL.STYLE,l,r),title:SM(RL.TITLE,{title:h,titleAttributes:d},r)}},IM=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!xL()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case RL.SCRIPT:case RL.NOSCRIPT:return{innerHTML:t};case RL.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return nM({},r,((t={})[n.type]=[].concat(r[n.type]||[],[nM({},i,this.mapNestedChildrenToProps(n,o))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,s=e.nestedChildren;switch(r.type){case RL.TITLE:return nM({},i,((t={})[r.type]=s,t.titleAttributes=nM({},o),t));case RL.BODY:return nM({},i,{bodyAttributes:nM({},o)});case RL.HTML:return nM({},i,{htmlAttributes:nM({},o)})}return nM({},i,((n={})[r.type]=nM({},o),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=nM({},t);return Object.keys(e).forEach((function(t){var r;n=nM({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return o.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,o=i.children,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[$L[n]||n]=e[n],t}),t)}(rM(i,["children"]));switch(n.warnOnInvalidChildren(e,o),e.type){case RL.LINK:case RL.META:case RL.NOSCRIPT:case RL.SCRIPT:case RL.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:s,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o})}}})),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=rM(t,["children"]),i=nM({},r);return n&&(i=this.mapChildrenToProps(n,i)),o.createElement(e,i)},tM(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(o.Component),t.propTypes={base:FN().object,bodyAttributes:FN().object,children:FN().oneOfType([FN().arrayOf(FN().node),FN().node]),defaultTitle:FN().string,defer:FN().bool,encodeSpecialCharacters:FN().bool,htmlAttributes:FN().object,link:FN().arrayOf(FN().object),meta:FN().arrayOf(FN().object),noscript:FN().arrayOf(FN().object),onChangeClientState:FN().func,script:FN().arrayOf(FN().object),style:FN().arrayOf(FN().object),title:FN().string,titleAttributes:FN().object,titleTemplate:FN().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=kM({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(kL()((function(e){return{baseTag:cM([ML,GL],e),bodyAttributes:aM(NL,e),defer:uM(e,WL),encode:uM(e,QL),htmlAttributes:aM(OL,e),linkTags:lM(RL.LINK,[BL,ML],e),metaTags:lM(RL.META,[zL,DL,FL,VL,UL],e),noscriptTags:lM(RL.NOSCRIPT,[jL],e),onChangeClientState:sM(e),scriptTags:lM(RL.SCRIPT,[qL,jL],e),styleTags:lM(RL.STYLE,[LL],e),title:oM(e),titleAttributes:aM(PL,e)}}),(function(e){gM&&pM(gM),e.defer?gM=fM((function(){vM(e,(function(){gM=null}))})):(vM(e),gM=null)}),kM)((function(){return null})));IM.renderStatic=IM.rewind;n(5670);const xM=function(){const e=te(),[t,n]=o.useState("register"),[r,i]=o.useState(""),[s,a]=o.useState(""),[c,l]=o.useState(""),[u,h]=o.useState(!1);return(0,DN.jsxs)(lR,{children:[(0,DN.jsx)(LN,{}),(0,DN.jsxs)(ws,{widths:"2",children:[(0,DN.jsx)(ws.Item,{active:"register"===t,onClick:()=>{l(""),n("register")},to:"/",children:"\u8a3b\u518a"}),(0,DN.jsx)(ws.Item,{active:"signin"===t,onClick:()=>{l(""),n("signin")},to:"/",children:"\u767b\u5165"})]}),(0,DN.jsxs)(pL,{onSubmit:function(n){h(!0),n.preventDefault(),"register"===t?RN.createUserWithEmailAndPassword(r,s).then((()=>{console.log("\u8a3b\u518a\u6210\u529f"),e("/"),h(!0)})).catch((e=>{switch(console.log(e.code,e.message),e.code){case"auth/email-already-in-use":l("\u4fe1\u7bb1\u5df2\u7d93\u88ab\u4f7f\u7528");break;case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":l("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3");break;case"auth/missing-password":l("\u8acb\u8f38\u5165\u5bc6\u78bc");break;default:l("\u767c\u751f\u672a\u77e5\u932f\u8aa4 ".concat(e.code,", ").concat(e.message))}h(!1)})):"signin"===t&&RN.signInWithEmailAndPassword(r,s).then((()=>{console.log("\u767b\u5165\u6210\u529f"),e("/"),h(!0)})).catch((e=>{switch(console.log(e.code,e.message),e.code){case"auth/invalid-credential":l("\u96fb\u5b50\u90f5\u4ef6\u6216\u5bc6\u78bc\u6709\u8aa4");break;case"auth/missing-password":l("\u8acb\u8f38\u5165\u5bc6\u78bc");break;case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/user-not-found":l("\u4fe1\u7bb1\u4e0d\u5b58\u5728");break;case"auth/wrong-password":l("\u5bc6\u78bc\u932f\u8aa4");break;default:l("\u767c\u751f\u672a\u77e5\u932f\u8aa4 ".concat(e.code,", ").concat(e.message))}h(!1)})),console.log(r,s,t)},children:[(0,DN.jsx)(pL.Input,{label:"\u4fe1\u7bb1",value:r,onChange:e=>i(e.target.value),placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,DN.jsx)(pL.Input,{label:"\u5bc6\u78bc",value:s,onChange:e=>a(e.target.value),placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",type:"password"}),c&&(0,DN.jsx)(EL,{color:"red",children:c}),(0,DN.jsxs)(pL.Button,{type:"submit",loading:u,children:["register"===t&&"\u8a3b\u518a","signin"===t&&"\u767b\u5165"]})]})]})};function CM(e){var t=e.children,n=e.className,r=e.computer,i=e.color,s=e.floated,a=e.largeScreen,c=e.mobile,l=e.only,u=e.stretched,h=e.tablet,d=e.textAlign,f=e.verticalAlign,p=e.widescreen,m=e.width,g=gi(i,bi(u,"stretched"),Ti(l,"only"),Ei(d),wi(s,"floated"),Si(f),ki(r,"wide computer"),ki(a,"wide large screen"),ki(c,"wide mobile"),ki(h,"wide tablet"),ki(p,"wide widescreen"),ki(m,"wide"),"column",n),v=Ii(CM,e),y=xi(CM,e);return o.createElement(y,Ae({},v,{className:g}),t)}CM.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],CM.propTypes={},CM.create=ro(CM,(function(e){return{children:e}}));const AM=CM;function NM(e){var t=e.centered,n=e.children,r=e.className,i=e.color,s=e.columns,a=e.divided,c=e.only,l=e.reversed,u=e.stretched,h=e.textAlign,d=e.verticalAlign,f=gi(i,bi(t,"centered"),bi(a,"divided"),bi(u,"stretched"),Ti(c,"only"),Ti(l,"reversed"),Ei(h),Si(d),ki(s,"column",!0),"row",r),p=Ii(NM,e),m=xi(NM,e);return o.createElement(m,Ae({},p,{className:f}),n)}NM.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],NM.propTypes={};const OM=NM;function PM(e){var t=e.celled,n=e.centered,r=e.children,i=e.className,s=e.columns,a=e.container,c=e.divided,l=e.doubling,u=e.inverted,h=e.padded,d=e.relaxed,f=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=gi("ui",bi(n,"centered"),bi(a,"container"),bi(l,"doubling"),bi(u,"inverted"),bi(p,"stackable"),bi(m,"stretched"),_i(t,"celled"),_i(c,"divided"),_i(h,"padded"),_i(d,"relaxed"),Ti(f,"reversed"),Ei(g),Si(v),ki(s,"column",!0),"grid",i),b=Ii(PM,e),w=xi(PM,e);return o.createElement(w,Ae({},b,{className:y}),r)}PM.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],PM.Column=AM,PM.Row=OM,PM.propTypes={};const RM=PM;function DM(e){var t=e.children,n=e.className,r=e.content,i=gi("header",n),s=Ii(DM,e),a=xi(DM,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}DM.handledProps=["as","children","className","content"],DM.propTypes={},DM.create=ro(DM,(function(e){return{content:e}}));const LM=DM;function MM(e){var t=e.children,n=e.className,r=e.content,i=gi("description",n),s=Ii(MM,e),a=xi(MM,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}MM.handledProps=["as","children","className","content"],MM.propTypes={},MM.create=ro(MM,(function(e){return{content:e}}));const FM=MM;function jM(e){var t=e.children,n=e.className,r=e.content,i=gi("extra",n),s=Ii(jM,e),a=xi(jM,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}jM.handledProps=["as","children","className","content"],jM.propTypes={},jM.create=ro(jM,(function(e){return{content:e}}));const UM=jM;function zM(e){var t=e.children,n=e.className,r=e.content,i=gi("meta",n),s=Ii(zM,e),a=xi(zM,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}zM.handledProps=["as","children","className","content"],zM.propTypes={},zM.create=ro(zM,(function(e){return{content:e}}));const VM=zM;function BM(e){var t=e.children,n=e.className,r=e.content,i=e.description,s=e.extra,a=e.header,c=e.meta,l=e.verticalAlign,u=gi(Si(l),"content",n),h=Ii(BM,e),d=xi(BM,e);return Oi(t)?o.createElement(d,Ae({},h,{className:u}),LM.create(a,{autoGenerateKey:!1}),VM.create(c,{autoGenerateKey:!1}),FM.create(i,{autoGenerateKey:!1}),UM.create(s,{autoGenerateKey:!1}),r):o.createElement(d,Ae({},h,{className:u}),t)}BM.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],BM.propTypes={};const qM=BM;function GM(e){var t=e.children,n=e.className,r=e.content,i=e.divided,s=e.items,a=e.link,c=e.relaxed,l=e.unstackable,u=gi("ui",bi(i,"divided"),bi(a,"link"),bi(l,"unstackable"),_i(c,"relaxed"),"items",n),h=Ii(GM,e),d=xi(GM,e);if(!Oi(t))return o.createElement(d,Ae({},h,{className:u}),t);if(!Oi(r))return o.createElement(d,Ae({},h,{className:u}),r);var f=Zr(s,(function(e){var t=e.childKey,n=SP(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return o.createElement(YM,Ae({},n,{key:r}))}));return o.createElement(d,Ae({},h,{className:u}),f)}GM.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],GM.propTypes={};const KM=GM;function HM(e){var t=e.size,n=Ii(HM,e);return o.createElement(eR,Ae({},n,{size:t,ui:!!t,wrapped:!0}))}HM.handledProps=["size"],HM.propTypes={},HM.create=ro(HM,(function(e){return{src:e}}));const WM=HM;function QM(e){var t=e.children,n=e.className,r=e.content,i=e.description,s=e.extra,a=e.header,c=e.image,l=e.meta,u=gi("item",n),h=Ii(QM,e),d=xi(QM,e);return Oi(t)?o.createElement(d,Ae({},h,{className:u}),WM.create(c,{autoGenerateKey:!1}),o.createElement(qM,{content:r,description:i,extra:s,header:a,meta:l})):o.createElement(d,Ae({},h,{className:u}),t)}QM.handledProps=["as","children","className","content","description","extra","header","image","meta"],QM.Content=qM,QM.Description=FM,QM.Extra=UM,QM.Group=KM,QM.Header=LM,QM.Image=WM,QM.Meta=VM,QM.propTypes={};const YM=QM;const XM=function(){const[e,t]=o.useState([]);return o.useEffect((()=>{Bc.firestore().collection("posts").get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)}))}),[]),(0,DN.jsxs)(lR,{children:[(0,DN.jsx)(LN,{}),(0,DN.jsx)(RM,{children:(0,DN.jsxs)(RM.Row,{children:[(0,DN.jsx)(RM.Column,{width:3,children:(0,DN.jsx)(aR,{})}),(0,DN.jsx)(RM.Column,{width:10,children:(0,DN.jsx)(YM.Group,{children:e.map(((e,t)=>{var n;return console.log("".concat(t)),(0,DN.jsxs)(YM,{as:Ie,to:"/posts/".concat(e.id),children:[(0,DN.jsx)(YM.Image,{size:"small",src:e.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png"}),(0,DN.jsxs)(YM.Content,{children:[(0,DN.jsxs)(YM.Meta,{children:[e.author.photoURL?(0,DN.jsx)(eR,{src:e.author.photoURL}):(0,DN.jsx)(ms,{name:"user circle"}),e.topic,"\uff0c",e.author.displayName||"\u4f7f\u7528\u8005"]}),(0,DN.jsx)(YM.Header,{children:e.title}),(0,DN.jsx)(YM.Description,{children:e.content}),(0,DN.jsxs)(YM.Extra,{children:["\u7559\u8a00 ",e.commentsCount||0,"\uff0c\u8b9a"," ",(null===(n=e.likeBy)||void 0===n?void 0:n.length)||0]})]})]},e.id)}))})}),(0,DN.jsx)(RM.Column,{width:3})]})})]})};function $M(e){var t=e.children,n=e.className,r=e.content,i=gi("sub header",n),s=Ii($M,e),a=xi($M,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}$M.handledProps=["as","children","className","content"],$M.propTypes={},$M.create=ro($M,(function(e){return{content:e}}));const JM=$M;function ZM(e){var t=e.children,n=e.className,r=e.content,i=gi("content",n),s=Ii(ZM,e),a=xi(ZM,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}ZM.handledProps=["as","children","className","content"],ZM.propTypes={};const eF=ZM;function tF(e){var t=e.attached,n=e.block,r=e.children,i=e.className,s=e.color,a=e.content,c=e.disabled,l=e.dividing,u=e.floated,h=e.icon,d=e.image,f=e.inverted,p=e.size,m=e.sub,g=e.subheader,v=e.textAlign,y=gi("ui",s,p,bi(n,"block"),bi(c,"disabled"),bi(l,"dividing"),wi(u,"floated"),bi(!0===h,"icon"),bi(!0===d,"image"),bi(f,"inverted"),bi(m,"sub"),_i(t,"attached"),Ei(v),"header",i),b=Ii(tF,e),w=xi(tF,e);if(!Oi(r))return o.createElement(w,Ae({},b,{className:y}),r);var _=ms.create(h,{autoGenerateKey:!1}),T=eR.create(d,{autoGenerateKey:!1}),E=JM.create(g,{autoGenerateKey:!1});return _||T?o.createElement(w,Ae({},b,{className:y}),_||T,(a||E)&&o.createElement(eF,null,a,E)):o.createElement(w,Ae({},b,{className:y}),a,E)}tF.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],tF.propTypes={},tF.Content=eF,tF.Subheader=JM;const nF=tF,rF="firebasestorage.googleapis.com",iF="storageBucket";class oF extends zs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(cF(e),"Firebase Storage: ".concat(t," (").concat(cF(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oF.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var sF,aF;function cF(e){return"storage/"+e}function lF(){return new oF(sF.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function uF(){return new oF(sF.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hF(){return new oF(sF.CANCELED,"User canceled the upload/download.")}function dF(){return new oF(sF.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fF(e){return new oF(sF.INVALID_ARGUMENT,e)}function pF(){return new oF(sF.APP_DELETED,"The Firebase app was deleted.")}function mF(e){return new oF(sF.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gF(e,t){return new oF(sF.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vF(e){throw new oF(sF.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(sF||(sF={}));class yF{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yF.makeFromUrl(e,t)}catch(OW){return new yF(e,"")}if(""===n.path)return n;throw r=e,new oF(sF.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===rF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new yF(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new oF(sF.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class bF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function wF(e){return"string"===typeof e||e instanceof String}function _F(e){return TF()&&e instanceof Blob}function TF(){return"undefined"!==typeof Blob}function EF(e,t,n,r){if(r<t)throw fF("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw fF("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function SF(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function kF(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function IF(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(aF||(aF={}));class xF{constructor(e,t,n,r,i,o,s,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new CF(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===aF.NO_ERROR,i=n.getStatus();if(!t||IF(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===aF.ABORT;return void e(!1,new CF(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new CF(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(OW){r(OW)}else if(null!==i){const e=lF();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?pF():hF())}else{r(uF())}};this.canceled_?t(0,new CF(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CF{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function AF(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NF(){const e=AF();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(TF())return new Blob(n);throw new oF(sF.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function OF(e){if("undefined"===typeof atob)throw t="base-64",new oF(sF.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const PF={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RF{constructor(e,t){this.data=e,this.contentType=t||null}}function DF(e,t){switch(e){case PF.RAW:return new RF(LF(t));case PF.BASE64:case PF.BASE64URL:return new RF(MF(e,t));case PF.DATA_URL:return new RF(function(e){const t=new FF(e);return t.base64?MF(PF.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(OW){throw gF(PF.DATA_URL,"Malformed data URL.")}return LF(t)}(t.rest)}(t),new FF(t).contentType)}throw lF()}function LF(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function MF(e,t){switch(e){case PF.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw gF(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case PF.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw gF(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OF(t)}catch(OW){if(OW.message.includes("polyfill"))throw OW;throw gF(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gF(PF.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class jF{constructor(e,t){let n=0,r="";_F(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(_F(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new jF(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new jF(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(TF()){const e=t.map((e=>e instanceof jF?e.data_:e));return new jF(NF.apply(null,e))}{const e=t.map((e=>wF(e)?DF(PF.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new jF(r,!0)}}uploadData(){return this.data_}}function UF(e){let t;try{t=JSON.parse(e)}catch(OW){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zF(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function VF(e,t){return t}class BF{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||VF}}let qF=null;function GF(){if(qF)return qF;const e=[];e.push(new BF("bucket")),e.push(new BF("generation")),e.push(new BF("metageneration")),e.push(new BF("name","fullPath",!0));const t=new BF("name");t.xform=function(e,t){return function(e){return!wF(e)||e.length<2?e:zF(e)}(t)},e.push(t);const n=new BF("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new BF("timeCreated")),e.push(new BF("updated")),e.push(new BF("md5Hash",null,!0)),e.push(new BF("cacheControl",null,!0)),e.push(new BF("contentDisposition",null,!0)),e.push(new BF("contentEncoding",null,!0)),e.push(new BF("contentLanguage",null,!0)),e.push(new BF("contentType",null,!0)),e.push(new BF("metadata","customMetadata",!0)),qF=e,qF}function KF(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new yF(n,r);return t._makeStorageReference(i)}})}(r,e),r}function HF(e,t,n){const r=UF(t);if(null===r)return null;return KF(e,r,n)}function WF(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const QF="prefixes",YF="items";function XF(e,t,n){const r=UF(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[QF])for(const i of n[QF]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new yF(t,n));r.prefixes.push(o)}if(n[YF])for(const i of n[YF]){const n=e._makeStorageReference(new yF(t,i.name));r.items.push(n)}return r}(e,t,r)}class $F{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function JF(e){if(!e)throw lF()}function ZF(e,t){return function(n,r){const i=HF(e,r,t);return JF(null!==i),i}}function ej(e,t){return function(n,r){const i=HF(e,r,t);return JF(null!==i),function(e,t,n,r){const i=UF(t);if(null===i)return null;if(!wF(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return SF("/b/"+s(i)+"/o/"+s(o),n,r)+kF({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function tj(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new oF(sF.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new oF(sF.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new oF(sF.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new oF(sF.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function nj(e){const t=tj(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new oF(sF.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function rj(e,t,n){const r=SF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new $F(r,"GET",ZF(e,n),i);return o.errorHandler=nj(t),o}function ij(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=SF(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new $F(s,"GET",function(e,t){return function(n,r){const i=XF(e,t,r);return JF(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=tj(t),c}function oj(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function sj(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=oj(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+WF(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=jF.getBlob(l,r,u);if(null===h)throw dF();const d={name:c.fullPath},f=SF(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new $F(f,"POST",ZF(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=tj(t),m}class aj{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function cj(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(OW){JF(!1)}return JF(!!n&&-1!==(t||["active"]).indexOf(n)),n}const lj=262144;function uj(e,t,n,r,i,o,s,a){const c=new aj(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new oF(sF.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw dF();const g=t.maxUploadRetryTime,v=new $F(n,"POST",(function(e,n){const i=cj(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?ZF(t,o)(e,n):null,new aj(s,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=tj(e),v}const hj={STATE_CHANGED:"state_changed"},dj={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fj(e){switch(e){case"running":case"pausing":case"canceling":return dj.RUNNING;case"paused":return dj.PAUSED;case"success":return dj.SUCCESS;case"canceled":return dj.CANCELED;default:return dj.ERROR}}class pj{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function mj(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let gj=null;class vj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aF.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=aF.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=aF.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw vF("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vF("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vF("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OW){return-1}}getResponse(){if(!this.sent_)throw vF("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vF("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class yj extends vj{initXhr(){this.xhr_.responseType="text"}}function bj(){return gj?gj():new yj}class wj{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=GF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(sF.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(IF(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=uF()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(sF.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=oj(t,r,i),a={name:s.fullPath},c=SF(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=WF(s,n),h=e.maxUploadRetryTime,d=new $F(c,"POST",(function(e){let t;cj(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(OW){JF(!1)}return JF(wF(t)),t}),h);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=tj(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,bj,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new $F(n,"POST",(function(e){const t=cj(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(OW){JF(!1)}n||JF(!1);const i=Number(n);return JF(!isNaN(i)),new aj(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=tj(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,bj,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=lj*this._chunkMultiplier,t=new aj(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=uj(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(OW){return this._error=OW,void this._transition("error")}const s=this._ref.storage._makeRequest(o,bj,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(lj*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=rj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,bj,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=sj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,bj,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=hF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=fj(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new pj(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(fj(this._state)){case dj.SUCCESS:mj(this._resolve.bind(null,this.snapshot))();break;case dj.CANCELED:case dj.ERROR:mj(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fj(this._state)){case dj.RUNNING:case dj.PAUSED:e.next&&mj(e.next.bind(e,this.snapshot))();break;case dj.SUCCESS:e.complete&&mj(e.complete.bind(e))();break;default:e.error&&mj(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _j{constructor(e,t){this._service=e,this._location=t instanceof yF?t:yF.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _j(e,t)}get root(){const e=new yF(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zF(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yF(this._location.bucket,e);return new _j(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw mF(e)}}function Tj(e){const t={prefixes:[],items:[]};return Ej(e,t).then((()=>t))}async function Ej(e,t,n){const r={pageToken:n},i=await Sj(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Ej(e,t,i.nextPageToken)}function Sj(e,t){null!=t&&"number"===typeof t.maxResults&&EF("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ij(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,bj)}function kj(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=SF(t.fullServerUrl(),e.host,e._protocol),o=WF(n,r),s=e.maxOperationRetryTime,a=new $F(i,"PATCH",ZF(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=nj(t),a}(e.storage,e._location,t,GF());return e.storage.makeRequestWithTokens(n,bj)}function Ij(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=SF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new $F(r,"GET",ej(e,n),i);return o.errorHandler=nj(t),o}(e.storage,e._location,GF());return e.storage.makeRequestWithTokens(t,bj).then((e=>{if(null===e)throw new oF(sF.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xj(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=SF(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new $F(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=nj(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,bj)}function Cj(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yF(e._location.bucket,n);return new _j(e.storage,r)}function Aj(e,t){if(e instanceof Pj){const n=e;if(null==n._bucket)throw new oF(sF.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iF+"' property when initializing the app?");const r=new _j(n,n._bucket);return null!=t?Aj(r,t):r}return void 0!==t?Cj(e,t):e}function Nj(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Pj)return new _j(e,t);throw fF("To use ref(service, url), the first argument must be a Storage instance.")}return Aj(e,t)}function Oj(e,t){const n=null===t||void 0===t?void 0:t[iF];return null==n?null:yF.makeFromBucketSpec(n,e)}class Pj{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=rF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yF.makeFromBucketSpec(r,this._host):Oj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yF.makeFromBucketSpec(this._url,e):this._bucket=Oj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _j(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new bF(pF());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=kF(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new xF(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Rj="@firebase/storage",Dj="0.12.3",Lj="storage";function Mj(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new wj(e,new jF(t),n)}(e=Js(e),t,n)}function Fj(e){return function(e){e._throwIfRoot("getMetadata");const t=rj(e.storage,e._location,GF());return e.storage.makeRequestWithTokens(t,bj)}(e=Js(e))}function jj(e,t){return Nj(e=Js(e),t)}function Uj(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Os(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function zj(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Pj(r,i,o,n,vc)}cc(new Zs(Lj,zj,"PUBLIC").setMultipleInstances(!0)),Ec(Rj,Dj,""),Ec(Rj,Dj,"esm2017");class Vj{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Vj(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Vj(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Vj(e,this,this._ref)):{next:t.next?e=>t.next(new Vj(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class qj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Gj(e,this._service)))}get items(){return this._delegate.items.map((e=>new Gj(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Gj{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Cj(e,t)}(this._delegate,e);return new Gj(t,this.storage)}get root(){return new Gj(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Gj(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Bj(Mj(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PF.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=DF(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Bj(new wj(this._delegate,new jF(r.data,!0),i),this)}listAll(){return function(e){return Tj(e=Js(e))}(this._delegate).then((e=>new qj(e,this.storage)))}list(e){return function(e,t){return Sj(e=Js(e),t)}(this._delegate,e||void 0).then((e=>new qj(e,this.storage)))}getMetadata(){return Fj(this._delegate)}updateMetadata(e){return function(e,t){return kj(e=Js(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return Ij(e=Js(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return xj(e=Js(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw mF(e)}}class Kj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Hj(e))throw fF("ref() expected a child path but got a URL, use refFromURL instead.");return new Gj(jj(this._delegate,e),this)}refFromURL(e){if(!Hj(e))throw fF("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yF.makeFromUrl(e,this._delegate.host)}catch(OW){throw fF("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gj(jj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Uj(this._delegate,e,t,n)}}function Hj(e){return/^[A-Za-z]+:\/\//.test(e)}function Wj(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Kj(r,i)}!function(e){const t={TaskState:dj,TaskEvent:hj,StringFormat:PF,Storage:Kj,Reference:Gj};e.INTERNAL.registerComponent(new Zs("storage-compat",Wj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.6")}(Bc);const Qj=function(){const e=te(),[t,n]=o.useState(""),[r,i]=o.useState(""),[s,a]=o.useState([]),[c,l]=o.useState(""),[u,h]=o.useState(null),[d,f]=o.useState(!1);o.useEffect((()=>{Bc.firestore().collection("topic").get().then((e=>{const t=e.docs.map((e=>e.data()));a(t),console.log(t)}))}),[]);const p=Array.isArray(s)?s.map((e=>({text:e.name,value:e.name}))):[],m=u?URL.createObjectURL(u):"https://react.semantic-ui.com/images/wireframe/image.png";return(0,DN.jsxs)(lR,{children:[(0,DN.jsx)(LN,{}),(0,DN.jsx)(nF,{children:"\u767c\u8868\u6587\u7ae0"}),(0,DN.jsxs)(pL,{onSubmit:function(){f(!0);const n=Bc.firestore().collection("posts").doc(),i=Bc.storage().ref("/post-Images/".concat(n.id)),o={contentType:u.type};Bc.auth().currentUser?i.put(u,o).then((()=>{i.getDownloadURL().then((i=>{n.set({title:t,content:r,topic:c,createdAt:Bc.firestore.Timestamp.now(),author:{displayName:Bc.auth().currentUser.displayName||"",photoURL:Bc.auth().currentUser.photoURL||"",uid:Bc.auth().currentUser.uid,email:Bc.auth().currentUser.email},imageUrl:i}).then((()=>{f(!1),e("/")}))}))})):(alert("\u8acb\u5148\u767b\u5165"),f(!1))},children:[(0,DN.jsx)(eR,{src:m,size:"small",floated:"left"}),(0,DN.jsx)(vR,{basic:!0,as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3\u6587\u7ae0\u5716\u7247"}),(0,DN.jsx)(pL.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>h(e.target.files[0])}),(0,DN.jsx)(pL.Input,{placeholder:"\u8f38\u5165\u6587\u7ae0\u6a19\u984c",value:t,onChange:e=>n(e.target.value)}),(0,DN.jsx)(pL.TextArea,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",value:r,onChange:e=>i(e.target.value)}),(0,DN.jsx)(pL.Dropdown,{placeholder:"\u9078\u64c7\u6587\u7ae0\u4e3b\u984c",options:p,value:c,onChange:(e,t)=>{let{value:n}=t;return l(n)},selection:!0}),(0,DN.jsx)(pL.Button,{loading:d,children:"\u9001\u51fa"})]})]})};function Yj(e){var t=e.children,n=e.className,r=e.compact,i=e.content,s=e.horizontal,a=e.piled,c=e.raised,l=e.size,u=e.stacked,h=gi("ui",l,bi(r,"compact"),bi(s,"horizontal"),bi(a,"piled"),bi(c,"raised"),bi(u,"stacked"),"segments",n),d=Ii(Yj,e),f=xi(Yj,e);return o.createElement(f,Ae({},d,{className:h}),Oi(t)?i:t)}Yj.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Yj.propTypes={};const Xj=Yj;function $j(e){var t=e.children,n=e.className,r=e.content,i=gi("inline",n),s=Ii($j,e),a=xi($j,e);return o.createElement(a,Ae({},s,{className:i}),Oi(t)?r:t)}$j.handledProps=["as","children","className","content"],$j.propTypes={};const Jj=$j;function Zj(e){var t=e.attached,n=e.basic,r=e.children,i=e.circular,s=e.className,a=e.clearing,c=e.color,l=e.compact,u=e.content,h=e.disabled,d=e.floated,f=e.inverted,p=e.loading,m=e.placeholder,g=e.padded,v=e.piled,y=e.raised,b=e.secondary,w=e.size,_=e.stacked,T=e.tertiary,E=e.textAlign,S=e.vertical,k=gi("ui",c,w,bi(n,"basic"),bi(i,"circular"),bi(a,"clearing"),bi(l,"compact"),bi(h,"disabled"),bi(f,"inverted"),bi(p,"loading"),bi(m,"placeholder"),bi(v,"piled"),bi(y,"raised"),bi(b,"secondary"),bi(_,"stacked"),bi(T,"tertiary"),bi(S,"vertical"),_i(t,"attached"),_i(g,"padded"),Ei(E),wi(d,"floated"),"segment",s),I=Ii(Zj,e),x=xi(Zj,e);return o.createElement(x,Ae({},I,{className:k}),Oi(r)?u:r)}Zj.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Zj.Group=Xj,Zj.Inline=Jj,Zj.propTypes={};const eU=Zj;function tU(e){var t=e.active,n=e.className,r=e.children,i=e.content,s=gi(bi(t,"active"),n),a=Ii(tU,e),c=xi(tU,e);return o.createElement(c,Ae({},a,{className:s}),Oi(r)?i:r)}tU.handledProps=["active","as","children","className","content"],tU.defaultProps={as:"a"},tU.propTypes={};const nU=tU;function rU(e){var t=e.className,n=e.children,r=e.content,i=gi("actions",t),s=Ii(rU,e),a=xi(rU,e);return o.createElement(a,Ae({},s,{className:i}),Oi(n)?r:n)}rU.handledProps=["as","children","className","content"],rU.propTypes={};const iU=rU;function oU(e){var t=e.className,n=e.children,r=e.content,i=gi("author",t),s=Ii(oU,e),a=xi(oU,e);return o.createElement(a,Ae({},s,{className:i}),Oi(n)?r:n)}oU.handledProps=["as","children","className","content"],oU.propTypes={};const sU=oU;function aU(e){var t=e.className,n=e.src,r=gi("avatar",t),i=Ii(aU,e),s=vP(i,{htmlProps:gP}),a=s[0],c=s[1],l=xi(aU,e);return o.createElement(l,Ae({},c,{className:r}),io(n,{autoGenerateKey:!1,defaultProps:a}))}aU.handledProps=["as","className","src"],aU.propTypes={};const cU=aU;function lU(e){var t=e.className,n=e.children,r=e.content,i=gi(t,"content"),s=Ii(lU,e),a=xi(lU,e);return o.createElement(a,Ae({},s,{className:i}),Oi(n)?r:n)}lU.handledProps=["as","children","className","content"],lU.propTypes={};const uU=lU;function hU(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,s=e.minimal,a=e.size,c=e.threaded,l=gi("ui",a,bi(r,"collapsed"),bi(s,"minimal"),bi(c,"threaded"),"comments",t),u=Ii(hU,e),h=xi(hU,e);return o.createElement(h,Ae({},u,{className:l}),Oi(n)?i:n)}hU.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],hU.propTypes={};const dU=hU;function fU(e){var t=e.className,n=e.children,r=e.content,i=gi("metadata",t),s=Ii(fU,e),a=xi(fU,e);return o.createElement(a,Ae({},s,{className:i}),Oi(n)?r:n)}fU.handledProps=["as","children","className","content"],fU.propTypes={};const pU=fU;function mU(e){var t=e.className,n=e.children,r=e.content,i=gi(t,"text"),s=Ii(mU,e),a=xi(mU,e);return o.createElement(a,Ae({},s,{className:i}),Oi(n)?r:n)}mU.handledProps=["as","children","className","content"],mU.propTypes={};const gU=mU;function vU(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,s=gi(bi(r,"collapsed"),"comment",t),a=Ii(vU,e),c=xi(vU,e);return o.createElement(c,Ae({},a,{className:s}),Oi(n)?i:n)}vU.handledProps=["as","children","className","collapsed","content"],vU.propTypes={},vU.Author=sU,vU.Action=nU,vU.Actions=iU,vU.Avatar=cU,vU.Content=uU,vU.Group=dU,vU.Metadata=pU,vU.Text=gU;const yU=vU;const bU=function(){var e,t;const{postId:n}=function(){let{matches:e}=o.useContext(X),t=e[e.length-1];return t?t.params:{}}(),[r,i]=o.useState({author:{}}),[s,a]=o.useState(""),[c,l]=o.useState(!1),[u,h]=o.useState([]);function d(e,t){if(Bc.auth().currentUser){const r=Bc.auth().currentUser.uid;Bc.firestore().collection("posts").doc(n).update({[t]:e?Bc.firestore.FieldValue.arrayRemove(r):Bc.firestore.FieldValue.arrayUnion(r)})}else alert("\u8acb\u5148\u767b\u51651")}o.useEffect((()=>{Bc.firestore().collection("posts").doc(n).onSnapshot((e=>{const t=e.data();i(t)}))}),[]),o.useEffect((()=>{Bc.firestore().collection("posts").doc(n).collection("comments").orderBy("createdAt","desc").onSnapshot((e=>{const t=e.docs.map((e=>e.data()));h(t)}))}));let f=!1,p=!1;var m,g;return Bc.auth().currentUser&&(f=null===(m=r.likeBy)||void 0===m?void 0:m.includes(Bc.auth().currentUser.uid),p=null===(g=r.collectedBy)||void 0===g?void 0:g.includes(Bc.auth().currentUser.uid)),(0,DN.jsxs)(lR,{children:[(0,DN.jsx)(LN,{}),(0,DN.jsx)(RM,{children:(0,DN.jsxs)(RM.Row,{children:[(0,DN.jsx)(RM.Column,{width:3,children:(0,DN.jsx)(aR,{})}),(0,DN.jsxs)(RM.Column,{width:10,children:[r.author.photoURL?(0,DN.jsx)(eR,{src:r.author.photoURL}):(0,DN.jsx)(ms,{name:"user circle"}),r.author.displayName||"\u4f7f\u7528\u8005",(0,DN.jsxs)(nF,{children:[r.title,(0,DN.jsxs)(nF.Subheader,{children:[r.topic,"\uff0c",null===(e=r.createdAt)||void 0===e?void 0:e.toDate().toLocaleString()]})]}),(0,DN.jsx)(eR,{src:r.imageUrl}),(0,DN.jsx)(eU,{basic:!0,vertical:!0,children:r.content}),(0,DN.jsxs)(eU,{basic:!0,vertical:!0,children:["\u7559\u8a00 ",r.commentsCount||0,"\uff0c\u8b9a ",(null===(t=r.likeBy)||void 0===t?void 0:t.length)||0,"\uff0c",(0,DN.jsx)(ms,{name:"thumbs up ".concat(f?"":"outline"),color:f?"blue":"grey",link:!0,onClick:()=>d(f,"likeBy")}),"\uff0c",(0,DN.jsx)(ms,{name:"bookmark ".concat(p?"":"outline"),color:p?"blue":"grey",link:!0,onClick:()=>d(p,"collectedBy")})]}),(0,DN.jsxs)(yU.Group,{children:[(0,DN.jsxs)(pL,{reply:!0,children:[(0,DN.jsx)(pL.TextArea,{value:s,onChange:e=>a(e.target.value)}),(0,DN.jsx)(pL.Button,{onClick:function(){l(!0);const e=Bc.firestore(),t=e.batch(),r=e.collection("posts").doc(n);t.update(r,{commentsCount:Bc.firestore.FieldValue.increment(1)});const i=r.collection("comments").doc();t.set(i,{content:s,createdAt:Bc.firestore.FieldValue.serverTimestamp(),author:{uid:RN.currentUser.uid||"Mi8HNnsda5gj5wGDr9VX2lqGS7a2",displayName:Bc.auth().currentUser.displayName||"",photoURL:Bc.auth().currentUser.photoURL||""}}),t.commit().then((()=>{a(""),l(!1)}))},loading:c,children:"\u7559\u8a00"})]}),(0,DN.jsxs)(nF,{children:["\u5171",r.commentsCount||0,"\u5247\u7559\u8a00"]}),u.map((e=>(0,DN.jsxs)(yU,{children:[e.author.photoURL?(0,DN.jsx)(yU.Avatar,{src:e.author.photoURL}):(0,DN.jsx)(ms,{name:"user circle"}),(0,DN.jsxs)(yU.Content,{children:[(0,DN.jsx)(yU.Author,{as:"span",children:e.author.displayName||"\u4f7f\u7528\u8005"}),(0,DN.jsx)(yU.Metadata,{children:e.createdAt&&"function"===typeof e.createdAt.toDate?e.createdAt.toDate().toLocaleString():"\u672a\u77e5\u6642\u9593"}),(0,DN.jsx)(yU.Text,{children:e.content})]})]},e.createdAt)))]})]}),(0,DN.jsx)(RM.Column,{width:3,children:"\u7a7a\u767d"})]})})]})};function wU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var TU,EU,SU,kU,IU,xU,CU,AU,NU,OU,PU,RU={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},DU={duration:.5,overwrite:!1,delay:0},LU=1e8,MU=1e-8,FU=2*Math.PI,jU=FU/4,UU=0,zU=Math.sqrt,VU=Math.cos,BU=Math.sin,qU=function(e){return"string"===typeof e},GU=function(e){return"function"===typeof e},KU=function(e){return"number"===typeof e},HU=function(e){return"undefined"===typeof e},WU=function(e){return"object"===typeof e},QU=function(e){return!1!==e},YU=function(){return"undefined"!==typeof window},XU=function(e){return GU(e)||qU(e)},$U="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},JU=Array.isArray,ZU=/(?:-?\.?\d|\.)+/gi,ez=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,tz=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nz=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rz=/[+-]=-?[.\d]+/,iz=/[^,'"\[\]\s]+/gi,oz=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,sz={},az={},cz=function(e){return(az=Fz(e,sz))&&jB},lz=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},uz=function(e,t){return!t&&console.warn(e)},hz=function(e,t){return e&&(sz[e]=t)&&az&&(az[e]=t)||sz},dz=function(){return 0},fz={suppressEvents:!0,isStart:!0,kill:!1},pz={suppressEvents:!0,kill:!1},mz={suppressEvents:!0},gz={},vz=[],yz={},bz={},wz={},_z=30,Tz=[],Ez="",Sz=function(e){var t,n,r=e[0];if(WU(r)||GU(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Tz.length;n--&&!Tz[n].targetTest(r););t=Tz[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new JV(e[n],t)))||e.splice(n,1);return e},kz=function(e){return e._gsap||Sz(mV(e))[0]._gsap},Iz=function(e,t,n){return(n=e[t])&&GU(n)?e[t]():HU(n)&&e.getAttribute&&e.getAttribute(t)||n},xz=function(e,t){return(e=e.split(",")).forEach(t)||e},Cz=function(e){return Math.round(1e5*e)/1e5||0},Az=function(e){return Math.round(1e7*e)/1e7||0},Nz=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Oz=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Pz=function(){var e,t,n=vz.length,r=vz.slice(0);for(yz={},vz.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Rz=function(e,t,n,r){vz.length&&!EU&&Pz(),e.render(t,n,r||EU&&t<0&&(e._initted||e._startAt)),vz.length&&!EU&&Pz()},Dz=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(iz).length<2?t:qU(e)?e.trim():e},Lz=function(e){return e},Mz=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Fz=function(e,t){for(var n in t)e[n]=t[n];return e},jz=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=WU(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Uz=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},zz=function(e){var t,n=e.parent||kU,r=e.keyframes?(t=JU(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Mz;if(QU(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Vz=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=e[r];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},Bz=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},qz=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Gz=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Kz=function(e,t,n,r){return e._startAt&&(EU?e._startAt.revert(pz):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Hz=function e(t){return!t||t._ts&&e(t.parent)},Wz=function(e){return e._repeat?Qz(e._tTime,e=e.duration()+e._rDelay)*e:0},Qz=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Yz=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Xz=function(e){return e._end=Az(e._start+(e._tDur/Math.abs(e._ts||e._rts||MU)||0))},$z=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Az(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Xz(e),n._dirty||Gz(n,e)),e},Jz=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Yz(e.rawTime(),t),(!t._dur||uV(0,t.totalDuration(),n)-t._tTime>MU)&&t.render(n,!0)),Gz(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Zz=function(e,t,n,r){return t.parent&&qz(t),t._start=Az((KU(n)?n:n||e!==kU?aV(e,n,t):e._time)+t._delay),t._end=Az(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Vz(e,t,"_first","_last",e._sort?"_start":0),rV(t)||(e._recent=t),r||Jz(e,t),e._ts<0&&$z(e,e._tTime),e},eV=function(e,t){return(sz.ScrollTrigger||lz("scrollTrigger",t))&&sz.ScrollTrigger.create(t,e)},tV=function(e,t,n,r,i){return sB(e,t,i),e._initted?!n&&e._pt&&!EU&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&NU!==UV.frame?(vz.push(e),e._lazy=[i,r],1):void 0:1},nV=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},rV=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},iV=function(e,t,n,r){var i=e._repeat,o=Az(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Az(o*(i+1)+e._rDelay*i):o,s>0&&!r&&$z(e,e._tTime=e._tDur*s),e.parent&&Xz(e),n||Gz(e.parent,e),e},oV=function(e){return e instanceof eB?Gz(e):iV(e,e._dur)},sV={_start:0,endTime:dz,totalDuration:dz},aV=function e(t,n,r){var i,o,s,a=t.labels,c=t._recent||sV,l=t.duration()>=LU?c.endTime(!1):t._dur;return qU(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?c:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=l),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(JU(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:l+o)):null==n?l:+n},cV=function(e,t,n){var r,i,o=KU(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=QU(i.vars.inherit)&&i.parent;a.immediateRender=QU(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new hB(t[0],a,t[s+1])},lV=function(e,t){return e||0===e?t(e):t},uV=function(e,t,n){return n<e?e:n>t?t:n},hV=function(e,t){return qU(e)&&(t=oz.exec(e))?t[1]:""},dV=[].slice,fV=function(e,t){return e&&WU(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&WU(e[0]))&&!e.nodeType&&e!==IU},pV=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return qU(e)&&!t||fV(e,1)?(r=n).push.apply(r,mV(e)):n.push(e)}))||n},mV=function(e,t,n){return SU&&!t&&SU.selector?SU.selector(e):!qU(e)||n||!xU&&zV()?JU(e)?pV(e,n):fV(e)?dV.call(e,0):e?[e]:[]:dV.call((t||CU).querySelectorAll(e),0)},gV=function(e){return e=mV(e)[0]||uz("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return mV(t,n.querySelectorAll?n:n===e?uz("Invalid scope")||CU.createElement("div"):e)}},vV=function(e){return e.sort((function(){return.5-Math.random()}))},yV=function(e){if(GU(e))return e;var t=WU(e)?e:{each:e},n=WV(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,c=t.axis,l=r,u=r;return qU(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(l=r[0],u=r[1]),function(e,s,h){var d,f,p,m,g,v,y,b,w,_=(h||t).length,T=o[_];if(!T){if(!(w="auto"===t.grid?0:(t.grid||[1,LU])[1])){for(y=-LU;y<(y=h[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(T=o[_]=[],d=a?Math.min(w,_)*l-.5:r%w,f=w===LU?0:a?_*u/w-.5:r/w|0,y=0,b=LU,v=0;v<_;v++)p=v%w-d,m=f-(v/w|0),T[v]=g=c?Math.abs("y"===c?m:p):zU(p*p+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&vV(T),T.max=y-b,T.min=b,T.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(w>_?_-1:c?"y"===c?_/w:w:Math.max(w,_/w))||0)*("edges"===r?-1:1),T.b=_<0?i-_:i,T.u=hV(t.amount||t.each)||0,n=n&&_<0?KV(n):n}return _=(T[e]-T.min)/T.max||0,Az(T.b+(n?n(_):_)*T.v)+T.u}},bV=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Az(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(KU(n)?0:hV(n))}},wV=function(e,t){var n,r,i=JU(e);return!i&&WU(e)&&(n=i=e.radius||LU,e.values?(e=mV(e.values),(r=!KU(e[0]))&&(n*=n)):e=bV(e.increment)),lV(t,i?GU(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),c=LU,l=0,u=e.length;u--;)(i=r?(i=e[u].x-s)*i+(o=e[u].y-a)*o:Math.abs(e[u]-s))<c&&(c=i,l=u);return l=!n||c<=n?e[l]:t,r||l===t||KU(t)?l:l+hV(t)}:bV(e))},_V=function(e,t,n,r){return lV(JU(e)?!t:!0===n?!!(n=0):!r,(function(){return JU(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},TV=function(e,t,n){return lV(n,(function(n){return e[~~t(n)]}))},EV=function(e){for(var t,n,r,i,o=0,s="";~(t=e.indexOf("random(",o));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?iz:ZU),s+=e.substr(o,t-o)+_V(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+e.substr(o,e.length-o)},SV=function(e,t,n,r,i){var o=t-e,s=r-n;return lV(i,(function(t){return n+((t-e)/o*s||0)}))},kV=function(e,t,n){var r,i,o,s=e.labels,a=LU;for(r in s)(i=s[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},IV=function(e,t,n){var r,i,o,s=e.vars,a=s[t],c=SU,l=e._ctx;if(a)return r=s[t+"Params"],i=s.callbackScope||e,n&&vz.length&&Pz(),l&&(SU=l),o=r?a.apply(i,r):a.call(i),SU=c,o},xV=function(e){return qz(e),e.scrollTrigger&&e.scrollTrigger.kill(!!EU),e.progress()<1&&IV(e,"onInterrupt"),e},CV=[],AV=function(e){if(e)if(e=!e.name&&e.default||e,YU()||e.headless){var t=e.name,n=GU(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:dz,render:wB,add:iB,kill:TB,modifier:_B,rawVars:0},o={targetTest:0,get:0,getSetter:gB,aliases:{},register:0};if(zV(),e!==r){if(bz[t])return;Mz(r,Mz(Uz(e,i),o)),Fz(r.prototype,Fz(i,Uz(e,o))),bz[r.prop=t]=r,e.targetTest&&(Tz.push(r),gz[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}hz(t,r),e.register&&e.register(jB,r,kB)}else CV.push(e)},NV=255,OV={aqua:[0,NV,NV],lime:[0,NV,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,NV],navy:[0,0,128],white:[NV,NV,NV],olive:[128,128,0],yellow:[NV,NV,0],orange:[NV,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[NV,0,0],pink:[NV,192,203],cyan:[0,NV,NV],transparent:[NV,NV,NV,0]},PV=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*NV+.5|0},RV=function(e,t,n){var r,i,o,s,a,c,l,u,h,d,f=e?KU(e)?[e>>16,e>>8&NV,e&NV]:0:OV.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),OV[e])f=OV[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&NV,f&NV,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&NV,e&NV]}else if("hsl"===e.substr(0,3))if(f=d=e.match(ZU),t){if(~e.indexOf("="))return f=e.match(ez),n&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,a=+f[1]/100,r=2*(c=+f[2]/100)-(i=c<=.5?c*(a+1):c+a-c*a),f.length>3&&(f[3]*=1),f[0]=PV(s+1/3,r,i),f[1]=PV(s,r,i),f[2]=PV(s-1/3,r,i);else f=e.match(ZU)||OV.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/NV,i=f[1]/NV,o=f[2]/NV,c=((l=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,l===u?s=a=0:(h=l-u,a=c>.5?h/(2-l-u):h/(l+u),s=l===r?(i-o)/h+(i<o?6:0):l===i?(o-r)/h+2:(r-i)/h+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*a+.5),f[2]=~~(100*c+.5)),n&&f.length<4&&(f[3]=1),f},DV=function(e){var t=[],n=[],r=-1;return e.split(MV).forEach((function(e){var i=e.match(tz)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},LV=function(e,t,n){var r,i,o,s,a="",c=(e+a).match(MV),l=t?"hsla(":"rgba(",u=0;if(!c)return e;if(c=c.map((function(e){return(e=RV(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=DV(e),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(MV,"1").split(tz)).length-1;u<s;u++)a+=i[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(o.length?o:c.length?c:n).shift());if(!i)for(s=(i=e.split(MV)).length-1;u<s;u++)a+=i[u]+c[u];return a+i[s]},MV=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in OV)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),FV=/hsl[a]?\(/,jV=function(e){var t,n=e.join(" ");if(MV.lastIndex=0,MV.test(n))return t=FV.test(n),e[1]=LV(e[1],t),e[0]=LV(e[0],t,DV(e[1])),!0},UV=function(){var e,t,n,r,i,o,s=Date.now,a=500,c=33,l=s(),u=l,h=1e3/240,d=h,f=[],p=function n(p){var m,g,v,y,b=s()-u,w=!0===p;if((b>a||b<0)&&(l+=b-c),((m=(v=(u+=b)-l)-d)>0||w)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=m+(m>=h?4:h-m),g=1),w||(e=t(n)),g)for(o=0;o<f.length;o++)f[o](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){AU&&(!xU&&YU()&&(IU=xU=window,CU=IU.document||{},sz.gsap=jB,(IU.gsapVersions||(IU.gsapVersions=[])).push(jB.version),cz(az||IU.GreenSockGlobals||!IU.gsap&&IU||{}),CV.forEach(AV)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},PU=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),PU=0,t=dz},lagSmoothing:function(e,t){a=e||1/0,c=Math.min(t||33,a)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,o,s){e(t,n,o,s),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),zV(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&o>=t&&o--},_listeners:f},r}(),zV=function(){return!PU&&UV.wake()},VV={},BV=/^[\d.\-M][\d.\-,\s]/,qV=/["']/g,GV=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,c=o.length;a<c;a++)n=o[a],t=a!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace(qV,"").trim():+r,s=n.substr(t+1).trim();return i},KV=function(e){return function(t){return 1-e(1-t)}},HV=function e(t,n){for(var r,i=t._first;i;)i instanceof eB?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},WV=function(e,t){return e&&(GU(e)?e:VV[e]||function(e){var t=(e+"").split("("),n=VV[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[GV(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(Dz)):VV._CE&&BV.test(e)?VV._CE("",e):n}(e))||t},QV=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return xz(e,(function(e){for(var t in VV[e]=sz[e]=o,VV[i=e.toLowerCase()]=n,o)VV[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=VV[e+"."+t]=o[t]})),o},YV=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},XV=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/FU*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*BU((e-s)*o)+1},c="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:YV(a);return o=FU/o,c.config=function(n,r){return e(t,n,r)},c},$V=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:YV(r);return i.config=function(n){return e(t,n)},i};xz("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;QV(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),VV.Linear.easeNone=VV.none=VV.Linear.easeIn,QV("Elastic",XV("in"),XV("out"),XV()),function(e,t){var n=1/t,r=2*n,i=2.5*n,o=function(o){return o<n?e*o*o:o<r?e*Math.pow(o-1.5/t,2)+.75:o<i?e*(o-=2.25/t)*o+.9375:e*Math.pow(o-2.625/t,2)+.984375};QV("Bounce",(function(e){return 1-o(1-e)}),o)}(7.5625,2.75),QV("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),QV("Circ",(function(e){return-(zU(1-e*e)-1)})),QV("Sine",(function(e){return 1===e?1:1-VU(e*jU)})),QV("Back",$V("in"),$V("out"),$V()),VV.SteppedEase=VV.steps=sz.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*uV(0,.99999999,e)|0)+i)*n}}},DU.ease=VV["quad.out"],xz("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Ez+=e+","+e+"Params,"}));var JV=function(e,t){this.id=UU++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Iz,this.set=t?t.getSetter:gB},ZV=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,iV(this,+e.duration,1,1),this.data=e.data,SU&&(this._ctx=SU,SU.data.push(this)),PU||UV.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,iV(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(zV(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for($z(this,e),!n._dp||n.parent||Jz(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Zz(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===MU||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Rz(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Wz(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Wz(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Qz(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Yz(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(uV(-Math.abs(this._delay),this._tDur,n),!1!==t),Xz(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(zV(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==MU&&(this._tTime-=MU)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Zz(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(QU(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Yz(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=mz);var t=EU;return EU=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),EU=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,oV(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,oV(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(aV(this,e),QU(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,QU(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-MU))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=GU(e)?e:Lz,i=function(){var e=t.then;t.then=null,GU(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){xV(this)},e}();Mz(ZV.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var eB=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=QU(t.sortChildren),kU&&Zz(t.parent||kU,wU(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&eV(wU(r),t.scrollTrigger),r}_U(t,e);var n=t.prototype;return n.to=function(e,t,n){return cV(0,arguments,this),this},n.from=function(e,t,n){return cV(1,arguments,this),this},n.fromTo=function(e,t,n,r){return cV(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,zz(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new hB(e,t,aV(this,n),1),this},n.call=function(e,t,n){return Zz(this,hB.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new hB(e,n,aV(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,s){return n.runBackwards=1,zz(n).immediateRender=QU(n.immediateRender),this.staggerTo(e,t,n,r,i,o,s)},n.staggerFromTo=function(e,t,n,r,i,o,s,a){return r.startAt=n,zz(r).immediateRender=QU(r.immediateRender),this.staggerTo(e,t,r,i,o,s,a)},n.render=function(e,t,n){var r,i,o,s,a,c,l,u,h,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Az(e),b=this._zTime<0!==e<0&&(this._initted||!v);if(this!==kU&&y>g&&e>=0&&(y=g),y!==this._tTime||n||b){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,c=!(u=this._ts),b&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=Az(y%a),y===g?(s=this._repeat,r=v):((s=~~(y/a))&&s===y/a&&(r=v,s--),r>v&&(r=v)),d=Qz(this._tTime,a),!m&&this._tTime&&d!==s&&this._tTime-d*a-this._dur<=0&&(d=s),f&&1&s&&(r=v-r,p=1),s!==d&&!this._lock){var w=f&&1&d,_=w===(f&&1&s);if(s<d&&(w=!w),m=w?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Az(s*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&IV(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,_&&(this._lock=2,m=w?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;HV(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Az(m),Az(r)),l&&(y-=r-(r=l._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&!s&&(IV(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var T=e<0?e:r;i;){if(o=i._prev,(i._act||T<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,t,n||EU&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){l=0,o&&(y+=this._zTime=T?-1e-8:MU);break}}i=o}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,Xz(this),this.render(e,t,n);this._onUpdate&&!t&&IV(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&qz(this,1),t||e<0&&!m||!y&&!m&&g||(IV(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(KU(t)||(t=aV(this,t,e)),!(e instanceof ZV)){if(JU(e))return e.forEach((function(e){return n.add(e,t)})),this;if(qU(e))return this.addLabel(e,t);if(!GU(e))return this;e=hB.delayedCall(0,e)}return this!==e?Zz(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-LU);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof hB?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return qU(e)?this.removeLabel(e):GU(e)?this.killTweensOf(e):(Bz(this,e),e===this._recent&&(this._recent=this._last),Gz(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Az(UV.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=aV(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=hB.delayedCall(0,t||dz,n);return r.data="isPause",this._hasPause=1,Zz(this,r,aV(this,e))},n.removePause=function(e){var t=this._first;for(e=aV(this,e);t;)t._start===e&&"isPause"===t.data&&qz(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)tB!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=mV(e),o=this._first,s=KU(t);o;)o instanceof hB?Oz(o._targets,i)&&(s?(!tB||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=aV(r,e),o=t,s=o.startAt,a=o.onStart,c=o.onStartParams,l=o.immediateRender,u=hB.to(r,Mz({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||MU,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==e&&iV(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,c||[])}},t));return l?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Mz({startAt:{time:aV(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),kV(this,aV(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),kV(this,aV(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+MU)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Gz(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Gz(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,s=o._last,a=LU;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,Zz(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;iV(o,o===kU&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(kU._ts&&(Rz(kU,Yz(e,kU)),NU=UV.frame),UV.frame>=_z){_z+=RU.autoSleep||120;var t=kU._first;if((!t||!t._ts)&&RU.autoSleep&&UV._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||UV.sleep()}}},t}(ZV);Mz(eB.prototype,{_lock:0,_hasPause:0,_forcing:0});var tB,nB,rB=function(e,t,n,r,i,o,s){var a,c,l,u,h,d,f,p,m=new kB(this._pt,e,t,0,1,bB,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=EV(r)),o&&(o(p=[n,r],e,t),n=p[0],r=p[1]),c=n.match(nz)||[];a=nz.exec(r);)u=a[0],h=r.substring(g,a.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),u!==c[v++]&&(d=parseFloat(c[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?Nz(d,u)-d:parseFloat(u)-d,m:l&&l<4?Math.round:0},g=nz.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(rz.test(r)||f)&&(m.e=0),this._pt=m,m},iB=function(e,t,n,r,i,o,s,a,c,l){GU(r)&&(r=r(i||0,e,o));var u,h=e[t],d="get"!==n?n:GU(h)?c?e[t.indexOf("set")||!GU(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,f=GU(h)?c?pB:fB:dB;if(qU(r)&&(~r.indexOf("random(")&&(r=EV(r)),"="===r.charAt(1)&&((u=Nz(d,r)+(hV(d)||0))||0===u)&&(r=u)),!l||d!==r||nB)return isNaN(d*r)||""===r?(!h&&!(t in e)&&lz(t,r),rB.call(this,e,t,d,r,f,a||RU.stringFilter,c)):(u=new kB(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?yB:vB,0,f),c&&(u.fp=c),s&&u.modifier(s,this,e),this._pt=u)},oB=function(e,t,n,r,i,o){var s,a,c,l;if(bz[e]&&!1!==(s=new bz[e]).init(i,s.rawVars?t[e]:function(e,t,n,r,i){if(GU(e)&&(e=cB(e,i,t,n,r)),!WU(e)||e.style&&e.nodeType||JU(e)||$U(e))return qU(e)?cB(e,i,t,n,r):e;var o,s={};for(o in e)s[o]=cB(e[o],i,t,n,r);return s}(t[e],r,i,o,n),n,r,o)&&(n._pt=a=new kB(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==OU))for(c=n._ptLookup[n._targets.indexOf(i)],l=s._props.length;l--;)c[s._props[l]]=a;return s},sB=function e(t,n,r){var i,o,s,a,c,l,u,h,d,f,p,m,g,v=t.vars,y=v.ease,b=v.startAt,w=v.immediateRender,_=v.lazy,T=v.onUpdate,E=v.runBackwards,S=v.yoyoEase,k=v.keyframes,I=v.autoRevert,x=t._dur,C=t._startAt,A=t._targets,N=t.parent,O=N&&"nested"===N.data?N.vars.targets:A,P="auto"===t._overwrite&&!TU,R=t.timeline;if(R&&(!k||!y)&&(y="none"),t._ease=WV(y,DU.ease),t._yEase=S?KV(WV(!0===S?y:S,DU.ease)):0,S&&t._yoyo&&!t._repeat&&(S=t._yEase,t._yEase=t._ease,t._ease=S),t._from=!R&&!!v.runBackwards,!R||k&&!v.stagger){if(m=(h=A[0]?kz(A[0]).harness:0)&&v[h.prop],i=Uz(v,gz),C&&(C._zTime<0&&C.progress(1),n<0&&E&&w&&!I?C.render(-1,!0):C.revert(E&&x?pz:fz),C._lazy=0),b){if(qz(t._startAt=hB.set(A,Mz({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!C&&QU(_),startAt:null,delay:0,onUpdate:T&&function(){return IV(t,"onUpdate")},stagger:0},b))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(EU||!w&&!I)&&t._startAt.revert(pz),w&&x&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(E&&x&&!C)if(n&&(w=!1),s=Mz({overwrite:!1,data:"isFromStart",lazy:w&&!C&&QU(_),immediateRender:w,stagger:0,parent:N},i),m&&(s[h.prop]=m),qz(t._startAt=hB.set(A,s)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(EU?t._startAt.revert(pz):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,MU,MU);for(t._pt=t._ptCache=0,_=x&&QU(_)||_&&!x,o=0;o<A.length;o++){if(u=(c=A[o])._gsap||Sz(A)[o]._gsap,t._ptLookup[o]=f={},yz[u.id]&&vz.length&&Pz(),p=O===A?o:O.indexOf(c),h&&!1!==(d=new h).init(c,m||i,t,p,O)&&(t._pt=a=new kB(t._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=a})),d.priority&&(l=1)),!h||m)for(s in i)bz[s]&&(d=oB(s,i,t,p,c,O))?d.priority&&(l=1):f[s]=a=iB.call(t,c,s,"get",i[s],p,O,0,v.stringFilter);t._op&&t._op[o]&&t.kill(c,t._op[o]),P&&t._pt&&(tB=t,kU.killTweensOf(c,f,t.globalTime(n)),g=!t.parent,tB=0),t._pt&&_&&(yz[u.id]=1)}l&&SB(t),t._onInit&&t._onInit(t)}t._onUpdate=T,t._initted=(!t._op||t._pt)&&!g,k&&n<=0&&R.render(LU,!0,!0)},aB=function(e,t,n,r){var i,o,s=t.ease||r||"power1.inOut";if(JU(t))o=n[e]||(n[e]=[]),t.forEach((function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:s})}));else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},cB=function(e,t,n,r,i){return GU(e)?e.call(t,n,r,i):qU(e)&&~e.indexOf("random(")?EV(e):e},lB=Ez+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uB={};xz(lB+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return uB[e]=1}));var hB=function(e){function t(t,n,r,i){var o;"number"===typeof n&&(r.duration=n,n=r,r=null);var s,a,c,l,u,h,d,f,p=(o=e.call(this,i?n:zz(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,b=p.overwrite,w=p.keyframes,_=p.defaults,T=p.scrollTrigger,E=p.yoyoEase,S=n.parent||kU,k=(JU(t)||$U(t)?KU(t[0]):"length"in n)?[t]:mV(t);if(o._targets=k.length?Sz(k):uz("GSAP target "+t+" not found. https://gsap.com",!RU.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,w||y||XU(m)||XU(g)){if(n=o.vars,(s=o.timeline=new eB({data:"nested",defaults:_||{},targets:S&&"nested"===S.data?S.vars.targets:k})).kill(),s.parent=s._dp=wU(o),s._start=0,y||XU(m)||XU(g)){if(l=k.length,d=y&&yV(y),WU(y))for(u in y)~lB.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(a=0;a<l;a++)(c=Uz(n,uB)).stagger=0,E&&(c.yoyoEase=E),f&&Fz(c,f),h=k[a],c.duration=+cB(m,wU(o),a,h,k),c.delay=(+cB(g,wU(o),a,h,k)||0)-o._delay,!y&&1===l&&c.delay&&(o._delay=g=c.delay,o._start+=g,c.delay=0),s.to(h,c,d?d(a,h,k):0),s._ease=VV.none;s.duration()?m=g=0:o.timeline=0}else if(w){zz(Mz(s.vars.defaults,{ease:"none"})),s._ease=WV(w.ease||n.ease||"none");var I,x,C,A=0;if(JU(w))w.forEach((function(e){return s.to(k,e,">")})),s.duration();else{for(u in c={},w)"ease"===u||"easeEach"===u||aB(u,w[u],c,w.easeEach);for(u in c)for(I=c[u].sort((function(e,t){return e.t-t.t})),A=0,a=0;a<I.length;a++)(C={ease:(x=I[a]).e,duration:(x.t-(a?I[a-1].t:0))/100*m})[u]=x.v,s.to(k,C,A),A+=C.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==b||TU||(tB=wU(o),kU.killTweensOf(k),tB=0),Zz(S,wU(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(v||!m&&!w&&o._start===Az(S._time)&&QU(v)&&Hz(wU(o))&&"nested"!==S.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),T&&eV(wU(o),T),o}_U(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,a,c,l,u,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-MU&&!m?f:e<MU?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=g,u=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=Az(g%s),g===f?(o=this._repeat,r=p):((o=~~(g/s))&&o===Az(g/s)&&(r=p,o--),r>p&&(r=p)),(c=this._yoyo&&1&o)&&(h=this._yEase,r=p-r),a=Qz(this._tTime,s),r===d&&!n&&this._initted&&o===a)return this._tTime=g,this;o!==a&&(u&&this._yEase&&HV(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==s&&this._initted&&(this._lock=n=1,this.render(Az(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(tV(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||o===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(h||this._ease)(r/p),this._from&&(this.ratio=l=1-l),r&&!d&&!t&&!o&&(IV(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Kz(this,e,0,n),IV(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&IV(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Kz(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&qz(this,1),t||m&&!d||!(g||d||c)||(IV(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,s,a=e.ratio,c=t<0||!t&&(!e._start&&nV(e)&&(e._initted||!rV(e))||(e._ts<0||e._dp._ts<0)&&!rV(e))?0:1,l=e._rDelay,u=0;if(l&&e._repeat&&(u=uV(0,e._tDur,t),o=Qz(u,l),e._yoyo&&1&o&&(c=1-c),o!==Qz(e._tTime,l)&&(a=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==a||EU||r||e._zTime===MU||!t&&e._zTime){if(!e._initted&&tV(e,t,r,n,u))return;for(s=e._zTime,e._zTime=t||(n?MU:0),n||(n=t&&!s),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=u,i=e._pt;i;)i.r(c,i.d),i=i._next;t<0&&Kz(e,t,0,!0),e._onUpdate&&!n&&IV(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&IV(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&qz(e,1),n||EU||(IV(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){PU||UV.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||sB(this,o),function(e,t,n,r,i,o,s,a){var c,l,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((c=u[h][t])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return nB=1,e.vars[t]="+=0",sB(e,s),nB=0,a?uz(t+" not eligible for reset"):1;d.push(c)}for(h=d.length;h--;)(c=(l=d[h])._pt||l).s=!r&&0!==r||i?c.s+(r||0)+o*c.c:r,c.c=n-c.s,l.e&&(l.e=Cz(n)+hV(l.e)),l.b&&(l.b=c.s+hV(l.b))}(this,e,t,n,r,this._ease(o/this._dur),o,i)?this.resetTo(e,t,n,r,1):($z(this,0),this.parent||Vz(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?xV(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,tB&&!0!==tB.vars.overwrite)._first||xV(this),this.parent&&n!==this.timeline.totalDuration()&&iV(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,c,l,u=this._targets,h=e?mV(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),xV(this);for(r=this._op=this._op||[],"all"!==t&&(qU(t)&&(a={},xz(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var n,r,i,o,s=e[0]?kz(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(r in n=Fz({},t),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,t)),l=u.length;l--;)if(~h.indexOf(u[l]))for(a in i=d[l],"all"===t?(r[l]=t,s=i,o={}):(o=r[l]=r[l]||{},s=t),s)(c=i&&i[a])&&("kill"in c.d&&!0!==c.d.kill(a)||Bz(this,c,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&f&&xV(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return cV(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return cV(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return kU.killTweensOf(e,t,n)},t}(ZV);Mz(hB.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),xz("staggerTo,staggerFrom,staggerFromTo",(function(e){hB[e]=function(){var t=new eB,n=dV.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var dB=function(e,t,n){return e[t]=n},fB=function(e,t,n){return e[t](n)},pB=function(e,t,n,r){return e[t](r.fp,n)},mB=function(e,t,n){return e.setAttribute(t,n)},gB=function(e,t){return GU(e[t])?fB:HU(e[t])&&e.setAttribute?mB:dB},vB=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},yB=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},bB=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},wB=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},_B=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},TB=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Bz(this,r,"_pt"):r.dep||(t=1),r=n;return!t},EB=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},SB=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},kB=function(){function e(e,t,n,r,i,o,s,a,c){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||vB,this.d=s||this,this.set=a||dB,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=EB,this.m=e,this.mt=n,this.tween=t},e}();xz(Ez+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return gz[e]=1})),sz.TweenMax=sz.TweenLite=hB,sz.TimelineLite=sz.TimelineMax=eB,kU=new eB({sortChildren:!1,defaults:DU,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),RU.stringFilter=jV;var IB=[],xB={},CB=[],AB=0,NB=0,OB=function(e){return(xB[e]||CB).map((function(e){return e()}))},PB=function(){var e=Date.now(),t=[];e-AB>2&&(OB("matchMediaInit"),IB.forEach((function(e){var n,r,i,o,s=e.queries,a=e.conditions;for(r in s)(n=IU.matchMedia(s[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(e.revert(),i&&t.push(e))})),OB("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),AB=e,OB("matchMedia"))},RB=function(){function e(e,t){this.selector=t&&gV(t),this.data=[],this._r=[],this.isReverted=!1,this.id=NB++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){GU(e)&&(n=t,t=e,e=GU);var r=this,i=function(){var e,i=SU,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=gV(n)),SU=r,e=t.apply(r,arguments),GU(e)&&r._r.push(e),SU=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===GU?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=SU;SU=null,e(this),SU=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof hB&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof eB?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof hB)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=IB.length;r--;)IB[r].id===this.id&&IB.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),DB=function(){function e(e){this.contexts=[],this.scope=e,SU&&SU.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){WU(e)||(e={matches:e});var r,i,o,s=new RB(0,n||this.scope),a=s.conditions={};for(i in SU&&!s.selector&&(s.selector=SU.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(r=IU.matchMedia(e[i]))&&(IB.indexOf(s)<0&&IB.push(s),(a[i]=r.matches)&&(o=1),r.addListener?r.addListener(PB):r.addEventListener("change",PB));return o&&t(s,(function(e){return s.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),LB={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return AV(e)}))},timeline:function(e){return new eB(e)},getTweensOf:function(e,t){return kU.getTweensOf(e,t)},getProperty:function(e,t,n,r){qU(e)&&(e=mV(e)[0]);var i=kz(e||{}).get,o=n?Lz:Dz;return"native"===n&&(n=""),e?t?o((bz[t]&&bz[t].get||i)(e,t,n,r)):function(t,n,r){return o((bz[t]&&bz[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=mV(e)).length>1){var r=e.map((function(e){return jB.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=bz[t],s=kz(e),a=s.harness&&(s.harness.aliases||{})[t]||t,c=o?function(t){var r=new o;OU._pt=0,r.init(e,n?t+n:t,OU,0,[e]),r.render(1,r),OU._pt&&wB(1,OU)}:s.set(e,a);return o?c:function(t){return c(e,a,n?t+n:t,s,1)}},quickTo:function(e,t,n){var r,i=jB.to(e,Fz(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return kU.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=WV(e.ease,DU.ease)),jz(DU,e||{})},config:function(e){return jz(RU,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!bz[e]&&!sz[e]&&uz(t+" effect requires "+e+" plugin.")})),wz[t]=function(e,t,r){return n(mV(e),Mz(t||{},i),r)},o&&(eB.prototype[t]=function(e,n,r){return this.add(wz[t](e,WU(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){VV[e]=WV(t)},parseEase:function(e,t){return arguments.length?WV(e,t):VV},getById:function(e){return kU.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new eB(e);for(i.smoothChildTiming=QU(e.smoothChildTiming),kU.remove(i),i._dp=0,i._time=i._tTime=kU._time,n=kU._first;n;)r=n._next,!t&&!n._dur&&n instanceof hB&&n.vars.onComplete===n._targets[0]||Zz(i,n,n._start-n._delay),n=r;return Zz(kU,i,0),i},context:function(e,t){return e?new RB(e,t):SU},matchMedia:function(e){return new DB(e)},matchMediaRefresh:function(){return IB.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||PB()},addEventListener:function(e,t){var n=xB[e]||(xB[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=xB[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return JU(t)?TV(t,e(0,t.length),n):lV(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return JU(t)?TV(t,e(0,t.length-1),n):lV(r,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},distribute:yV,random:_V,snap:wV,normalize:function(e,t,n){return SV(e,t,0,1,n)},getUnit:hV,clamp:function(e,t,n){return lV(n,(function(n){return uV(e,t,n)}))},splitColor:RV,toArray:mV,selector:gV,mapRange:SV,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||hV(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,c,l,u,h=qU(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(JU(t)&&!JU(n)){for(c=[],l=t.length,u=l-2,a=1;a<l;a++)c.push(e(t[a-1],t[a]));l--,o=function(e){e*=l;var t=Math.min(u,~~e);return c[t](e-t)},r=n}else i||(t=Fz(JU(t)?[]:{},t));if(!c){for(s in n)iB.call(d,t,s,"get",n[s]);o=function(e){return wB(e,d)||(h?t.p:t)}}}return lV(r,o)},shuffle:vV},install:cz,effects:wz,ticker:UV,updateRoot:eB.updateRoot,plugins:bz,globalTimeline:kU,core:{PropTween:kB,globals:hz,Tween:hB,Timeline:eB,Animation:ZV,getCache:kz,_removeLinkedListItem:Bz,reverting:function(){return EU},context:function(e){return e&&SU&&(SU.data.push(e),e._ctx=SU),SU},suppressOverwrites:function(e){return TU=e}}};xz("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return LB[e]=hB[e]})),UV.add(eB.updateRoot),OU=LB.to({},{duration:0});var MB=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},FB=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(qU(n)&&(r={},xz(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=MB(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},jB=LB.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,s,a;for(o in this.tween=n,t)a=e.getAttribute(o)||"",(s=this.add(e,"setAttribute",(a||0)+"",t[o],r,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)EU?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},FB("roundProps",bV),FB("modifiers"),FB("snap",wV))||LB;hB.version=eB.version=jB.version="3.12.5",AU=1,YU()&&zV();VV.Power0,VV.Power1,VV.Power2,VV.Power3,VV.Power4,VV.Linear,VV.Quad,VV.Cubic,VV.Quart,VV.Quint,VV.Strong,VV.Elastic,VV.Back,VV.SteppedEase,VV.Bounce,VV.Sine;var UB,zB,VB,BB,qB,GB,KB,HB,WB=VV.Expo,QB=(VV.Circ,{}),YB=180/Math.PI,XB=Math.PI/180,$B=Math.atan2,JB=/([A-Z])/g,ZB=/(left|right|width|margin|padding|x)/i,eq=/[\s,\(]\S/,tq={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nq=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},rq=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},iq=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},oq=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},sq=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},aq=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},cq=function(e,t,n){return e.style[t]=n},lq=function(e,t,n){return e.style.setProperty(t,n)},uq=function(e,t,n){return e._gsap[t]=n},hq=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},dq=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},fq=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},pq="transform",mq=pq+"Origin",gq=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in QB&&o){if(this.tfm=this.tfm||{},"transform"===t)return tq.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=tq[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Dq(i,e)})):this.tfm[t]=s.x?s[t]:Dq(i,t),t===mq&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(pq)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(mq,n,"")),t=pq}(o||n)&&this.props.push(t,n,o[t])},vq=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yq=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(JB,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=KB())&&e.isStart||i[pq]||(vq(i),o.zOrigin&&i[mq]&&(i[mq]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},bq=function(e,t){var n={target:e,props:[],revert:yq,save:gq};return e._gsap||jB.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},wq=function(e,t){var n=zB.createElementNS?zB.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):zB.createElement(e);return n&&n.style?n:zB.createElement(e)},_q=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(JB,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Eq(n)||n,1)||""},Tq="O,Moz,ms,Ms,Webkit".split(","),Eq=function(e,t,n){var r=(t||qB).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Tq[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Tq[i]:"")+e},Sq=function(){"undefined"!==typeof window&&window.document&&(UB=window,zB=UB.document,VB=zB.documentElement,qB=wq("div")||{style:{}},wq("div"),pq=Eq(pq),mq=pq+"Origin",qB.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",HB=!!Eq("perspective"),KB=jB.core.reverting,BB=1)},kq=function e(t){var n,r=wq("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(VB.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(OW){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),VB.removeChild(r),this.style.cssText=s,n},Iq=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},xq=function(e){var t;try{t=e.getBBox()}catch(n){t=kq.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===kq||(t=kq.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Iq(e,["x","cx","x1"])||0,y:+Iq(e,["y","cy","y1"])||0,width:0,height:0}},Cq=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!xq(e))},Aq=function(e,t){if(t){var n,r=e.style;t in QB&&t!==mq&&(t=pq),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(JB,"-$1").toLowerCase())):r.removeAttribute(t)}},Nq=function(e,t,n,r,i,o){var s=new kB(e._pt,t,n,0,1,o?aq:sq);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},Oq={deg:1,rad:1,turn:1},Pq={grid:1,flex:1},Rq=function e(t,n,r,i){var o,s,a,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",h=qB.style,d=ZB.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!l||Oq[i]||Oq[u])return l;if("px"!==u&&!g&&(l=e(t,n,r,"px")),c=t.getCTM&&Cq(t),(v||"%"===u)&&(QB[n]||~n.indexOf("adius")))return o=c?t.getBBox()[d?"width":"height"]:t[p],Cz(v?l/o*m:l/100*o);if(h[d?"width":"height"]=m+(g?u:i),s=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,c&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==zB&&s.appendChild||(s=zB.body),(a=s._gsap)&&v&&a.width&&d&&a.time===UV.time&&!a.uncache)return Cz(l/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!Pq[_q(s,"display")]&&(h.position=_q(t,"position")),s===t&&(h.position="static"),s.appendChild(qB),o=qB[p],s.removeChild(qB),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,o=t[p],y?t.style[n]=y:Aq(t,n)}return d&&v&&((a=kz(s)).time=UV.time,a.width=s[p]),Cz(g?o*l/m:o&&l?m/o*l:0)},Dq=function(e,t,n,r){var i;return BB||Sq(),t in tq&&"transform"!==t&&~(t=tq[t]).indexOf(",")&&(t=t.split(",")[0]),QB[t]&&"transform"!==t?(i=Hq(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Wq(_q(e,mq))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Uq[t]&&Uq[t](e,t,n)||_q(e,t)||Iz(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Rq(e,t,i,n)+n:i},Lq=function(e,t,n,r){if(!n||"none"===n){var i=Eq(t,e,1),o=i&&_q(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=_q(e,"borderTopColor"))}var s,a,c,l,u,h,d,f,p,m,g,v=new kB(this._pt,e.style,t,0,1,bB),y=0,b=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(h=e.style[t],e.style[t]=r,r=_q(e,t)||r,h?e.style[t]=h:Aq(e,t)),jV(s=[n,r]),r=s[1],c=(n=s[0]).match(tz)||[],(r.match(tz)||[]).length){for(;a=tz.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=c[b++]||"")&&(l=parseFloat(h)||0,g=h.substr((l+"").length),"="===d.charAt(1)&&(d=Nz(l,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=tz.lastIndex-m.length,m||(m=m||RU.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(l=Rq(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:l,c:f-l,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?aq:sq;return rz.test(r)&&(v.e=0),this._pt=v,v},Mq={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fq=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Mq[n]||n,t[1]=Mq[r]||r,t.join(" ")},jq=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,s=o.style,a=t.u,c=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],QB[n]&&(r=1,n="transformOrigin"===n?mq:pq),Aq(o,n);r&&(Aq(o,pq),c&&(c.svg&&o.removeAttribute("transform"),Hq(o,1),c.uncache=1,vq(s)))}},Uq={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new kB(e._pt,t,n,0,0,jq);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},zq=[1,0,0,1,0,0],Vq={},Bq=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},qq=function(e){var t=_q(e,pq);return Bq(t)?zq:t.substr(7).match(ez).map(Cz)},Gq=function(e,t){var n,r,i,o,s=e._gsap||kz(e),a=e.style,c=qq(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?zq:c:(c!==zq||e.offsetParent||e===VB||s.svg||(i=a.display,a.display="block",(n=e.parentNode)&&e.offsetParent||(o=1,r=e.nextElementSibling,VB.appendChild(e)),c=qq(e),i?a.display=i:Aq(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):VB.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Kq=function(e,t,n,r,i,o){var s,a,c,l=e._gsap,u=i||Gq(e,!0),h=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],w=u[5],_=t.split(" "),T=parseFloat(_[0])||0,E=parseFloat(_[1])||0;n?u!==zq&&(a=m*y-g*v)&&(c=T*(-g/a)+E*(m/a)-(m*w-g*b)/a,T=T*(y/a)+E*(-v/a)+(v*w-y*b)/a,E=c):(T=(s=xq(e)).x+(~_[0].indexOf("%")?T/100*s.width:T),E=s.y+(~(_[1]||_[0]).indexOf("%")?E/100*s.height:E)),r||!1!==r&&l.smooth?(b=T-h,w=E-d,l.xOffset=f+(b*m+w*v)-b,l.yOffset=p+(b*g+w*y)-w):l.xOffset=l.yOffset=0,l.xOrigin=T,l.yOrigin=E,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[mq]="0px 0px",o&&(Nq(o,l,"xOrigin",h,T),Nq(o,l,"yOrigin",d,E),Nq(o,l,"xOffset",f,l.xOffset),Nq(o,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",T+" "+E)},Hq=function(e,t){var n=e._gsap||new JV(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,s,a,c,l,u,h,d,f,p,m,g,v,y,b,w,_,T,E,S,k,I,x,C,A,N,O,P,R,D,L=e.style,M=n.scaleX<0,F="px",j="deg",U=getComputedStyle(e),z=_q(e,mq)||"0";return r=i=o=c=l=u=h=d=f=0,s=a=1,n.svg=!(!e.getCTM||!Cq(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(L[pq]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[pq]?U[pq]:"")),L.scale=L.rotate=L.translate="none"),g=Gq(e,n.svg),n.svg&&(n.uncache?(x=e.getBBox(),z=n.xOrigin-x.x+"px "+(n.yOrigin-x.y)+"px",I=""):I=!t&&e.getAttribute("data-svg-origin"),Kq(e,I||z,!!I||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==zq&&(w=g[0],_=g[1],T=g[2],E=g[3],r=S=g[4],i=k=g[5],6===g.length?(s=Math.sqrt(w*w+_*_),a=Math.sqrt(E*E+T*T),c=w||_?$B(_,w)*YB:0,(h=T||E?$B(T,E)*YB+c:0)&&(a*=Math.abs(Math.cos(h*XB))),n.svg&&(r-=p-(p*w+m*T),i-=m-(p*_+m*E))):(D=g[6],P=g[7],A=g[8],N=g[9],O=g[10],R=g[11],r=g[12],i=g[13],o=g[14],l=(v=$B(D,O))*YB,v&&(I=S*(y=Math.cos(-v))+A*(b=Math.sin(-v)),x=k*y+N*b,C=D*y+O*b,A=S*-b+A*y,N=k*-b+N*y,O=D*-b+O*y,R=P*-b+R*y,S=I,k=x,D=C),u=(v=$B(-T,O))*YB,v&&(y=Math.cos(-v),R=E*(b=Math.sin(-v))+R*y,w=I=w*y-A*b,_=x=_*y-N*b,T=C=T*y-O*b),c=(v=$B(_,w))*YB,v&&(I=w*(y=Math.cos(v))+_*(b=Math.sin(v)),x=S*y+k*b,_=_*y-w*b,k=k*y-S*b,w=I,S=x),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),s=Cz(Math.sqrt(w*w+_*_+T*T)),a=Cz(Math.sqrt(k*k+D*D)),v=$B(S,k),h=Math.abs(v)>2e-4?v*YB:0,f=R?1/(R<0?-R:R):0),n.svg&&(I=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Bq(_q(e,pq)),I&&e.setAttribute("transform",I))),Math.abs(h)>90&&Math.abs(h)<270&&(M?(s*=-1,h+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=o+F,n.scaleX=Cz(s),n.scaleY=Cz(a),n.rotation=Cz(c)+j,n.rotationX=Cz(l)+j,n.rotationY=Cz(u)+j,n.skewX=h+j,n.skewY=d+j,n.transformPerspective=f+F,(n.zOrigin=parseFloat(z.split(" ")[2])||!t&&n.zOrigin||0)&&(L[mq]=Wq(z)),n.xOffset=n.yOffset=0,n.force3D=RU.force3D,n.renderTransform=n.svg?eG:HB?Zq:Yq,n.uncache=0,n},Wq=function(e){return(e=e.split(" "))[0]+" "+e[1]},Qq=function(e,t,n){var r=hV(t);return Cz(parseFloat(t)+parseFloat(Rq(e,"x",n+"px",r)))+r},Yq=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Zq(e,t)},Xq="0deg",$q="0px",Jq=") ",Zq=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",w="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==Xq||l!==Xq)){var _,T=parseFloat(l)*XB,E=Math.sin(T),S=Math.cos(T);T=parseFloat(u)*XB,_=Math.cos(T),o=Qq(v,o,E*_*-y),s=Qq(v,s,-Math.sin(T)*-y),a=Qq(v,a,S*_*-y+y)}m!==$q&&(b+="perspective("+m+Jq),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(w||o!==$q||s!==$q||a!==$q)&&(b+=a!==$q||w?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Jq),c!==Xq&&(b+="rotate("+c+Jq),l!==Xq&&(b+="rotateY("+l+Jq),u!==Xq&&(b+="rotateX("+u+Jq),h===Xq&&d===Xq||(b+="skew("+h+", "+d+Jq),1===f&&1===p||(b+="scale("+f+", "+p+Jq),v.style[pq]=b||"translate(0, 0)"},eG=function(e,t){var n,r,i,o,s,a=t||this,c=a.xPercent,l=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,w=a.xOffset,_=a.yOffset,T=a.forceCSS,E=parseFloat(u),S=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=XB,f*=XB,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-g,o=Math.cos(d-f)*g,f&&(p*=XB,s=Math.tan(f-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),n*=s=Math.sqrt(1+s*s),r*=s)),n=Cz(n),r=Cz(r),i=Cz(i),o=Cz(o)):(n=m,o=g,r=i=0),(E&&!~(u+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(E=Rq(v,"x",u,"px"),S=Rq(v,"y",h,"px")),(y||b||w||_)&&(E=Cz(E+y-(y*n+b*i)+w),S=Cz(S+b-(y*r+b*o)+_)),(c||l)&&(s=v.getBBox(),E=Cz(E+c/100*s.width),S=Cz(S+l/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+E+","+S+")",v.setAttribute("transform",s),T&&(v.style[pq]=s)},tG=function(e,t,n,r,i){var o,s,a=360,c=qU(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?YB:1)-r,u=r+l+"deg";return c&&("short"===(o=i.split("_")[1])&&(l%=a)!==l%180&&(l+=l<0?a:-360),"cw"===o&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===o&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),e._pt=s=new kB(e._pt,t,n,r,l,rq),s.e=u,s.u="deg",e._props.push(n),s},nG=function(e,t){for(var n in t)e[n]=t[n];return e},rG=function(e,t,n){var r,i,o,s,a,c,l,u=nG({},n._gsap),h=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[pq]=t,r=Hq(n,1),Aq(n,pq),n.setAttribute("transform",o)):(o=getComputedStyle(n)[pq],h[pq]=t,r=Hq(n,1),h[pq]=o),QB)(o=u[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=hV(o)!==(l=hV(s))?Rq(n,i,o,l):parseFloat(o),c=parseFloat(s),e._pt=new kB(e._pt,r,i,a,c-a,nq),e._pt.u=l||0,e._props.push(i));nG(r,u)};xz("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return t<2?e+n:"border"+n+e}));Uq[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(t){return Dq(e,t,n)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,i)}}));var iG={name:"css",register:Sq,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,a,c,l,u,h,d,f,p,m,g,v,y,b,w,_=this._props,T=e.style,E=n.vars.startAt;for(h in BB||Sq(),this.styles=this.styles||bq(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(s=t[h],!bz[h]||!oB(h,t,n,r,e,i)))if(l=typeof s,u=Uq[h],"function"===l&&(l=typeof(s=s.call(n,r,e,i))),"string"===l&&~s.indexOf("random(")&&(s=EV(s)),u)u(this,e,h,s,n)&&(b=1);else if("--"===h.substr(0,2))o=(getComputedStyle(e).getPropertyValue(h)+"").trim(),s+="",MV.lastIndex=0,MV.test(o)||(d=hV(o),f=hV(s)),f?d!==f&&(o=Rq(e,h,o,f)+f):d&&(s+=d),this.add(T,"setProperty",o,s,r,i,0,0,h),_.push(h),w.push(h,0,T[h]);else if("undefined"!==l){if(E&&h in E?(o="function"===typeof E[h]?E[h].call(n,r,e,i):E[h],qU(o)&&~o.indexOf("random(")&&(o=EV(o)),hV(o+"")||"auto"===o||(o+=RU.units[h]||hV(Dq(e,h))||""),"="===(o+"").charAt(1)&&(o=Dq(e,h))):o=Dq(e,h),c=parseFloat(o),(p="string"===l&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),h in tq&&("autoAlpha"===h&&(1===c&&"hidden"===Dq(e,"visibility")&&a&&(c=0),w.push("visibility",0,T.visibility),Nq(this,T,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=tq[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in QB)if(this.styles.save(h),g||((v=e._gsap).renderTransform&&!t.parseTransform||Hq(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new kB(this._pt,T,pq,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new kB(this._pt,v,"scaleY",v.scaleY,(p?Nz(v.scaleY,p+a):a)-v.scaleY||0,nq),this._pt.u=0,_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(mq,0,T[mq]),s=Fq(s),v.svg?Kq(e,s,0,y,0,this):((f=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&Nq(this,v,"zOrigin",v.zOrigin,f),Nq(this,T,h,Wq(o),Wq(s)));continue}if("svgOrigin"===h){Kq(e,s,1,y,0,this);continue}if(h in Vq){tG(this,v,h,c,p?Nz(c,p+s):s);continue}if("smoothOrigin"===h){Nq(this,v,"smooth",v.smooth,s);continue}if("force3D"===h){v[h]=s;continue}if("transform"===h){rG(this,s,e);continue}}else h in T||(h=Eq(h)||h);if(m||(a||0===a)&&(c||0===c)&&!eq.test(s)&&h in T)a||(a=0),(d=(o+"").substr((c+"").length))!==(f=hV(s)||(h in RU.units?RU.units[h]:d))&&(c=Rq(e,h,o,f)),this._pt=new kB(this._pt,m?v:T,h,c,(p?Nz(c,p+a):a)-c,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?nq:oq),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=o,this._pt.r=iq);else if(h in T)Lq.call(this,e,h,o,p?p+s:s);else if(h in e)this.add(e,h,o||e[h],p?p+s:s,r,i);else if("parseTransform"!==h){lz(h,s);continue}m||(h in T?w.push(h,0,T[h]):w.push(h,1,o||e[h])),_.push(h)}b&&SB(this)},render:function(e,t){if(t.tween._time||!KB())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Dq,aliases:tq,getSetter:function(e,t,n){var r=tq[t];return r&&r.indexOf(",")<0&&(t=r),t in QB&&t!==mq&&(e._gsap.x||Dq(e,"x"))?n&&GB===n?"scale"===t?hq:uq:(GB=n||{})&&("scale"===t?dq:fq):e.style&&!HU(e.style[t])?cq:~t.indexOf("-")?lq:gB(e,t)},core:{_removeProperty:Aq,_getMatrix:Gq}};jB.utils.checkPrefix=Eq,jB.core.getStyleSaver=bq,function(e,t,n,r){var i=xz(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){QB[e]=1}));xz(t,(function(e){RU.units[e]="deg",Vq[e]=1})),tq[i[13]]=e+","+t,xz("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");tq[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),xz("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){RU.units[e]="px"})),jB.registerPlugin(iG);var oG=jB.registerPlugin(iG)||jB;oG.core.Tween;let sG="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,aG=e=>e&&!Array.isArray(e)&&"object"===typeof e,cG=[],lG={},uG=oG;const hG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cG,n=lG;aG(e)?(n=e,e=null,t="dependencies"in n?n.dependencies:cG):aG(t)&&(n=t,t="dependencies"in n?n.dependencies:cG);let{scope:r,revertOnUpdate:i}=n,[s,a]=(0,o.useState)(!1);e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const c=uG.context((()=>{}),r),l=()=>c.revert(),u=t&&t.length&&!i;return sG((()=>{if(e&&c.add(e,r),!u||!s)return l}),t),u&&sG((()=>(a(!0),l)),cG),{context:c,contextSafe:e=>c.add(null,e)}};function dG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}hG.register=e=>{uG=e},hG.headless=!0;var fG,pG,mG,gG,vG,yG,bG,wG,_G,TG,EG,SG,kG,IG=function(){return fG||"undefined"!==typeof window&&(fG=window.gsap)&&fG.registerPlugin&&fG},xG=1,CG=[],AG=[],NG=[],OG=Date.now,PG=function(e,t){return t},RG=function(e,t){return~NG.indexOf(e)&&NG[NG.indexOf(e)+1][t]},DG=function(e){return!!~TG.indexOf(e)},LG=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},MG=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},FG="scrollLeft",jG="scrollTop",UG=function(){return EG&&EG.isPressed||AG.cache++},zG=function(e,t){var n=function n(r){if(r||0===r){xG&&(mG.history.scrollRestoration="manual");var i=EG&&EG.isPressed;r=n.v=Math.round(r)||(EG&&EG.iOS?1:0),e(r),n.cacheID=AG.cache,i&&PG("ss",r)}else(t||AG.cache!==n.cacheID||PG("ref"))&&(n.cacheID=AG.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},VG={s:FG,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zG((function(e){return arguments.length?mG.scrollTo(e,BG.sc()):mG.pageXOffset||gG[FG]||vG[FG]||yG[FG]||0}))},BG={s:jG,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:VG,sc:zG((function(e){return arguments.length?mG.scrollTo(VG.sc(),e):mG.pageYOffset||gG[jG]||vG[jG]||yG[jG]||0}))},qG=function(e,t){return(t&&t._ctx&&t._ctx.selector||fG.utils.toArray)(e)[0]||("string"===typeof e&&!1!==fG.config().nullTargetWarn?console.warn("Element not found:",e):null)},GG=function(e,t){var n=t.s,r=t.sc;DG(e)&&(e=gG.scrollingElement||vG);var i=AG.indexOf(e),o=r===BG.sc?1:2;!~i&&(i=AG.push(e)-1),AG[i+o]||LG(e,"scroll",UG);var s=AG[i+o],a=s||(AG[i+o]=zG(RG(e,n),!0)||(DG(e)?r:zG((function(t){return arguments.length?e[n]=t:e[n]}))));return a.target=e,s||(a.smooth="smooth"===fG.getProperty(e,"scrollBehavior")),a},KG=function(e,t,n){var r=e,i=e,o=OG(),s=o,a=t||50,c=Math.max(500,3*a),l=function(e,t){var c=OG();t||c-o>a?(i=r,r=e,s=o,o=c):n?r+=e:r=i+(e-i)/(c-s)*(o-s)};return{update:l,reset:function(){i=r=n?0:r,s=o=0},getVelocity:function(e){var t=s,a=i,u=OG();return(e||0===e)&&e!==r&&l(e),o===s||u-s>c?0:(r+(n?a:-a))/((n?u:o)-t)*1e3}}},HG=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},WG=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},QG=function(){(_G=fG.core.globals().ScrollTrigger)&&_G.core&&function(){var e=_G.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,AG),r.push.apply(r,NG),AG=n,NG=r,PG=function(e,n){return t[e](n)}}()},YG=function(e){return fG=e||IG(),!pG&&fG&&"undefined"!==typeof document&&document.body&&(mG=window,gG=document,vG=gG.documentElement,yG=gG.body,TG=[mG,gG,vG,yG],fG.utils.clamp,kG=fG.core.context||function(){},wG="onpointerenter"in yG?"pointer":"mouse",bG=XG.isTouch=mG.matchMedia&&mG.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in mG||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,SG=XG.eventTypes=("ontouchstart"in vG?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in vG?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return xG=0}),500),QG(),pG=1),pG};VG.op=BG,AG.cache=0;var XG=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){pG||YG(fG)||console.warn("Please gsap.registerPlugin(Observer)"),_G||QG();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,o=e.lineHeight,s=e.debounce,a=e.preventDefault,c=e.onStop,l=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,b=e.onLeft,w=e.onUp,_=e.onDown,T=e.onChangeX,E=e.onChangeY,S=e.onChange,k=e.onToggleX,I=e.onToggleY,x=e.onHover,C=e.onHoverEnd,A=e.onMove,N=e.ignoreCheck,O=e.isNormalizer,P=e.onGestureStart,R=e.onGestureEnd,D=e.onWheel,L=e.onEnable,M=e.onDisable,F=e.onClick,j=e.scrollSpeed,U=e.capture,z=e.allowClicks,V=e.lockAxis,B=e.onLockAxis;this.target=i=qG(i)||vG,this.vars=e,u&&(u=fG.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,j=j||1,r=r||"wheel,touch,pointer",s=!1!==s,o||(o=parseFloat(mG.getComputedStyle(yG).lineHeight)||22);var q,G,K,H,W,Q,Y,X=this,$=0,J=0,Z=e.passive||!a,ee=GG(i,VG),te=GG(i,BG),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===SG[0],oe=DG(i),se=i.ownerDocument||gG,ae=[0,0,0],ce=[0,0,0],le=0,ue=function(){return le=OG()},he=function(e,t){return(X.event=e)&&u&&~u.indexOf(e.target)||t&&ie&&"touch"!==e.pointerType||N&&N(e,t)},de=function(){var e=X.deltaX=WG(ae),n=X.deltaY=WG(ce),r=Math.abs(e)>=t,i=Math.abs(n)>=t;S&&(r||i)&&S(X,e,n,ae,ce),r&&(y&&X.deltaX>0&&y(X),b&&X.deltaX<0&&b(X),T&&T(X),k&&X.deltaX<0!==$<0&&k(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(_&&X.deltaY>0&&_(X),w&&X.deltaY<0&&w(X),E&&E(X),I&&X.deltaY<0!==J<0&&I(X),J=X.deltaY,ce[0]=ce[1]=ce[2]=0),(H||K)&&(A&&A(X),K&&(m(X),K=!1),H=!1),Q&&!(Q=!1)&&B&&B(X),W&&(D(X),W=!1),q=0},fe=function(e,t,n){ae[n]+=e,ce[n]+=t,X._vx.update(e),X._vy.update(t),s?q||(q=requestAnimationFrame(de)):de()},pe=function(e,t){V&&!Y&&(X.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",Q=!0),"y"!==Y&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Y&&(ce[2]+=t,X._vy.update(t,!0)),s?q||(q=requestAnimationFrame(de)):de()},me=function(e){if(!he(e,1)){var t=(e=HG(e,a)).clientX,r=e.clientY,i=t-X.x,o=r-X.y,s=X.isDragging;X.x=t,X.y=r,(s||Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n)&&(m&&(K=!0),s||(X.isDragging=!0),pe(i,o),s||f&&f(X))}},ge=X.onPress=function(e){he(e,1)||e&&e.button||(X.axis=Y=null,G.pause(),X.isPressed=!0,e=HG(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),LG(O?i:se,SG[1],me,Z,!0),X.deltaX=X.deltaY=0,g&&g(X))},ve=X.onRelease=function(e){if(!he(e,1)){MG(O?i:se,SG[1],me,!0);var t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),o=HG(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&z&&fG.delayedCall(.08,(function(){if(OG()-le>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(se.createEvent){var t=se.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,mG,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),X.isDragging=X.isGesturing=X.isPressed=!1,c&&n&&!O&&G.restart(!0),p&&n&&p(X),v&&v(X,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&P(e,X.isDragging)},be=function(){return(X.isGesturing=!1)||R(X)},we=function(e){if(!he(e)){var t=ee(),n=te();fe((t-ne)*j,(n-re)*j,1),ne=t,re=n,c&&G.restart(!0)}},_e=function(e){if(!he(e)){e=HG(e,a),D&&(W=!0);var t=(1===e.deltaMode?o:2===e.deltaMode?mG.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),c&&!O&&G.restart(!0)}},Te=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,H=!0,c&&G.restart(!0),(r||i)&&pe(r,i)}},Ee=function(e){X.event=e,x(X)},Se=function(e){X.event=e,C(X)},ke=function(e){return he(e)||HG(e,a)&&F(X)};G=X._dc=fG.delayedCall(l||.25,(function(){X._vx.reset(),X._vy.reset(),G.pause(),c&&c(X)})).pause(),X.deltaX=X.deltaY=0,X._vx=KG(0,50,!0),X._vy=KG(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,kG(this),X.enable=function(e){return X.isEnabled||(LG(oe?se:i,"scroll",UG),r.indexOf("scroll")>=0&&LG(oe?se:i,"scroll",we,Z,U),r.indexOf("wheel")>=0&&LG(i,"wheel",_e,Z,U),(r.indexOf("touch")>=0&&bG||r.indexOf("pointer")>=0)&&(LG(i,SG[0],ge,Z,U),LG(se,SG[2],ve),LG(se,SG[3],ve),z&&LG(i,"click",ue,!0,!0),F&&LG(i,"click",ke),P&&LG(se,"gesturestart",ye),R&&LG(se,"gestureend",be),x&&LG(i,wG+"enter",Ee),C&&LG(i,wG+"leave",Se),A&&LG(i,wG+"move",Te)),X.isEnabled=!0,e&&e.type&&ge(e),L&&L(X)),X},X.disable=function(){X.isEnabled&&(CG.filter((function(e){return e!==X&&DG(e.target)})).length||MG(oe?se:i,"scroll",UG),X.isPressed&&(X._vx.reset(),X._vy.reset(),MG(O?i:se,SG[1],me,!0)),MG(oe?se:i,"scroll",we,U),MG(i,"wheel",_e,U),MG(i,SG[0],ge,U),MG(se,SG[2],ve),MG(se,SG[3],ve),MG(i,"click",ue,!0),MG(i,"click",ke),MG(se,"gesturestart",ye),MG(se,"gestureend",be),MG(i,wG+"enter",Ee),MG(i,wG+"leave",Se),MG(i,wG+"move",Te),X.isEnabled=X.isPressed=X.isDragging=!1,M&&M(X))},X.kill=X.revert=function(){X.disable();var e=CG.indexOf(X);e>=0&&CG.splice(e,1),EG===X&&(EG=0)},CG.push(X),O&&DG(i)&&(EG=X),X.enable(d)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&dG(t.prototype,n),r&&dG(t,r),e}();XG.version="3.12.5",XG.create=function(e){return new XG(e)},XG.register=YG,XG.getAll=function(){return CG.slice()},XG.getById=function(e){return CG.filter((function(t){return t.vars.id===e}))[0]},IG()&&fG.registerPlugin(XG);var $G,JG,ZG,eK,tK,nK,rK,iK,oK,sK,aK,cK,lK,uK,hK,dK,fK,pK,mK,gK,vK,yK,bK,wK,_K,TK,EK,SK,kK,IK,xK,CK,AK,NK,OK,PK,RK,DK,LK=1,MK=Date.now,FK=MK(),jK=0,UK=0,zK=function(e,t,n){var r=eH(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},VK=function(e,t){return!t||eH(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},BK=function e(){return UK&&requestAnimationFrame(e)},qK=function(){return uK=1},GK=function(){return uK=0},KK=function(e){return e},HK=function(e){return Math.round(1e5*e)/1e5||0},WK=function(){return"undefined"!==typeof window},QK=function(){return $G||WK()&&($G=window.gsap)&&$G.registerPlugin&&$G},YK=function(e){return!!~rK.indexOf(e)},XK=function(e){return("Height"===e?xK:ZG["inner"+e])||tK["client"+e]||nK["client"+e]},$K=function(e){return RG(e,"getBoundingClientRect")||(YK(e)?function(){return uW.width=ZG.innerWidth,uW.height=xK,uW}:function(){return EH(e)})},JK=function(e,t){var n=t.s,r=t.d2,i=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=RG(e,n))?o()-$K(e)()[i]:YK(e)?(tK[n]||nK[n])-XK(r):e[n]-e["offset"+r])},ZK=function(e,t){for(var n=0;n<mK.length;n+=3)(!t||~t.indexOf(mK[n+1]))&&e(mK[n],mK[n+1],mK[n+2])},eH=function(e){return"string"===typeof e},tH=function(e){return"function"===typeof e},nH=function(e){return"number"===typeof e},rH=function(e){return"object"===typeof e},iH=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},oH=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add((function(){return t(e)})):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},sH=Math.abs,aH="left",cH="right",lH="bottom",uH="width",hH="height",dH="Right",fH="Left",pH="Top",mH="Bottom",gH="padding",vH="margin",yH="Width",bH="Height",wH="px",_H=function(e){return ZG.getComputedStyle(e)},TH=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},EH=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==_H(e)[hK]&&$G.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},SH=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},kH=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},IH=function(e){var t=$G.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var o;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=i;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=t(n);return!r||Math.abs(o-n)<i||o-n<0===r<0?o:t(r<0?n-e:n+e)}},xH=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},CH=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},AH=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},NH=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},OH={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},PH={toggleActions:"play",anticipatePin:0},RH={top:0,left:0,center:.5,bottom:1,right:1},DH=function(e,t){if(eH(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in RH?RH[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},LH=function(e,t,n,r,i,o,s,a){var c=i.startColor,l=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=eK.createElement("div"),p=YK(n)||"fixed"===RG(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?nK:n,v=-1!==e.indexOf("start"),y=v?c:l,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(b+=(r===BG?cH:lH)+":"+(o+parseFloat(h))+"px;"),s&&(b+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=b,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],MH(f,0,r,v),f},MH=function(e,t,n,r){var i={display:"block"},o=n[r?"os2":"p2"],s=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+yH]=1,i["border"+s+yH]=0,i[n.p]=t+"px",$G.set(e,i)},FH=[],jH={},UH=function(){return MK()-jK>34&&(OK||(OK=requestAnimationFrame(rW)))},zH=function(){(!bK||!bK.isPressed||bK.startX>nK.clientWidth)&&(AG.cache++,bK?OK||(OK=requestAnimationFrame(rW)):rW(),jK||HH("scrollStart"),jK=MK())},VH=function(){TK=ZG.innerWidth,_K=ZG.innerHeight},BH=function(){AG.cache++,!lK&&!yK&&!eK.fullscreenElement&&!eK.webkitFullscreenElement&&(!wK||TK!==ZG.innerWidth||Math.abs(ZG.innerHeight-_K)>.25*ZG.innerHeight)&&iK.restart(!0)},qH={},GH=[],KH=function e(){return AH(vW,"scrollEnd",e)||eW(!0)},HH=function(e){return qH[e]&&qH[e].map((function(e){return e()}))||GH},WH=[],QH=function(e){for(var t=0;t<WH.length;t+=5)(!e||WH[t+4]&&WH[t+4].query===e)&&(WH[t].style.cssText=WH[t+1],WH[t].getBBox&&WH[t].setAttribute("transform",WH[t+2]||""),WH[t+3].uncache=1)},YH=function(e,t){var n;for(dK=0;dK<FH.length;dK++)!(n=FH[dK])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));CK=!0,t&&QH(t),t||HH("revert")},XH=function(e,t){AG.cache++,(t||!PK)&&AG.forEach((function(e){return tH(e)&&e.cacheID++&&(e.rec=0)})),eH(e)&&(ZG.history.scrollRestoration=kK=e)},$H=0,JH=function(){nK.appendChild(IK),xK=!bK&&IK.offsetHeight||ZG.innerHeight,nK.removeChild(IK)},ZH=function(e){return oK(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},eW=function(e,t){if(!jK||e||CK){JH(),PK=vW.isRefreshing=!0,AG.forEach((function(e){return tH(e)&&++e.cacheID&&(e.rec=e())}));var n=HH("refreshInit");gK&&vW.sort(),t||YH(),AG.forEach((function(e){tH(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),FH.slice(0).forEach((function(e){return e.refresh()})),CK=!1,FH.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),AK=1,ZH(!0),FH.forEach((function(e){var t=JK(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),ZH(!1),AK=0,n.forEach((function(e){return e&&e.render&&e.render(-1)})),AG.forEach((function(e){tH(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),XH(kK,1),iK.pause(),$H++,PK=2,rW(2),FH.forEach((function(e){return tH(e.vars.onRefresh)&&e.vars.onRefresh(e)})),PK=vW.isRefreshing=!1,HH("refresh")}else CH(vW,"scrollEnd",KH)},tW=0,nW=1,rW=function(e){if(2===e||!PK&&!CK){vW.isUpdating=!0,DK&&DK.update(0);var t=FH.length,n=MK(),r=n-FK>=50,i=t&&FH[0].scroll();if(nW=tW>i?-1:1,PK||(tW=i),r&&(jK&&!uK&&n-jK>200&&(jK=0,HH("scrollEnd")),aK=FK,FK=n),nW<0){for(dK=t;dK-- >0;)FH[dK]&&FH[dK].update(0,r);nW=1}else for(dK=0;dK<t;dK++)FH[dK]&&FH[dK].update(0,r);vW.isUpdating=!1}OK=0},iW=[aH,"top",lH,cH,vH+mH,vH+dH,vH+pH,vH+fH,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],oW=iW.concat([uH,hH,"boxSizing","max"+yH,"max"+bH,"position",vH,gH,gH+pH,gH+dH,gH+mH,gH+fH]),sW=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,o=iW.length,s=t.style,a=e.style;o--;)s[i=iW[o]]=n[i];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a[lH]=a[cH]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[uH]=SH(e,VG)+wH,s[hH]=SH(e,BG)+wH,s[gH]=a[vH]=a.top=a[aH]="0",cW(r),a[uH]=a["max"+yH]=n[uH],a[hH]=a["max"+bH]=n[hH],a[gH]=n[gH],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},aW=/([A-Z])/g,cW=function(e){if(e){var t,n,r=e.t.style,i=e.length,o=0;for((e.t._gsap||$G.core.getCache(e.t)).uncache=1;o<i;o+=2)n=e[o+1],t=e[o],n?r[t]=n:r[t]&&r.removeProperty(t.replace(aW,"-$1").toLowerCase())}},lW=function(e){for(var t=oW.length,n=e.style,r=[],i=0;i<t;i++)r.push(oW[i],n[oW[i]]);return r.t=e,r},uW={left:0,top:0},hW=function(e,t,n,r,i,o,s,a,c,l,u,h,d,f){tH(e)&&(e=e(a)),eH(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?DH("0"+e.substr(3),n):0));var p,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),nH(e))d&&(e=$G.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),s&&MH(s,n,r,!0);else{tH(t)&&(t=t(a));var y,b,w,_,T=(e||"0").split(" ");g=qG(t,a)||nK,(y=EH(g)||{})&&(y.left||y.top)||"none"!==_H(g).display||(_=g.style.display,g.style.display="block",y=EH(g),_?g.style.display=_:g.style.removeProperty("display")),b=DH(T[0],y[r.d]),w=DH(T[1]||"0",n),e=y[r.p]-c[r.p]-l+b+i-w,s&&MH(s,w,r,n-w<20||s._isStart&&w>20),n-=n-w}if(f&&(a[f]=e||-.001,e<0&&(e=0)),o){var E=e+n,S=o._isStart;p="scroll"+r.d2,MH(o,E,r,S&&E>20||!S&&(u?Math.max(nK[p],tK[p]):o.parentNode[p])<=E+1),u&&(c=EH(s),u&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+wH))}return d&&g&&(p=EH(g),d.seek(h),m=EH(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},dW=/(webkit|moz|length|cssText|inset)/i,fW=function(e,t,n,r){if(e.parentNode!==t){var i,o,s=e.style;if(t===nK){for(i in e._stOrig=s.cssText,o=_H(e))+i||dW.test(i)||!o[i]||"string"!==typeof s[i]||"0"===i||(s[i]=o[i]);s.top=n,s.left=r}else s.cssText=e._stOrig;$G.core.getCache(e).uncache=1,t.appendChild(e)}},pW=function(e,t,n){var r=t,i=r;return function(t){var o=Math.round(e());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(t=o,n&&n()),i=r,r=t,t}},mW=function(e,t,n){var r={};r[t.p]="+="+n,$G.set(e,r)},gW=function(e,t){var n=GG(e,t),r="_scroll"+t.p2,i=function t(i,o,s,a,c){var l=t.tween,u=o.onComplete,h={};s=s||n();var d=pW(n,s,(function(){l.kill(),t.tween=0}));return c=a&&c||0,a=a||i-s,l&&l.kill(),o[r]=i,o.inherit=!1,o.modifiers=h,h[r]=function(){return d(s+a*l.ratio+c*l.ratio*l.ratio)},o.onUpdate=function(){AG.cache++,t.tween&&rW()},o.onComplete=function(){t.tween=0,u&&u.call(l)},l=t.tween=$G.to(e,o)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},CH(e,"wheel",n.wheelHandler),vW.isTouch&&CH(e,"touchmove",n.wheelHandler),i},vW=function(){function e(t,n){JG||e.register($G)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),SK(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),UK){var r,i,o,s,a,c,l,u,h,d,f,p,m,g,v,y,b,w,_,T,E,S,k,I,x,C,A,N,O,P,R,D,L,M,F,j,U,z,V,B,q=t=TH(eH(t)||nH(t)||t.nodeType?{trigger:t}:t,PH),G=q.onUpdate,K=q.toggleClass,H=q.id,W=q.onToggle,Q=q.onRefresh,Y=q.scrub,X=q.trigger,$=q.pin,J=q.pinSpacing,Z=q.invalidateOnRefresh,ee=q.anticipatePin,te=q.onScrubComplete,ne=q.onSnapComplete,re=q.once,ie=q.snap,oe=q.pinReparent,se=q.pinSpacer,ae=q.containerAnimation,ce=q.fastScrollEnd,le=q.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?VG:BG,he=!Y&&0!==Y,de=qG(t.scroller||ZG),fe=$G.core.getCache(de),pe=YK(de),me="fixed"===("pinType"in t?t.pinType:RG(de,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=he&&t.toggleActions.split(" "),ye="markers"in t?t.markers:PH.markers,be=pe?0:parseFloat(_H(de)["border"+ue.p2+yH])||0,we=this,_e=t.onRefreshInit&&function(){return t.onRefreshInit(we)},Te=function(e,t,n){var r=n.d,i=n.d2,o=n.a;return(o=RG(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?XK(i):e["client"+i])||0}}(de,pe,ue),Ee=function(e,t){return!t||~NG.indexOf(e)?$K(e):function(){return uW}}(de,pe),Se=0,ke=0,Ie=0,xe=GG(de,ue);if(we._startClamp=we._endClamp=!1,we._dir=ue,ee*=45,we.scroller=de,we.scroll=ae?ae.time.bind(ae):xe,s=xe(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(gK=1,-9999===t.refreshPriority&&(DK=we)),fe.tweenScroll=fe.tweenScroll||{top:gW(de,BG),left:gW(de,VG)},we.tweenTo=r=fe.tweenScroll[ue.p],we.scrubDuration=function(e){(L=nH(e)&&e)?D?D.duration(e):D=$G.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:L,paused:!0,onComplete:function(){return te&&te(we)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Y),P=0,H||(H=n.vars.id)),ie&&(rH(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in nK.style&&$G.set(pe?[nK,tK]:de,{scrollBehavior:"auto"}),AG.forEach((function(e){return tH(e)&&e.target===(pe?eK.scrollingElement||tK:de)&&(e.smooth=!1)})),o=tH(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return $G.utils.snap(kH(e),t)}}(n):"labelsDirectional"===ie.snapTo?(B=n,function(e,t){return IH(kH(B))(e,t.direction)}):!1!==ie.directional?function(e,t){return IH(ie.snapTo)(e,MK()-ke<500?0:t.direction)}:$G.utils.snap(ie.snapTo),M=ie.duration||{min:.1,max:2},M=rH(M)?sK(M.min,M.max):sK(M,M),F=$G.delayedCall(ie.delay||L/2||.1,(function(){var e=xe(),t=MK()-ke<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||uK||Se===e)we.isActive&&Se!==e&&F.restart(!0);else{var s,a,u=(e-c)/g,h=n&&!he?n.totalProgress():u,d=t?0:(h-R)/(MK()-aK)*1e3||0,f=$G.utils.clamp(-u,1-u,sH(d/2)*d/.185),p=u+(!1===ie.inertia?0:f),m=ie,v=m.onStart,y=m.onInterrupt,b=m.onComplete;if(s=o(p,we),nH(s)||(s=p),a=Math.round(c+s*g),e<=l&&e>=c&&a!==e){if(i&&!i._initted&&i.data<=sH(a-e))return;!1===ie.inertia&&(f=s-u),r(a,{duration:M(sH(.185*Math.max(sH(p-h),sH(s-h))/d/.05||0)),ease:ie.ease||"power3",data:sH(a-e),onInterrupt:function(){return F.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Se=xe(),n&&(D?D.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),P=R=n&&!he?n.totalProgress():we.progress,ne&&ne(we),b&&b(we)}},e,f*g,a-e-f*g),v&&v(we,r.tween)}}})).pause()),H&&(jH[H]=we),(V=(X=we.trigger=qG(X||!0!==$&&$))&&X._gsap&&X._gsap.stRevert)&&(V=V(we)),$=!0===$?X:qG($),eH(K)&&(K={targets:X,className:K}),$&&(!1===J||J===vH||(J=!(!J&&$.parentNode&&$.parentNode.style&&"flex"===_H($.parentNode).display)&&gH),we.pin=$,(i=$G.core.getCache($)).spacer?v=i.pinState:(se&&((se=qG(se))&&!se.nodeType&&(se=se.current||se.nativeElement),i.spacerIsNative=!!se,se&&(i.spacerState=lW(se))),i.spacer=w=se||eK.createElement("div"),w.classList.add("pin-spacer"),H&&w.classList.add("pin-spacer-"+H),i.pinState=v=lW($)),!1!==t.force3D&&$G.set($,{force3D:!0}),we.spacer=w=i.spacer,O=_H($),I=O[J+ue.os2],T=$G.getProperty($),E=$G.quickSetter($,ue.a,wH),sW($,w,O),b=lW($)),ye){p=rH(ye)?TH(ye,OH):OH,d=LH("scroller-start",H,de,ue,p,0),f=LH("scroller-end",H,de,ue,p,0,d),_=d["offset"+ue.op.d2];var Ce=qG(RG(de,"content")||de);u=this.markerStart=LH("start",H,Ce,ue,p,_,0,ae),h=this.markerEnd=LH("end",H,Ce,ue,p,_,0,ae),ae&&(z=$G.quickSetter([u,h],ue.a,wH)),me||NG.length&&!0===RG(de,"fixedMarkers")||(!function(e){var t=_H(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?nK:de),$G.set([d,f],{force3D:!0}),C=$G.quickSetter(d,ue.a,wH),N=$G.quickSetter(f,ue.a,wH))}if(ae){var Ae=ae.vars.onUpdate,Ne=ae.vars.onUpdateParams;ae.eventCallback("onUpdate",(function(){we.update(0,0,1),Ae&&Ae.apply(ae,Ne||[])}))}if(we.previous=function(){return FH[FH.indexOf(we)-1]},we.next=function(){return FH[FH.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=lK;r!==we.isReverted&&(r&&(j=Math.max(xe(),we.scroll.rec||0),Ie=we.progress,U=n&&n.progress()),u&&[u,h,d,f].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(lK=we,we.update(r)),!$||oe&&we.isActive||(r?function(e,t,n){cW(n);var r=e._gsap;if(r.spacerIsNative)cW(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}($,w,v):sW($,w,_H($),x)),r||we.update(r),lK=i,we.isReverted=r)},we.refresh=function(i,o,p,_){if(!lK&&we.enabled||o)if($&&i&&jK)CH(e,"scrollEnd",KH);else{!PK&&_e&&_e(we),lK=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),Z&&n&&n.revert({kill:!1}).invalidate(),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var E,I,C,N,O,P,R,L,M,z,V,B,q,G=Te(),K=Ee(),H=ae?ae.duration():JK(de,ue),W=g<=.01,Y=0,ee=_||0,te=rH(p)?p.end:t.end,ne=t.endTrigger||X,re=rH(p)?p.start:t.start||(0!==t.start&&X?$?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&qG(t.pinnedContainer,we),se=X&&Math.max(0,FH.indexOf(we))||0,ce=se;for(ye&&rH(p)&&(B=$G.getProperty(d,ue.p),q=$G.getProperty(f,ue.p));ce--;)(P=FH[ce]).end||P.refresh(0,1)||(lK=we),!(R=P.pin)||R!==X&&R!==$&&R!==ie||P.isReverted||(z||(z=[]),z.unshift(P),P.revert(!0,!0)),P!==FH[ce]&&(se--,ce--);for(tH(re)&&(re=re(we)),re=zK(re,"start",we),c=hW(re,X,G,ue,xe(),u,d,we,K,be,me,H,ae,we._startClamp&&"_startClamp")||($?-.001:0),tH(te)&&(te=te(we)),eH(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(eH(re)?re.split(" ")[0]:"")+te:(Y=DH(te.substr(2),G),te=eH(re)?re:(ae?$G.utils.mapRange(0,ae.duration(),ae.scrollTrigger.start,ae.scrollTrigger.end,c):c)+Y,ne=X)),te=zK(te,"end",we),l=Math.max(c,hW(te||(ne?"100% 0":H),ne,G,ue,xe()+Y,h,f,we,K,be,me,H,ae,we._endClamp&&"_endClamp"))||-.001,Y=0,ce=se;ce--;)(R=(P=FH[ce]).pin)&&P.start-P._pinPush<=c&&!ae&&P.end>0&&(E=P.end-(we._startClamp?Math.max(0,P.start):P.start),(R===X&&P.start-P._pinPush<c||R===ie)&&isNaN(re)&&(Y+=E*(1-P.progress)),R===$&&(ee+=E));if(c+=Y,l+=Y,we._startClamp&&(we._startClamp+=Y),we._endClamp&&!PK&&(we._endClamp=l||-.001,l=Math.min(l,JK(de,ue))),g=l-c||(c-=.01)&&.001,W&&(Ie=$G.utils.clamp(0,1,$G.utils.normalize(c,l,j))),we._pinPush=ee,u&&Y&&((E={})[ue.a]="+="+Y,ie&&(E[ue.p]="-="+xe()),$G.set([u,h],E)),!$||AK&&we.end>=JK(de,ue)){if(X&&xe()&&!ae)for(I=X.parentNode;I&&I!==nK;)I._pinOffset&&(c-=I._pinOffset,l-=I._pinOffset),I=I.parentNode}else E=_H($),N=ue===BG,C=xe(),S=parseFloat(T(ue.a))+ee,!H&&l>1&&(V={style:V=(pe?eK.scrollingElement||tK:de).style,value:V["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==_H(nK)["overflow"+ue.a.toUpperCase()]&&(V.style["overflow"+ue.a.toUpperCase()]="scroll")),sW($,w,E),b=lW($),I=EH($,!0),L=me&&GG(de,N?VG:BG)(),J?((x=[J+ue.os2,g+ee+wH]).t=w,(ce=J===gH?SH($,ue)+g+ee:0)&&(x.push(ue.d,ce+wH),"auto"!==w.style.flexBasis&&(w.style.flexBasis=ce+wH)),cW(x),ie&&FH.forEach((function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),me&&xe(j)):(ce=SH($,ue))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=ce+wH),me&&((O={top:I.top+(N?C-c:L)+wH,left:I.left+(N?L:C-c)+wH,boxSizing:"border-box",position:"fixed"})[uH]=O["max"+yH]=Math.ceil(I.width)+wH,O[hH]=O["max"+bH]=Math.ceil(I.height)+wH,O[vH]=O[vH+pH]=O[vH+dH]=O[vH+mH]=O[vH+fH]="0",O[gH]=E[gH],O[gH+pH]=E[gH+pH],O[gH+dH]=E[gH+dH],O[gH+mH]=E[gH+mH],O[gH+fH]=E[gH+fH],y=function(e,t,n){for(var r,i=[],o=e.length,s=n?8:0;s<o;s+=2)r=e[s],i.push(r,r in t?t[r]:e[s+1]);return i.t=e.t,i}(v,O,oe),PK&&xe(0)),n?(M=n._initted,vK(1),n.render(n.duration(),!0,!0),k=T(ue.a)-S+g+ee,A=Math.abs(g-k)>1,me&&A&&y.splice(y.length-2,2),n.render(0,!0,!0),M||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),vK(0)):k=g,V&&(V.value?V.style["overflow"+ue.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+ue.a));z&&z.forEach((function(e){return e.revert(!1,!0)})),we.start=c,we.end=l,s=a=PK?j:xe(),ae||PK||(s<j&&xe(j),we.scroll.rec=0),we.revert(!1,!0),ke=MK(),F&&(Se=-1,F.restart(!0)),lK=0,n&&he&&(n._initted||U)&&n.progress()!==U&&n.progress(U||0,!0).render(n.time(),!0,!0),(W||Ie!==we.progress||ae||Z)&&(n&&!he&&n.totalProgress(ae&&c<-.001&&!Ie?$G.utils.normalize(c,l,0):Ie,!0),we.progress=W||(s-c)/g===Ie?0:Ie),$&&J&&(w._pinOffset=Math.round(we.progress*k)),D&&D.invalidate(),isNaN(B)||(B-=$G.getProperty(d,ue.p),q-=$G.getProperty(f,ue.p),mW(d,ue,B),mW(u,ue,B-(_||0)),mW(f,ue,q),mW(h,ue,q-(_||0))),W&&!PK&&we.update(),!Q||PK||m||(m=!0,Q(we),m=!1)}},we.getVelocity=function(){return(xe()-a)/(MK()-aK)*1e3||0},we.endAnimation=function(){iH(we.callbackAnimation),n&&(D?D.progress(1):n.paused()?he||iH(n,we.direction<0,1):iH(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(c||we.refresh()||c)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=FH.indexOf(we),n=we.direction>0?FH.slice(0,t).reverse():FH.slice(t+1);return(eH(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return we.direction>0?e.end<=c:e.start>=l}))},we.update=function(e,t,i){if(!ae||i||e){var o,u,h,f,p,m,v,_=!0===PK?j:we.scroll(),T=e?0:(_-c)/g,x=T<0?0:T>1?1:T||0,O=we.progress;if(t&&(a=s,s=ae?xe():_,ie&&(R=P,P=n&&!he?n.totalProgress():x)),ee&&$&&!lK&&!LK&&jK&&(!x&&c<_+(_-a)/(MK()-aK)*ee?x=1e-4:1===x&&l>_+(_-a)/(MK()-aK)*ee&&(x=.9999)),x!==O&&we.enabled){if(f=(p=(o=we.isActive=!!x&&x<1)!==(!!O&&O<1))||!!x!==!!O,we.direction=x>O?1:-1,we.progress=x,f&&!lK&&(u=x&&!O?0:1===x?1:1===O?2:3,he&&(h=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===h||"reset"===h||h in n))),le&&(p||v)&&(v||Y||!n)&&(tH(le)?le(we):we.getTrailing(le).forEach((function(e){return e.endAnimation()}))),he||(!D||lK||LK?n&&n.totalProgress(x,!(!lK||!ke&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",x,n._tTime/n._tDur):(D.vars.totalProgress=x,D.invalidate().restart()))),$)if(e&&J&&(w.style[J+ue.os2]=I),me){if(f){if(m=!e&&x>O&&l+1>_&&_+1>=JK(de,ue),oe)if(e||!o&&!m)fW($,w);else{var L=EH($,!0),M=_-c;fW($,nK,L.top+(ue===BG?M:0)+wH,L.left+(ue===BG?0:M)+wH)}cW(o||m?y:b),A&&x<1&&o||E(S+(1!==x||m?0:k))}}else E(HK(S+k*x));ie&&!r.tween&&!lK&&!LK&&F.restart(!0),K&&(p||re&&x&&(x<1||!NK))&&oK(K.targets).forEach((function(e){return e.classList[o||re?"add":"remove"](K.className)})),G&&!he&&!e&&G(we),f&&!lK?(he&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),G&&G(we)),!p&&NK||(W&&p&&oH(we,W),ge[u]&&oH(we,ge[u]),re&&(1===x?we.kill(!1,1):ge[u]=0),p||ge[u=1===x?1:3]&&oH(we,ge[u])),ce&&!o&&Math.abs(we.getVelocity())>(nH(ce)?ce:2500)&&(iH(we.callbackAnimation),D?D.progress(1):iH(n,"reverse"===h?1:!x,1))):he&&G&&!lK&&G(we)}if(N){var U=ae?_/ae.duration()*(ae._caScrollDist||0):_;C(U+(d._isFlipped?1:0)),N(U)}z&&z(-_/ae.duration()*(ae._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,CH(de,"resize",BH),pe||CH(de,"scroll",zH),_e&&CH(e,"refreshInit",_e),!1!==t&&(we.progress=Ie=0,s=a=Se=xe()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:D},we.setPositions=function(e,t,n,r){if(ae){var i=ae.scrollTrigger,o=ae.duration(),s=i.end-i.start;e=i.start+s*e/o,t=i.start+s*t/o}we.refresh(!1,!1,{start:VK(e,n&&!!we._startClamp),end:VK(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(x&&e){var t=x.indexOf(ue.d)+1;x[t]=parseFloat(x[t])+e+wH,x[1]=parseFloat(x[1])+e+wH,cW(x)}},we.disable=function(t,n){if(we.enabled&&(!1!==t&&we.revert(!0,!0),we.enabled=we.isActive=!1,n||D&&D.pause(),j=0,i&&(i.uncache=1),_e&&AH(e,"refreshInit",_e),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var o=FH.length;o--;)if(FH[o].scroller===de&&FH[o]!==we)return;AH(de,"resize",BH),pe||AH(de,"scroll",zH)}},we.kill=function(e,r){we.disable(e,r),D&&!r&&D.kill(),H&&delete jH[H];var o=FH.indexOf(we);o>=0&&FH.splice(o,1),o===dK&&nW>0&&dK--,o=0,FH.forEach((function(e){return e.scroller===we.scroller&&(o=1)})),o||PK||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),DK===we&&(DK=0),$&&(i&&(i.uncache=1),o=0,FH.forEach((function(e){return e.pin===$&&o++})),o||(i.spacer=0)),t.onKill&&t.onKill(we)},FH.push(we),we.enable(!1,!1),V&&V(we),n&&n.add&&!g){var Oe=we.update;we.update=function(){we.update=Oe,c||l||we.refresh()},$G.delayedCall(.01,we.update),g=.01,c=l=0}else we.refresh();$&&function(){if(RK!==$H){var e=RK=$H;requestAnimationFrame((function(){return e===$H&&eW(!0)}))}}()}else this.update=this.refresh=this.kill=KK},e.register=function(t){return JG||($G=t||QK(),WK()&&window.document&&e.enable(),JG=UK),JG},e.defaults=function(e){if(e)for(var t in e)PH[t]=e[t];return PH},e.disable=function(e,t){UK=0,FH.forEach((function(n){return n[t?"kill":"disable"](e)})),AH(ZG,"wheel",zH),AH(eK,"scroll",zH),clearInterval(cK),AH(eK,"touchcancel",KK),AH(nK,"touchstart",KK),xH(AH,eK,"pointerdown,touchstart,mousedown",qK),xH(AH,eK,"pointerup,touchend,mouseup",GK),iK.kill(),ZK(AH);for(var n=0;n<AG.length;n+=3)NH(AH,AG[n],AG[n+1]),NH(AH,AG[n],AG[n+2])},e.enable=function(){if(ZG=window,eK=document,tK=eK.documentElement,nK=eK.body,$G&&(oK=$G.utils.toArray,sK=$G.utils.clamp,SK=$G.core.context||KK,vK=$G.core.suppressOverwrites||KK,kK=ZG.history.scrollRestoration||"auto",tW=ZG.pageYOffset,$G.core.globals("ScrollTrigger",e),nK)){UK=1,(IK=document.createElement("div")).style.height="100vh",IK.style.position="absolute",JH(),BK(),XG.register($G),e.isTouch=XG.isTouch,EK=XG.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),wK=1===XG.isTouch,CH(ZG,"wheel",zH),rK=[ZG,eK,tK,nK],$G.matchMedia?(e.matchMedia=function(e){var t,n=$G.matchMedia();for(t in e)n.add(t,e[t]);return n},$G.addEventListener("matchMediaInit",(function(){return YH()})),$G.addEventListener("matchMediaRevert",(function(){return QH()})),$G.addEventListener("matchMedia",(function(){eW(0,1),HH("matchMedia")})),$G.matchMedia("(orientation: portrait)",(function(){return VH(),VH}))):console.warn("Requires GSAP 3.11.0 or later"),VH(),CH(eK,"scroll",zH);var t,n,r=nK.style,i=r.borderTopStyle,o=$G.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=EH(nK),BG.m=Math.round(t.top+BG.sc())||0,VG.m=Math.round(t.left+VG.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),cK=setInterval(UH,250),$G.delayedCall(.5,(function(){return LK=0})),CH(eK,"touchcancel",KK),CH(nK,"touchstart",KK),xH(CH,eK,"pointerdown,touchstart,mousedown",qK),xH(CH,eK,"pointerup,touchend,mouseup",GK),hK=$G.utils.checkPrefix("transform"),oW.push(hK),JG=MK(),iK=$G.delayedCall(.2,eW).pause(),mK=[eK,"visibilitychange",function(){var e=ZG.innerWidth,t=ZG.innerHeight;eK.hidden?(fK=e,pK=t):fK===e&&pK===t||BH()},eK,"DOMContentLoaded",eW,ZG,"load",eW,ZG,"resize",BH],ZK(CH),FH.forEach((function(e){return e.enable(0,1)})),n=0;n<AG.length;n+=3)NH(AH,AG[n],AG[n+1]),NH(AH,AG[n],AG[n+2])}},e.config=function(t){"limitCallbacks"in t&&(NK=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(cK)||(cK=n)&&setInterval(UH,n),"ignoreMobileResize"in t&&(wK=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(ZK(AH)||ZK(CH,t.autoRefreshEvents||"none"),yK=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=qG(e),r=AG.indexOf(n),i=YK(n);~r&&AG.splice(r,i?6:2),t&&(i?NG.unshift(ZG,t,nK,t,tK,t):NG.unshift(n,t))},e.clearMatchMedia=function(e){FH.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(eH(e)?qG(e):e).getBoundingClientRect(),i=r[n?uH:hH]*t||0;return n?r.right-i>0&&r.left+i<ZG.innerWidth:r.bottom-i>0&&r.top+i<ZG.innerHeight},e.positionInViewport=function(e,t,n){eH(e)&&(e=qG(e));var r=e.getBoundingClientRect(),i=r[n?uH:hH],o=null==t?i/2:t in RH?RH[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+o)/ZG.innerWidth:(r.top+o)/ZG.innerHeight},e.killAll=function(e){if(FH.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=qH.killAll||[];qH={},t.forEach((function(e){return e()}))}},e}();vW.version="3.12.5",vW.saveStyles=function(e){return e?oK(e).forEach((function(e){if(e&&e.style){var t=WH.indexOf(e);t>=0&&WH.splice(t,5),WH.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$G.core.getCache(e),SK())}})):WH},vW.revert=function(e,t){return YH(!e,t)},vW.create=function(e,t){return new vW(e,t)},vW.refresh=function(e){return e?BH():(JG||vW.register())&&eW(!0)},vW.update=function(e){return++AG.cache&&rW(!0===e?2:0)},vW.clearScrollMemory=XH,vW.maxScroll=function(e,t){return JK(e,t?VG:BG)},vW.getScrollFunc=function(e,t){return GG(qG(e),t?VG:BG)},vW.getById=function(e){return jH[e]},vW.getAll=function(){return FH.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},vW.isScrolling=function(){return!!jK},vW.snapDirectional=IH,vW.addEventListener=function(e,t){var n=qH[e]||(qH[e]=[]);~n.indexOf(t)||n.push(t)},vW.removeEventListener=function(e,t){var n=qH[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},vW.batch=function(e,t){var n,r=[],i={},o=t.interval||.016,s=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=$G.delayedCall(o,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),s<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&tH(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return tH(s)&&(s=s(),CH(vW,"refresh",(function(){return s=t.batchMax()}))),oK(e).forEach((function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(vW.create(t))})),r};var yW,bW=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},wW=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(XG.isTouch?" pinch-zoom":""):"none",t===tK&&e(nK,n)},_W={auto:1,scroll:1},TW=function(e){var t,n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||$G.core.getCache(o),a=MK();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==nK&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!_W[(t=_H(o)).overflowY]&&!_W[t.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==r&&!YK(o)&&(_W[(t=_H(o)).overflowY]||_W[t.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},EW=function(e,t,n,r){return XG.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&TW,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&CH(eK,XG.eventTypes[0],kW,!1,!0)},onDisable:function(){return AH(eK,XG.eventTypes[0],kW,!0)}})},SW=/(input|label|select|textarea)/i,kW=function(e){var t=SW.test(e.target.tagName);(t||yW)&&(e._gsapAllow=!0,yW=t)},IW=function(e){rH(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,o,s,a,c,l=e,u=l.normalizeScrollX,h=l.momentum,d=l.allowNestedScroll,f=l.onRelease,p=qG(e.target)||tK,m=$G.core.globals().ScrollSmoother,g=m&&m.get(),v=EK&&(e.content&&qG(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=GG(p,BG),b=GG(p,VG),w=1,_=(XG.isTouch&&ZG.visualViewport?ZG.visualViewport.scale*ZG.visualViewport.width:ZG.outerWidth)/ZG.innerWidth,T=0,E=tH(h)?function(){return h(t)}:function(){return h||2.8},S=EW(p,e.type,!0,d),k=function(){return i=!1},I=KK,x=KK,C=function(){n=JK(p,BG),x=sK(EK?1:0,n),u&&(I=sK(0,JK(p,VG))),r=$H},A=function(){v._gsap.y=HK(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},N=function(){C(),o.isActive()&&o.vars.scrollY>n&&(y()>n?o.progress(1)&&y(n):o.resetTo("scrollY",n))};return v&&$G.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return EK&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(k);var e=HK(t.deltaY/2),n=x(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=HK((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=AG.cache,rW()}return!0}y.offset&&A(),i=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=w;w=HK((ZG.visualViewport&&ZG.visualViewport.scale||1)/_),o.pause(),e!==w&&wW(p,w>1.01||!u&&"x"),s=b(),a=y(),C(),r=$H},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&A(),t){AG.cache++;var r,i,s=E();u&&(i=(r=b())+.05*s*-e.velocityX/.227,s*=bW(b,r,i,JK(p,VG)),o.vars.scrollX=I(i)),i=(r=y())+.05*s*-e.velocityY/.227,s*=bW(y,r,i,JK(p,BG)),o.vars.scrollY=x(i),o.invalidate().duration(s).play(.01),(EK&&o.vars.scrollY>=n||r>=n-1)&&$G.to({},{onUpdate:N,duration:s})}else c.restart(!0);f&&f(e)},e.onWheel=function(){o._ts&&o.pause(),MK()-T>1e3&&(r=0,T=MK())},e.onChange=function(e,t,n,i,o){if($H!==r&&C(),t&&u&&b(I(i[2]===t?s+(e.startX-e.x):b()+t-i[1])),n){y.offset&&A();var c=o[2]===n,l=c?a+e.startY-e.y:y()+n-o[1],h=x(l);c&&l!==h&&(a+=h-l),y(h)}(n||t)&&rW()},e.onEnable=function(){wW(p,!u&&"x"),vW.addEventListener("refresh",N),CH(ZG,"resize",N),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),S.enable()},e.onDisable=function(){wW(p,!0),AH(ZG,"resize",N),vW.removeEventListener("refresh",N),S.kill()},e.lockAxis=!1!==e.lockAxis,(t=new XG(e)).iOS=EK,EK&&!y()&&y(1),EK&&$G.ticker.add(KK),c=t._dc,o=$G.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:pW(y,y(),(function(){return o.pause()}))},onUpdate:rW,onComplete:c.vars.onComplete}),t};vW.sort=function(e){return FH.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},vW.observe=function(e){return new XG(e)},vW.normalizeScroll=function(e){if("undefined"===typeof e)return bK;if(!0===e&&bK)return bK.enable();if(!1===e)return bK&&bK.kill(),void(bK=e);var t=e instanceof XG?e:IW(e);return bK&&bK.target===t.target&&bK.kill(),YK(t.target)&&(bK=t),t},vW.core={_getVelocityProp:KG,_inputObserver:EW,_scrollers:AG,_proxies:NG,bridge:{ss:function(){jK||HH("scrollStart"),jK=MK()},ref:function(){return lK}}},QK()&&$G.registerPlugin(vW);n(6682);const xW=function(){const[e,t]=o.useState([]);o.useEffect((()=>{Bc.firestore().collection("posts_main").get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)}))}),[]);const n=te(),r=()=>{n("/posts")},[i,s]=(0,o.useState)(null);o.useEffect((()=>{Bc.auth().onAuthStateChanged((e=>{s(e),console.log("Header unmounted")}))}),[]);const a=document.querySelector(".burger"),c=document.querySelectorAll(".menu-item p"),l=document.querySelector(".overlay-menu"),u=document.querySelector(".overlay");c.forEach(((e,t)=>{e.style.setProperty("--delay","".concat(.1*t+.4,"s"))})),a&&a.addEventListener("click",(()=>{if(u.classList.toggle("is-active"),l.classList.toggle("is-active"),a.classList.toggle("is-active"),"is-active"===u.classList){oG.timeline().to(".items",.5,{opacity:0,y:40,ease:WB.easeInOut,duration:1})}}));const h=oG.timeline();return hG((()=>{oG.registerPlugin(vW);const e=document.querySelector(".gallery").scrollWidth,t=e-window.innerWidth;console.log(t),console.log(e),h.from(".something",2,{opacity:1,y:40,ease:WB.easeInOut,duration:1}).to(".something",.5,{opacity:0,y:40,ease:WB.easeInOut,duration:1}).staggerFrom(".something_logo",.1,{opacity:0,y:40,ease:WB.easeInOut},.1,"-=0.6").staggerFrom(".main_grid",.4,{opacity:0,x:-80,ease:WB.easeInOut},.1,"-=0.6").to(".gallery",{x:-t,ease:"none",scrollTrigger:{trigger:".galleryWrapper",start:"top top",end:t,pin:!0,scrub:3}})})),(0,DN.jsxs)(lR,{className:"main",children:[(0,DN.jsx)("nav",{className:"logoNav",width:"100%",children:(0,DN.jsxs)(ws,{children:[(0,DN.jsx)(ws.Item,{className:"logo",children:(0,DN.jsx)("svg",{className:"something_logo",width:"400px",height:"50px",children:(0,DN.jsx)("text",{x:"50%",y:"50%",className:"logo__text",children:"Hello, it's CrazzyAmy."})})}),(0,DN.jsx)(ws.Menu,{position:"right",className:"menu menu.menu",children:i?(0,DN.jsxs)(DN.Fragment,{children:[(0,DN.jsx)(ws.Item,{as:Ie,to:"/new-post",children:"\u767c\u8868\u6587\u7ae0"}),(0,DN.jsx)(ws.Item,{as:Ie,to:"/my",children:"\u6703\u54e1"}),(0,DN.jsx)(ws.Item,{onClick:()=>Bc.auth().signOut(),children:"\u767b\u51fa"})]}):(0,DN.jsx)(ws.Item,{as:Ie,to:"/signin",children:"\u8a3b\u518a/\u767b\u5165"})})]})}),(0,DN.jsxs)("div",{className:"something1",children:[(0,DN.jsx)("svg",{className:"something",width:"600px",height:"200px",children:(0,DN.jsx)("text",{x:"50%",y:"50%",className:"logo__text",children:"Hello, it's CrazzyAmy."})}),(0,DN.jsx)(RM,{className:"main_grid",children:(0,DN.jsxs)(RM.Row,{children:[(0,DN.jsx)(RM.Column,{width:3,children:(0,DN.jsx)(aR,{})}),(0,DN.jsx)(RM.Column,{width:13,children:(0,DN.jsx)(YM.Group,{children:e.map(((e,t)=>{var n;return console.log("".concat(t)),(0,DN.jsxs)(YM,{as:Ie,to:"/posts/".concat(e.id),height:"300px",className:"postItem",children:[(0,DN.jsx)(YM.Image,{size:"small",src:e.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png",width:4}),(0,DN.jsxs)(YM.Content,{width:12,children:[(0,DN.jsxs)(YM.Meta,{children:[e.author.photoURL?(0,DN.jsx)(eR,{src:e.author.photoURL}):(0,DN.jsx)(ms,{name:"user circle"}),e.topic,"\uff0c",e.author.displayName||"\u4f7f\u7528\u8005"]}),(0,DN.jsx)(YM.Header,{children:e.title}),(0,DN.jsx)(YM.Description,{className:"postItem_content",children:e.content}),(0,DN.jsxs)(YM.Extra,{children:["\u7559\u8a00 ",e.commentsCount||0,"\uff0c\u8b9a"," ",(null===(n=e.likeBy)||void 0===n?void 0:n.length)||0]})]})]},e.id)}))})})]})})]}),(0,DN.jsx)("div",{className:"galleryWrapper",children:(0,DN.jsxs)("div",{className:"gallery",children:[(0,DN.jsx)("button",{id:"myButton",onClick:()=>{n("/myself")},children:(0,DN.jsx)("h2",{children:"About Me"})}),(0,DN.jsx)("button",{id:"myButton_2",onClick:r,children:(0,DN.jsx)("h2",{children:"React Article"})}),(0,DN.jsx)("button",{id:"myButton_2",onClick:r,children:(0,DN.jsx)("h2",{children:"FOOD"})}),(0,DN.jsx)("button",{id:"myButton_2",onClick:r,children:(0,DN.jsx)("h2",{children:"TRAVEL"})}),(0,DN.jsx)("button",{id:"myButton_2",onClick:r,children:(0,DN.jsx)("h2",{children:"MOVIE"})})]})}),(0,DN.jsx)("div",{className:"something2"}),(0,DN.jsx)("div",{className:"animateme",children:(0,DN.jsxs)("ul",{className:"bg-bubbles",children:[(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{}),(0,DN.jsx)("li",{})]})}),(0,DN.jsx)("script",{src:"https://unpkg.co/gsap@3/dist/gsap.min.js"}),(0,DN.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"}),(0,DN.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollTrigger.min.js"})]})};const CW=function(){return(0,DN.jsxs)(lR,{className:"myself",children:[(0,DN.jsx)(LN,{}),(0,DN.jsxs)("div",{className:"gallery_myself",children:[(0,DN.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/socialcool-93b74.appspot.com/o/post-Images%2Fheadshot.png?alt=media&token=b13910be-cd52-4c0b-999d-3a5a9a0358e0"}),(0,DN.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/socialcool-93b74.appspot.com/o/post-Images%2Fbedminton.jpg?alt=media&token=a59de51f-d487-469c-9e6c-4f2c923d22e7"}),(0,DN.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/socialcool-93b74.appspot.com/o/post-Images%2Fmovie.jpg?alt=media&token=3c3c2c23-e117-49ca-9ba9-1ffebed2197b"}),(0,DN.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/socialcool-93b74.appspot.com/o/post-Images%2Ftravel.jpg?alt=media&token=267d2a21-92b5-42b9-9206-67bad2b58544"})]}),(0,DN.jsxs)("div",{children:[(0,DN.jsx)("h1",{children:"\u95dc\u65bc\u6211"}),(0,DN.jsx)("p",{children:"\u4f60\u597d\uff0c\u6211\u662f CrazzyAmy\uff0c\u9019\u88e1\u6703\u5206\u4eab\u6211React\u7684\u81ea\u5b78\u7b46\u8a18\uff0c\u7136\u5f8c\u6211\u662f\u4e00\u500b\u559c\u6b61\u65c5\u904a\u3001\u96fb\u5f71\u3001\u7fbd\u6bdb\u7403\u7684\u5973\u751f\u3002\u5728\u9019\u88e1\u6211\u6703\u5206\u4eab\u6211\u7684\u751f\u6d3b\u9ede\u6ef4\uff0c\u6b61\u8fce\u4f86\u5230\u6211\u7684\u90e8\u843d\u683c\uff01"}),(0,DN.jsx)("p",{children:"Email: amn82910@gmail.com"}),(0,DN.jsx)("p",{children:"Instagram: @xiannn.0616/(\u8ffd\u5f71\u65e5\u5e38) @yunlovemovie"})]}),(0,DN.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"}),(0,DN.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"}),(0,DN.jsx)("script",{src:"https://fonts.googleapis.com"}),(0,DN.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),(0,DN.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&family=Noto+Serif+SC&display=swap",rel:"stylesheet"})]})};const AW=function(){return(0,DN.jsxs)(DN.Fragment,{children:[(0,DN.jsx)(Ee,{children:(0,DN.jsxs)(ve,{children:[(0,DN.jsx)(me,{path:"/",element:(0,DN.jsx)(xW,{}),exact:!0}),(0,DN.jsx)(me,{path:"/main",element:(0,DN.jsx)(xW,{}),exact:!0}),(0,DN.jsx)(me,{path:"/signin",element:(0,DN.jsx)(xM,{}),exact:!0}),(0,DN.jsx)(me,{path:"/new-post",element:(0,DN.jsx)(Qj,{}),exact:!0}),(0,DN.jsx)(me,{path:"/posts/:postId",element:(0,DN.jsx)(bU,{}),exact:!0}),(0,DN.jsx)(me,{path:"/posts",element:(0,DN.jsx)(XM,{}),exact:!0}),(0,DN.jsx)(me,{path:"/myself",element:(0,DN.jsx)(CW,{}),exact:!0}),(0,DN.jsx)(me,{path:"/my",element:(0,DN.jsxs)(lR,{children:[(0,DN.jsx)(LN,{}),(0,DN.jsx)(RM,{children:(0,DN.jsxs)(RM.Row,{children:[(0,DN.jsx)(RM.Column,{width:3,children:"\u6703\u54e1\u9078\u55ae"}),(0,DN.jsx)(RM.Column,{width:10,children:(0,DN.jsxs)(ve,{children:[(0,DN.jsx)(me,{path:"/my/posts",element:(0,DN.jsx)(CW,{}),exact:!0}),(0,DN.jsx)(me,{path:"/my/collections",element:(0,DN.jsx)(XM,{}),exact:!0}),(0,DN.jsx)(me,{path:"/my/settings",element:(0,DN.jsx)(XM,{}),exact:!0})]})}),(0,DN.jsx)(RM.Column,{width:3})]})})]})})]})}),(0,DN.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css"})]})},NW=document.getElementById("root");i.createRoot(NW).render((0,DN.jsx)(AW,{}))})()})();
//# sourceMappingURL=main.21c4a254.js.map